[
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/development-workflow/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Development Workflow</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide will walk through an opinionated development workflow with Shorebird.\nWe’ll cover how to automate releasing and patching with Shorebird to streamline\nthe entire development process so that you and your team can focus on shipping\nhigh quality features to customers.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/development-workflow/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes you are already familiar with Shorebird and have integrated\nit into your application. Refer to the <a href=\"https://docs.shorebird.dev/\">getting started</a> instructions for\nmore information. In addition, this guide also assumes that you are familiar\nwith <a href=\"https://docs.github.com/actions\">GitHub Actions</a> and\n<a href=\"https://git-scm.com/\">Git</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"overview\">Overview</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/development-workflow/#overview\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird provides a set of tools that you can use to push over the air updates\nto your customers but it’s up to you to decide how to integrate it into your\ndevelopment workflow.</p>\n<p>While there are many ways to integrate Shorebird, the following workflow is a\ncommon approach that we recommend:</p>\n<p><img src=\"https://github.com/user-attachments/assets/61fc8e5b-b77e-42e7-a1d6-5db50a232d02\" alt=\"Development Workflow\"></p>\n<p>The illustration above, uses <a href=\"https://trunkbaseddevelopment.com/\">trunk based\ndevelopment</a> and tags to trigger automated\nrelease and patch workflows.</p>\n<p>The workflow consists of three main phases:</p>\n<ol>\n<li><strong>Development</strong>: Developers work on features and bug fixes.</li>\n<li><strong>Release</strong>: When a feature is ready, a release is created and distributed to\ncustomers (typically via stores).</li>\n<li><strong>Patch</strong>: If a critical bug is found, a patch is created and distributed to\ncustomers immediately via Shorebird.</li>\n</ol>\n<p>Let’s walk through each phase in more detail.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"development-phase\">Development Phase</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/development-workflow/#development-phase\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>During this phase, developers are building features and fixing bugs.</p>\n<p>The development workflow can be broken down into the following steps:</p>\n<ol>\n<li>Create branch from trunk (main)</li>\n<li>Work on task</li>\n<li>Open a pull request to merge changes into trunk</li>\n<li>Squash and merge after CI checks &amp; code review.\nWe recommend squashing commits to keep the commit history clean and to make\nit easier to cherry pick commits into release branches.</li>\n</ol>\n<p>Note that with the described workflow, the trunk (e.g. main) is always in a\nreleasable state. This puts pressure on continuous integration (CI) checks to\nensure that the code on the trunk is always in a healthy, deployable state.\nChecks that would typically run as part of the continuous integration process\ninclude linting, formatting, unit tests, and integration tests. CI checks are\ntypically run on every pull request and must be passing before the pull request\ncan be merged.</p>\n<p>You can refer to the following GitHub Actions workflow for an example.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame has-title not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ci</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">concurrency</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">group</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ github.workflow }}-${{ github.ref }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">cancel-in-progress</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#005CC5\">on</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">pull_request</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">branches</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">main</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">jobs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">ci_checks</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ubuntu-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v4</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Flutter</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">subosito/flutter-action@v2</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📦 Install Dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">flutter pub get</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">✨ Format</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">dart format --set-exit-if-changed .</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🔍 Analyze</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">dart analyze --fatal-warnings .</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🧪 Test</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">flutter test --coverage</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: ciconcurrency:  group: ${{ github.workflow }}-${{ github.ref }}  cancel-in-progress: trueon:  pull_request:    branches:      - mainjobs:  ci_checks:    runs-on: ubuntu-latest    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v4      - name: 🐦 Setup Flutter        uses: subosito/flutter-action@v2      - name: 📦 Install Dependencies        run: flutter pub get      - name: ✨ Format        run: dart format --set-exit-if-changed .      - name: 🔍 Analyze        run: dart analyze --fatal-warnings .      - name: 🧪 Test        run: flutter test --coverage\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"release-phase\">Release Phase</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/development-workflow/#release-phase\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>When the team is ready to distribute a new version of the app, a release is\ncreated. In some cases, releases are created on a regular cadence (e.g. weekly,\nbi-weekly, monthly) while in other cases, releases are created on an ad-hoc\nbasis.</p>\n<p>The release workflow can be broken down into the following steps:</p>\n<ol>\n<li>Create a release branch (e.g release/v1.0.0) from trunk (main)</li>\n<li>Create a new release on GitHub (e.g. v1.0.0).\nThis tags the commit so that we can easily find the commit in the future and\ntriggers the release workflow</li>\n<li>The release workflow is triggered by the tag and generates signed artifacts</li>\n<li>Distribute the artifacts (e.g. via AppStore, PlayStore, etc.)</li>\n</ol>\n<p>You can refer to the following GitHub Actions workflow for an example.</p>\n<div class=\"expressive-code\"><figure class=\"frame has-title not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">release</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#005CC5\">on</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">tags</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">\"v[0-9].[0-9]+.[0-9]+\"</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#74A061;--1:#616972\"># e.g. v1.0.0</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">SHOREBIRD_TOKEN</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.SHOREBIRD_TOKEN }}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">jobs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">release-android</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ubuntu-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🤖 Release Android</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v4</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">☕️ Setup Java</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/setup-java@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">java-version</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"17\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">distribution</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"temurin\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">gradle</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🔐 Decode Keystore</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">echo ${{ secrets.KEYSTORE }} | base64 --decode &gt; ${{ github.workspace }}/keystore.jks</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🚀 Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/shorebird-release@v0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYSTORE_FILE</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ github.workspace }}/keystore.jks</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYSTORE_PASSWORD</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.KEYSTORE_PASSWORD }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYSTORE_ALIAS</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.KEYSTORE_ALIAS }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">platform</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">args</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"--verbose --artifact=apk\"</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📦 Upload APK</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/upload-artifact@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">flutter_and_friends-${{ github.ref_name }}.apk</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">path</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">build/app/outputs/apk/release/app-release.apk</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📦 Upload App Bundle</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/upload-artifact@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">flutter_and_friends-${{ github.ref_name }}.aab</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">path</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">build/app/outputs/bundle/release/app-release.aab</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">release-ios</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">macos-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🍎 Release iOS</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v4</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">✍️ Setup XCode Signing</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">CERTIFICATE</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.CERTIFICATE }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">CERTIFICATE_PASSWORD</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.CERTIFICATE_PASSWORD }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">PROVISIONING_PROFILE</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.PROVISIONING_PROFILE }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYCHAIN_PASSWORD</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.KEYCHAIN_PASSWORD }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># https://docs.github.com/en/actions/deployment/deploying-xcode-applications/installing-an-apple-certificate-on-macos-runners-for-xcode-development</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Also adds a uuid to the mobile provision so XCode can find it.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># create variables</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">PP_PATH=$RUNNER_TEMP/temp.mobileprovision</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># import certificate and provisioning profile from secrets</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo -n \"$CERTIFICATE\" | base64 --decode -o $CERTIFICATE_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo -n \"$PROVISIONING_PROFILE\" | base64 --decode -o $PP_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># create temporary keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security create-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security set-keychain-settings -lut 21600 $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security unlock-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># import certificate to keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security import $CERTIFICATE_PATH -P \"$CERTIFICATE_PASSWORD\" -A -t cert -f pkcs12 -k $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security list-keychain -d user -s $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security find-identity -v</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># use uuid for the name of provisioning profile</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">UUID=$(/usr/libexec/PlistBuddy -c \"Print UUID\" /dev/stdin &lt;&lt;&lt; $(/usr/bin/security cms -D -i $PP_PATH))</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># apply provisioning profile</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">mkdir -p ~/Library/MobileDevice/Provisioning\\ Profiles</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">cp $PP_PATH ~/Library/MobileDevice/Provisioning\\ Profiles/$UUID.mobileprovision</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🚀 Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/shorebird-release@v0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">platform</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">args</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"--export-options-plist ios/GHAExportOptions.plist --verbose\"</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🧹 Clean Up</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">if</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ always() }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">PP_PATH=$RUNNER_TEMP/temp.mobileprovision</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security delete-keychain $RUNNER_TEMP/app-signing.keychain-db</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">rm $RUNNER_TEMP/temp.mobileprovision</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📦 Upload Artifact</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/upload-artifact@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">flutter_and_friends-${{ github.ref_name }}.ipa</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">path</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">build/ios/ipa/flutter_and_friends.ipa</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: releaseon:  push:    tags:      - &quot;v[0-9].[0-9]+.[0-9]+&quot; # e.g. v1.0.0env:  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}jobs:  release-android:    runs-on: ubuntu-latest    name: 🤖 Release Android    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v4      - name: ☕️ Setup Java        uses: actions/setup-java@v4        with:          java-version: &quot;17&quot;          distribution: &quot;temurin&quot;          cache: gradle      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true      - name: 🔐 Decode Keystore        run: echo ${{ secrets.KEYSTORE }} | base64 --decode > ${{ github.workspace }}/keystore.jks      - name: 🚀 Shorebird Release        uses: shorebirdtech/shorebird-release@v0        env:          KEYSTORE_FILE: ${{ github.workspace }}/keystore.jks          KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}          KEYSTORE_ALIAS: ${{ secrets.KEYSTORE_ALIAS }}        with:          platform: android          args: &quot;--verbose --artifact=apk&quot;      - name: 📦 Upload APK        uses: actions/upload-artifact@v4        with:          name: flutter_and_friends-${{ github.ref_name }}.apk          path: build/app/outputs/apk/release/app-release.apk      - name: 📦 Upload App Bundle        uses: actions/upload-artifact@v4        with:          name: flutter_and_friends-${{ github.ref_name }}.aab          path: build/app/outputs/bundle/release/app-release.aab  release-ios:    runs-on: macos-latest    name: 🍎 Release iOS    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v4      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true      - name: ✍️ Setup XCode Signing        env:          CERTIFICATE: ${{ secrets.CERTIFICATE }}          CERTIFICATE_PASSWORD: ${{ secrets.CERTIFICATE_PASSWORD }}          PROVISIONING_PROFILE: ${{ secrets.PROVISIONING_PROFILE }}          KEYCHAIN_PASSWORD: ${{ secrets.KEYCHAIN_PASSWORD }}        # https://docs.github.com/en/actions/deployment/deploying-xcode-applications/installing-an-apple-certificate-on-macos-runners-for-xcode-development        # Also adds a uuid to the mobile provision so XCode can find it.        run: |          # create variables          CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12          KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db          PP_PATH=$RUNNER_TEMP/temp.mobileprovision          # import certificate and provisioning profile from secrets          echo -n &quot;$CERTIFICATE&quot; | base64 --decode -o $CERTIFICATE_PATH          echo -n &quot;$PROVISIONING_PROFILE&quot; | base64 --decode -o $PP_PATH          # create temporary keychain          security create-keychain -p &quot;$KEYCHAIN_PASSWORD&quot; $KEYCHAIN_PATH          security set-keychain-settings -lut 21600 $KEYCHAIN_PATH          security unlock-keychain -p &quot;$KEYCHAIN_PASSWORD&quot; $KEYCHAIN_PATH          # import certificate to keychain          security import $CERTIFICATE_PATH -P &quot;$CERTIFICATE_PASSWORD&quot; -A -t cert -f pkcs12 -k $KEYCHAIN_PATH          security list-keychain -d user -s $KEYCHAIN_PATH          security find-identity -v          # use uuid for the name of provisioning profile          UUID=$(/usr/libexec/PlistBuddy -c &quot;Print UUID&quot; /dev/stdin <<< $(/usr/bin/security cms -D -i $PP_PATH))          # apply provisioning profile          mkdir -p ~/Library/MobileDevice/Provisioning\\ Profiles          cp $PP_PATH ~/Library/MobileDevice/Provisioning\\ Profiles/$UUID.mobileprovision      - name: 🚀 Shorebird Release        uses: shorebirdtech/shorebird-release@v0        with:          platform: ios          args: &quot;--export-options-plist ios/GHAExportOptions.plist --verbose&quot;      - name: 🧹 Clean Up        if: ${{ always() }}        run: |          PP_PATH=$RUNNER_TEMP/temp.mobileprovision          security delete-keychain $RUNNER_TEMP/app-signing.keychain-db          rm $RUNNER_TEMP/temp.mobileprovision      - name: 📦 Upload Artifact        uses: actions/upload-artifact@v4        with:          name: flutter_and_friends-${{ github.ref_name }}.ipa          path: build/ios/ipa/flutter_and_friends.ipa\"><div></div></button></div></figure></div>\n<p>When the release workflow has finished running, the artifacts are ready to be\ndistributed to customers via the appropriate channels.</p>\n<p><img src=\"https://github.com/user-attachments/assets/7c9cf689-bd07-40c0-ad0b-e08935cb4424\" alt=\"Release Workflow\"></p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"patch-phase\">Patch Phase</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/development-workflow/#patch-phase\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Even with great testing, sometimes bugs can creep into the app. Shorebird\nallows you to fix these bugs and distribute the patches to customers devices\nimmediately rather having to wait for users to update.</p>\n<p>The patch workflow can be broken down into the follow steps:</p>\n<ol>\n<li>Fix the bug on the trunk branch using the development workflow described above.</li>\n<li>Cherry pick the commit into the desired release branch(es)\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">checkout</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release/v1.0.0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">cherry-pick</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">&lt;commit-hash&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git checkout release/v1.0.0git cherry-pick <commit-hash>git push\"><div></div></button></div></figure></div>\n</li>\n<li>Create a new “hotfix” release on GitHub (e.g. v1.0.0-hotfix.1)\nThis tags the commit so that we can easily find the commit in the future and\ntriggers the patch workflow</li>\n<li>The patch workflow is triggered by the tag and uploads the hotfix to the\nstaging environment</li>\n<li>Preview the release in the staging environment using the <a href=\"https://github.com/shorebirdtech/shorebird\">Shorebird\nCLI</a> and validate the fix\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--staging</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird preview --staging\"><div></div></button></div></figure></div>\n</li>\n<li>Promote the hotfix to production from the <a href=\"https://console.shorebird.dev/\">Shorebird Console</a>.</li>\n</ol>\n<p>You can refer to the following GitHub Actions workflow for an example.</p>\n<div class=\"expressive-code\"><figure class=\"frame has-title not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#005CC5\">on</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">tags</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">\"v[0-9].[0-9]+.[0-9]+-hotfix.[0-9]+\"</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#74A061;--1:#616972\"># e.g. v1.0.0-hotfix.1</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">SHOREBIRD_TOKEN</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.SHOREBIRD_TOKEN }}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">jobs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">patch-android</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ubuntu-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🤖 Patch Android</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v4</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">☕️ Setup Java</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/setup-java@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">java-version</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"17\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">distribution</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"temurin\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">gradle</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🔐 Decode Keystore</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">echo ${{ secrets.KEYSTORE }} | base64 --decode &gt; ${{ github.workspace }}/keystore.jks</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🧩 Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/shorebird-patch@v0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird-patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYSTORE_FILE</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ github.workspace }}/keystore.jks</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYSTORE_PASSWORD</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.KEYSTORE_PASSWORD }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYSTORE_ALIAS</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.KEYSTORE_ALIAS }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">platform</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">args</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"--verbose --staging\"</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">patch-ios</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">macos-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🍎 Patch iOS</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v4</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">✍️ Setup XCode Signing</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">CERTIFICATE</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.CERTIFICATE }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">CERTIFICATE_PASSWORD</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.CERTIFICATE_PASSWORD }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">PROVISIONING_PROFILE</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.PROVISIONING_PROFILE }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">KEYCHAIN_PASSWORD</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.KEYCHAIN_PASSWORD }}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># https://docs.github.com/en/actions/deployment/deploying-xcode-applications/installing-an-apple-certificate-on-macos-runners-for-xcode-development</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Also adds a uuid to the mobile provision so XCode can find it.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># create variables</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">PP_PATH=$RUNNER_TEMP/temp.mobileprovision</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># import certificate and provisioning profile from secrets</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo -n \"$CERTIFICATE\" | base64 --decode -o $CERTIFICATE_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo -n \"$PROVISIONING_PROFILE\" | base64 --decode -o $PP_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># create temporary keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security create-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security set-keychain-settings -lut 21600 $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security unlock-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># import certificate to keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security import $CERTIFICATE_PATH -P \"$CERTIFICATE_PASSWORD\" -A -t cert -f pkcs12 -k $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security list-keychain -d user -s $KEYCHAIN_PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">security find-identity -v</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># use uuid for the name of provisioning profile</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">UUID=$(/usr/libexec/PlistBuddy -c \"Print UUID\" /dev/stdin &lt;&lt;&lt; $(/usr/bin/security cms -D -i $PP_PATH))</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\"># apply provisioning profile</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">mkdir -p ~/Library/MobileDevice/Provisioning\\ Profiles</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">cp $PP_PATH ~/Library/MobileDevice/Provisioning\\ Profiles/$UUID.mobileprovision</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🧩 Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/shorebird-patch@v0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird-patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">platform</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">args</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"--export-options-plist ios/GHAExportOptions.plist --staging\"</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: patchon:  push:    tags:      - &quot;v[0-9].[0-9]+.[0-9]+-hotfix.[0-9]+&quot; # e.g. v1.0.0-hotfix.1env:  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}jobs:  patch-android:    runs-on: ubuntu-latest    name: 🤖 Patch Android    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v4      - name: ☕️ Setup Java        uses: actions/setup-java@v4        with:          java-version: &quot;17&quot;          distribution: &quot;temurin&quot;          cache: gradle      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true      - name: 🔐 Decode Keystore        run: echo ${{ secrets.KEYSTORE }} | base64 --decode > ${{ github.workspace }}/keystore.jks      - name: 🧩 Shorebird Patch        uses: shorebirdtech/shorebird-patch@v0        id: shorebird-patch        env:          KEYSTORE_FILE: ${{ github.workspace }}/keystore.jks          KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}          KEYSTORE_ALIAS: ${{ secrets.KEYSTORE_ALIAS }}        with:          platform: android          args: &quot;--verbose --staging&quot;  patch-ios:    runs-on: macos-latest    name: 🍎 Patch iOS    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v4      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true      - name: ✍️ Setup XCode Signing        env:          CERTIFICATE: ${{ secrets.CERTIFICATE }}          CERTIFICATE_PASSWORD: ${{ secrets.CERTIFICATE_PASSWORD }}          PROVISIONING_PROFILE: ${{ secrets.PROVISIONING_PROFILE }}          KEYCHAIN_PASSWORD: ${{ secrets.KEYCHAIN_PASSWORD }}        # https://docs.github.com/en/actions/deployment/deploying-xcode-applications/installing-an-apple-certificate-on-macos-runners-for-xcode-development        # Also adds a uuid to the mobile provision so XCode can find it.        run: |          # create variables          CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12          KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db          PP_PATH=$RUNNER_TEMP/temp.mobileprovision          # import certificate and provisioning profile from secrets          echo -n &quot;$CERTIFICATE&quot; | base64 --decode -o $CERTIFICATE_PATH          echo -n &quot;$PROVISIONING_PROFILE&quot; | base64 --decode -o $PP_PATH          # create temporary keychain          security create-keychain -p &quot;$KEYCHAIN_PASSWORD&quot; $KEYCHAIN_PATH          security set-keychain-settings -lut 21600 $KEYCHAIN_PATH          security unlock-keychain -p &quot;$KEYCHAIN_PASSWORD&quot; $KEYCHAIN_PATH          # import certificate to keychain          security import $CERTIFICATE_PATH -P &quot;$CERTIFICATE_PASSWORD&quot; -A -t cert -f pkcs12 -k $KEYCHAIN_PATH          security list-keychain -d user -s $KEYCHAIN_PATH          security find-identity -v          # use uuid for the name of provisioning profile          UUID=$(/usr/libexec/PlistBuddy -c &quot;Print UUID&quot; /dev/stdin <<< $(/usr/bin/security cms -D -i $PP_PATH))          # apply provisioning profile          mkdir -p ~/Library/MobileDevice/Provisioning\\ Profiles          cp $PP_PATH ~/Library/MobileDevice/Provisioning\\ Profiles/$UUID.mobileprovision      - name: 🧩 Shorebird Patch        uses: shorebirdtech/shorebird-patch@v0        id: shorebird-patch        with:          platform: ios          args: &quot;--export-options-plist ios/GHAExportOptions.plist --staging&quot;\"><div></div></button></div></figure></div>\n<p>When the patch workflow has finished running, the hotfix is ready to be\nvalidated in <a href=\"https://docs.shorebird.dev/guides/staging-patches\">Shorebird’s staging environment</a> and\npromoted to production.</p>\n<p><img src=\"https://github.com/user-attachments/assets/ca1957ad-ee52-4cff-a93f-03fceb6ca591\" alt=\"Patch Workflow\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"recap\">Recap</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/development-workflow/#recap\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In this guide, we took a look at an opinionated development workflow with\nShorebird which allows teams to automate releasing and patching in order to\niterate quickly while still delivering a high quality experience to customers.</p>\n<p>To see this workflow in action, check out the <a href=\"https://github.com/felangel/flutter_and_friends\">Flutter &amp; Friends Conference\nApp</a>.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/development-workflow/#_top",
      "https://docs.shorebird.dev/guides/development-workflow/#prerequisites",
      "https://docs.shorebird.dev/",
      "https://docs.github.com/actions",
      "https://git-scm.com/",
      "https://docs.shorebird.dev/guides/development-workflow/#overview",
      "https://trunkbaseddevelopment.com/",
      "https://docs.shorebird.dev/guides/development-workflow/#development-phase",
      "https://docs.shorebird.dev/guides/development-workflow/#release-phase",
      "https://docs.shorebird.dev/guides/development-workflow/#patch-phase",
      "https://github.com/shorebirdtech/shorebird",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/guides/staging-patches",
      "https://docs.shorebird.dev/guides/development-workflow/#recap",
      "https://github.com/felangel/flutter_and_friends"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/development-workflow/#_top)\n\n# Development Workflow\n\nThis guide will walk through an opinionated development workflow with Shorebird.\nWe’ll cover how to automate releasing and patching with Shorebird to streamline\nthe entire development process so that you and your team can focus on shipping\nhigh quality features to customers.\n\n## Prerequisites\n\nThis guide assumes you are already familiar with Shorebird and have integrated\nit into your application. Refer to the [getting started](https://docs.shorebird.dev/) instructions for\nmore information. In addition, this guide also assumes that you are familiar\nwith [GitHub Actions](https://docs.github.com/actions) and\n[Git](https://git-scm.com/).\n\n## Overview\n\nShorebird provides a set of tools that you can use to push over the air updates\nto your customers but it’s up to you to decide how to integrate it into your\ndevelopment workflow.\n\nWhile there are many ways to integrate Shorebird, the following workflow is a\ncommon approach that we recommend:\n\n![Development Workflow](https://github.com/user-attachments/assets/61fc8e5b-b77e-42e7-a1d6-5db50a232d02)\n\nThe illustration above, uses [trunk based\\\\\ndevelopment](https://trunkbaseddevelopment.com/) and tags to trigger automated\nrelease and patch workflows.\n\nThe workflow consists of three main phases:\n\n1. **Development**: Developers work on features and bug fixes.\n2. **Release**: When a feature is ready, a release is created and distributed to\ncustomers (typically via stores).\n3. **Patch**: If a critical bug is found, a patch is created and distributed to\ncustomers immediately via Shorebird.\n\nLet’s walk through each phase in more detail.\n\n## Development Phase\n\nDuring this phase, developers are building features and fixing bugs.\n\nThe development workflow can be broken down into the following steps:\n\n1. Create branch from trunk (main)\n2. Work on task\n3. Open a pull request to merge changes into trunk\n4. Squash and merge after CI checks & code review.\nWe recommend squashing commits to keep the commit history clean and to make\nit easier to cherry pick commits into release branches.\n\nNote that with the described workflow, the trunk (e.g. main) is always in a\nreleasable state. This puts pressure on continuous integration (CI) checks to\nensure that the code on the trunk is always in a healthy, deployable state.\nChecks that would typically run as part of the continuous integration process\ninclude linting, formatting, unit tests, and integration tests. CI checks are\ntypically run on every pull request and must be passing before the pull request\ncan be merged.\n\nYou can refer to the following GitHub Actions workflow for an example.\n\n```\n\nname: ci\n\nconcurrency:\n\n  group: ${{ github.workflow }}-${{ github.ref }}\n\n  cancel-in-progress: true\n\non:\n\n  pull_request:\n\n    branches:\n\n      - main\n\njobs:\n\n  ci_checks:\n\n    runs-on: ubuntu-latest\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v4\n\n      - name: 🐦 Setup Flutter\n\n        uses: subosito/flutter-action@v2\n\n      - name: 📦 Install Dependencies\n\n        run: flutter pub get\n\n      - name: ✨ Format\n\n        run: dart format --set-exit-if-changed .\n\n      - name: 🔍 Analyze\n\n        run: dart analyze --fatal-warnings .\n\n      - name: 🧪 Test\n\n        run: flutter test --coverage\n```\n\n## Release Phase\n\nWhen the team is ready to distribute a new version of the app, a release is\ncreated. In some cases, releases are created on a regular cadence (e.g. weekly,\nbi-weekly, monthly) while in other cases, releases are created on an ad-hoc\nbasis.\n\nThe release workflow can be broken down into the following steps:\n\n1. Create a release branch (e.g release/v1.0.0) from trunk (main)\n2. Create a new release on GitHub (e.g. v1.0.0).\nThis tags the commit so that we can easily find the commit in the future and\ntriggers the release workflow\n3. The release workflow is triggered by the tag and generates signed artifacts\n4. Distribute the artifacts (e.g. via AppStore, PlayStore, etc.)\n\nYou can refer to the following GitHub Actions workflow for an example.\n\n```\n\nname: release\n\non:\n\n  push:\n\n    tags:\n\n      - \"v[0-9].[0-9]+.[0-9]+\" # e.g. v1.0.0\n\nenv:\n\n  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}\n\njobs:\n\n  release-android:\n\n    runs-on: ubuntu-latest\n\n    name: 🤖 Release Android\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v4\n\n      - name: ☕️ Setup Java\n\n        uses: actions/setup-java@v4\n\n        with:\n\n          java-version: \"17\"\n\n          distribution: \"temurin\"\n\n          cache: gradle\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true\n\n      - name: 🔐 Decode Keystore\n\n        run: echo ${{ secrets.KEYSTORE }} | base64 --decode > ${{ github.workspace }}/keystore.jks\n\n      - name: 🚀 Shorebird Release\n\n        uses: shorebirdtech/shorebird-release@v0\n\n        env:\n\n          KEYSTORE_FILE: ${{ github.workspace }}/keystore.jks\n\n          KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}\n\n          KEYSTORE_ALIAS: ${{ secrets.KEYSTORE_ALIAS }}\n\n        with:\n\n          platform: android\n\n          args: \"--verbose --artifact=apk\"\n\n      - name: 📦 Upload APK\n\n        uses: actions/upload-artifact@v4\n\n        with:\n\n          name: flutter_and_friends-${{ github.ref_name }}.apk\n\n          path: build/app/outputs/apk/release/app-release.apk\n\n      - name: 📦 Upload App Bundle\n\n        uses: actions/upload-artifact@v4\n\n        with:\n\n          name: flutter_and_friends-${{ github.ref_name }}.aab\n\n          path: build/app/outputs/bundle/release/app-release.aab\n\n  release-ios:\n\n    runs-on: macos-latest\n\n    name: 🍎 Release iOS\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v4\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true\n\n      - name: ✍️ Setup XCode Signing\n\n        env:\n\n          CERTIFICATE: ${{ secrets.CERTIFICATE }}\n\n          CERTIFICATE_PASSWORD: ${{ secrets.CERTIFICATE_PASSWORD }}\n\n          PROVISIONING_PROFILE: ${{ secrets.PROVISIONING_PROFILE }}\n\n          KEYCHAIN_PASSWORD: ${{ secrets.KEYCHAIN_PASSWORD }}\n\n        # https://docs.github.com/en/actions/deployment/deploying-xcode-applications/installing-an-apple-certificate-on-macos-runners-for-xcode-development\n\n        # Also adds a uuid to the mobile provision so XCode can find it.\n\n        run: |\n\n          # create variables\n\n          CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12\n\n          KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db\n\n          PP_PATH=$RUNNER_TEMP/temp.mobileprovision\n\n          # import certificate and provisioning profile from secrets\n\n          echo -n \"$CERTIFICATE\" | base64 --decode -o $CERTIFICATE_PATH\n\n          echo -n \"$PROVISIONING_PROFILE\" | base64 --decode -o $PP_PATH\n\n          # create temporary keychain\n\n          security create-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH\n\n          security set-keychain-settings -lut 21600 $KEYCHAIN_PATH\n\n          security unlock-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH\n\n          # import certificate to keychain\n\n          security import $CERTIFICATE_PATH -P \"$CERTIFICATE_PASSWORD\" -A -t cert -f pkcs12 -k $KEYCHAIN_PATH\n\n          security list-keychain -d user -s $KEYCHAIN_PATH\n\n          security find-identity -v\n\n          # use uuid for the name of provisioning profile\n\n          UUID=$(/usr/libexec/PlistBuddy -c \"Print UUID\" /dev/stdin <<< $(/usr/bin/security cms -D -i $PP_PATH))\n\n          # apply provisioning profile\n\n          mkdir -p ~/Library/MobileDevice/Provisioning\\ Profiles\n\n          cp $PP_PATH ~/Library/MobileDevice/Provisioning\\ Profiles/$UUID.mobileprovision\n\n      - name: 🚀 Shorebird Release\n\n        uses: shorebirdtech/shorebird-release@v0\n\n        with:\n\n          platform: ios\n\n          args: \"--export-options-plist ios/GHAExportOptions.plist --verbose\"\n\n      - name: 🧹 Clean Up\n\n        if: ${{ always() }}\n\n        run: |\n\n          PP_PATH=$RUNNER_TEMP/temp.mobileprovision\n\n          security delete-keychain $RUNNER_TEMP/app-signing.keychain-db\n\n          rm $RUNNER_TEMP/temp.mobileprovision\n\n      - name: 📦 Upload Artifact\n\n        uses: actions/upload-artifact@v4\n\n        with:\n\n          name: flutter_and_friends-${{ github.ref_name }}.ipa\n\n          path: build/ios/ipa/flutter_and_friends.ipa\n```\n\nWhen the release workflow has finished running, the artifacts are ready to be\ndistributed to customers via the appropriate channels.\n\n![Release Workflow](https://github.com/user-attachments/assets/7c9cf689-bd07-40c0-ad0b-e08935cb4424)\n\n## Patch Phase\n\nEven with great testing, sometimes bugs can creep into the app. Shorebird\nallows you to fix these bugs and distribute the patches to customers devices\nimmediately rather having to wait for users to update.\n\nThe patch workflow can be broken down into the follow steps:\n\n1. Fix the bug on the trunk branch using the development workflow described above.\n2. Cherry pick the commit into the desired release branch(es)\n\n\n\n```\n\n\ngit checkout release/v1.0.0\n\ngit cherry-pick <commit-hash>\n\ngit push\n```\n\n3. Create a new “hotfix” release on GitHub (e.g. v1.0.0-hotfix.1)\nThis tags the commit so that we can easily find the commit in the future and\ntriggers the patch workflow\n4. The patch workflow is triggered by the tag and uploads the hotfix to the\nstaging environment\n5. Preview the release in the staging environment using the [Shorebird\\\\\nCLI](https://github.com/shorebirdtech/shorebird) and validate the fix\n\n\n\n```\n\n\nshorebird preview --staging\n```\n\n6. Promote the hotfix to production from the [Shorebird Console](https://console.shorebird.dev/).\n\nYou can refer to the following GitHub Actions workflow for an example.\n\n```\n\nname: patch\n\non:\n\n  push:\n\n    tags:\n\n      - \"v[0-9].[0-9]+.[0-9]+-hotfix.[0-9]+\" # e.g. v1.0.0-hotfix.1\n\nenv:\n\n  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}\n\njobs:\n\n  patch-android:\n\n    runs-on: ubuntu-latest\n\n    name: 🤖 Patch Android\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v4\n\n      - name: ☕️ Setup Java\n\n        uses: actions/setup-java@v4\n\n        with:\n\n          java-version: \"17\"\n\n          distribution: \"temurin\"\n\n          cache: gradle\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true\n\n      - name: 🔐 Decode Keystore\n\n        run: echo ${{ secrets.KEYSTORE }} | base64 --decode > ${{ github.workspace }}/keystore.jks\n\n      - name: 🧩 Shorebird Patch\n\n        uses: shorebirdtech/shorebird-patch@v0\n\n        id: shorebird-patch\n\n        env:\n\n          KEYSTORE_FILE: ${{ github.workspace }}/keystore.jks\n\n          KEYSTORE_PASSWORD: ${{ secrets.KEYSTORE_PASSWORD }}\n\n          KEYSTORE_ALIAS: ${{ secrets.KEYSTORE_ALIAS }}\n\n        with:\n\n          platform: android\n\n          args: \"--verbose --staging\"\n\n  patch-ios:\n\n    runs-on: macos-latest\n\n    name: 🍎 Patch iOS\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v4\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true\n\n      - name: ✍️ Setup XCode Signing\n\n        env:\n\n          CERTIFICATE: ${{ secrets.CERTIFICATE }}\n\n          CERTIFICATE_PASSWORD: ${{ secrets.CERTIFICATE_PASSWORD }}\n\n          PROVISIONING_PROFILE: ${{ secrets.PROVISIONING_PROFILE }}\n\n          KEYCHAIN_PASSWORD: ${{ secrets.KEYCHAIN_PASSWORD }}\n\n        # https://docs.github.com/en/actions/deployment/deploying-xcode-applications/installing-an-apple-certificate-on-macos-runners-for-xcode-development\n\n        # Also adds a uuid to the mobile provision so XCode can find it.\n\n        run: |\n\n          # create variables\n\n          CERTIFICATE_PATH=$RUNNER_TEMP/build_certificate.p12\n\n          KEYCHAIN_PATH=$RUNNER_TEMP/app-signing.keychain-db\n\n          PP_PATH=$RUNNER_TEMP/temp.mobileprovision\n\n          # import certificate and provisioning profile from secrets\n\n          echo -n \"$CERTIFICATE\" | base64 --decode -o $CERTIFICATE_PATH\n\n          echo -n \"$PROVISIONING_PROFILE\" | base64 --decode -o $PP_PATH\n\n          # create temporary keychain\n\n          security create-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH\n\n          security set-keychain-settings -lut 21600 $KEYCHAIN_PATH\n\n          security unlock-keychain -p \"$KEYCHAIN_PASSWORD\" $KEYCHAIN_PATH\n\n          # import certificate to keychain\n\n          security import $CERTIFICATE_PATH -P \"$CERTIFICATE_PASSWORD\" -A -t cert -f pkcs12 -k $KEYCHAIN_PATH\n\n          security list-keychain -d user -s $KEYCHAIN_PATH\n\n          security find-identity -v\n\n          # use uuid for the name of provisioning profile\n\n          UUID=$(/usr/libexec/PlistBuddy -c \"Print UUID\" /dev/stdin <<< $(/usr/bin/security cms -D -i $PP_PATH))\n\n          # apply provisioning profile\n\n          mkdir -p ~/Library/MobileDevice/Provisioning\\ Profiles\n\n          cp $PP_PATH ~/Library/MobileDevice/Provisioning\\ Profiles/$UUID.mobileprovision\n\n      - name: 🧩 Shorebird Patch\n\n        uses: shorebirdtech/shorebird-patch@v0\n\n        id: shorebird-patch\n\n        with:\n\n          platform: ios\n\n          args: \"--export-options-plist ios/GHAExportOptions.plist --staging\"\n```\n\nWhen the patch workflow has finished running, the hotfix is ready to be\nvalidated in [Shorebird’s staging environment](https://docs.shorebird.dev/guides/staging-patches) and\npromoted to production.\n\n![Patch Workflow](https://github.com/user-attachments/assets/ca1957ad-ee52-4cff-a93f-03fceb6ca591)\n\n## Recap\n\nIn this guide, we took a look at an opinionated development workflow with\nShorebird which allows teams to automate releasing and patching in order to\niterate quickly while still delivering a high quality experience to customers.\n\nTo see this workflow in action, check out the [Flutter & Friends Conference\\\\\nApp](https://github.com/felangel/flutter_and_friends).",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/development-workflow/",
      "ogUrl": "https://docs.shorebird.dev/guides/development-workflow/",
      "title": "Development Workflow | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/development-workflow/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Development Workflow",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Development Workflow",
      "ogLocale": "en",
      "scrapeId": "aaab1922-7fb3-45c5-aec0-7dff475bf722",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/development-workflow",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to integrate Shorebird into your development workflow with automated releases and patches.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to integrate Shorebird into your development workflow with automated releases and patches.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to integrate Shorebird into your development workflow with automated releases and patches."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/patch-signing/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Patch Signing (beta)</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n\n<p>In addition to our default security measures, Shorebird also provides optional\npatch signing.</p>\n<p>Patch signing allows developers to cryptographically sign patch updates with\ntheir own keys. This ensures that no one (including Shorebird) can change the\ncontent of your patches without your private cryptographic keys.</p>\n<p>Signing works in two parts. First, <code dir=\"auto\">shorebird release</code> commands can take an\noptional <code dir=\"auto\">--public-key-path</code> argument to embed a public key in your\nreleased application. The Shorebird updater will enforce that only patches\nsigned with a corresponding private key will be allowed to load for applications\nthat include a public key.</p>\n<p>Second, when you build your patch with <code dir=\"auto\">shorebird patch</code>, you can pass\n<code dir=\"auto\">--private-key-path</code> to have Shorebird sign your patch with your private key.\nThis is required if you created your release with a public key included.</p>\n<p>There are no required changes to your code and you can add or remove this\nsigning requirement at any time by simply making a new release of your\napplication.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"adding-patch-signing-to-your-application\">Adding patch signing to your application</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#adding-patch-signing-to-your-application\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To start, you will need an RSA key pair. Shorebird has only tested with a\nlimited set of signing algorithms at this time. Please contact us if you have\nother requirements—we’d be happy to work with you to support your needs.</p>\n<p>The <code dir=\"auto\">shorebird</code> tool expects to be able to read private and public keys\nfrom <code dir=\"auto\">.pem</code> files on disk. If you need other ways of accessing your key material\n(or signing via a cloud signing service) please contact us. We’d be happy to\nwork with you to support such.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"generate-keys\">Generate keys</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#generate-keys\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you do not already have an RSA key pair you’d like to use, you can generate a\npair with <code dir=\"auto\">openssl</code>:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Generate a key pair</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">openssl</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">genrsa</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-out</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">private.pem</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#B5CEA8;--1:#005CC5\">2048</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Extract the public key</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">openssl</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">rsa</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-in</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">private.pem</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-outform</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">PEM</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-pubout</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-out</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">public.pem</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"openssl genrsa -out private.pem 2048openssl rsa -in private.pem -outform PEM -pubout -out public.pem\"><div></div></button></div></figure></div>\n<p>The above operation will generate a public/private key pair in <code dir=\"auto\">private.pem</code> and\na public key in <code dir=\"auto\">public.pem</code>. The file containing the private key should be\nstored securely and kept secret. While the private key is not itself sufficient\nto make an update to your application (someone would also need access to your\nShorebird credentials), it should not be checked into public source control.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-release-containing-the-public-key\">Create a release containing the public key</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#create-a-release-containing-the-public-key\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To create a release that requires signed patches, run the following command:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--public-key-path</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">/path/to/public.pem</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --public-key-path /path/to/public.pem\"><div></div></button></div></figure></div>\n<p>This will include the public key in the release artifact produced by <code dir=\"auto\">shorebird release</code> and cause the released app to require signed patches.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-signed-patch\">Create a signed patch</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#create-a-signed-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To create a signed patch, run the following command:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--public-key-path</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">/path/to/public.pem</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--private-key-path</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">/path/to/private.pem</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android --public-key-path /path/to/public.pem --private-key-path /path/to/private.pem\"><div></div></button></div></figure></div>\n<p>This tells shorebird to sign the patch with the key pair you provided.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"test-it-out\">Test it out</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#test-it-out\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You can verify that the patch is properly signed using <code dir=\"auto\">shorebird preview</code>. On\nthe first launch, you should see something like the following in your app logs:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">05-22 23:47:51.645  6963  6994 I flutter : updater::updater: Patch 1 successfully installed.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">05-22 23:47:51.645  6963  6994 I flutter : updater::updater: Update thread finished with status: Update installed</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"05-22 23:47:51.645  6963  6994 I flutter : updater::updater: Patch 1 successfully installed.05-22 23:47:51.645  6963  6994 I flutter : updater::updater: Update thread finished with status: Update installed\"><div></div></button></div></figure></div>\n<p>If you close and relaunch your app, you should see this message telling you that\nthe patch’s signature was verified:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">05-23 11:32:33.944  7029  7029 I flutter : updater::cache::signing: Verifying patch signature...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">05-23 11:32:33.944  7029  7029 I flutter : updater::cache::signing: Patch signature is valid</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"05-23 11:32:33.944  7029  7029 I flutter : updater::cache::signing: Verifying patch signature...05-23 11:32:33.944  7029  7029 I flutter : updater::cache::signing: Patch signature is valid\"><div></div></button></div></figure></div>\n<p>If the patch is missing a signature, or fails signature verification for any\nreason, Shorebird will not load it, and will instead use any previously\ninstalled and verifiable patch (if there is one) or the unpatched release\nversion of your app.</p>\n<p>If you’d like to test the missing signature behavior, you can create a patch\nwithout a private key and notice that <code dir=\"auto\">shorebird preview</code> rejects it. Similarly,\nyou can create a patch with a different private key to do the same.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"fallback-behavior\">Fallback Behavior</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#fallback-behavior\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Releases that contain a public key will reject all unsigned patches.\nIf a patch is missing a signature or its signature is invalid, Shorebird will\nreject this patch at boot time. It will instead boot from the last known good\npatch (if still on disk) or the release build of the app. This will not cause\nyour app to crash.</p>\n<p>If for any reason you were to lose your private key, there is no way to create a\npatch for an application containing the corresponding public key. Even Shorebird\nis not able to create a patch for your application without your private key.\nIn such a case, you would need to make and distribute a new release of your\napplication to send patches to it.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"trade-offs\">Trade Offs</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/patch-signing/#trade-offs\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The primary trade-off of using patch signing is complexity. Shorebird does not\nyet offer automatic key management, so you will need to create and manage your\nown key material to use signing.</p>\n<p>There is a very small slowdown in application launch. In our testing signature\nverification on launch takes &lt;50ms on a 5 year old android phone. This\naccounts for &lt;10% slowdown on a fast application launch.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/patch-signing/#_top",
      "https://docs.shorebird.dev/guides/patch-signing/#adding-patch-signing-to-your-application",
      "https://docs.shorebird.dev/guides/patch-signing/#generate-keys",
      "https://docs.shorebird.dev/guides/patch-signing/#create-a-release-containing-the-public-key",
      "https://docs.shorebird.dev/guides/patch-signing/#create-a-signed-patch",
      "https://docs.shorebird.dev/guides/patch-signing/#test-it-out",
      "https://docs.shorebird.dev/guides/patch-signing/#fallback-behavior",
      "https://docs.shorebird.dev/guides/patch-signing/#trade-offs"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/patch-signing/#_top)\n\n# Patch Signing (beta)\n\nIn addition to our default security measures, Shorebird also provides optional\npatch signing.\n\nPatch signing allows developers to cryptographically sign patch updates with\ntheir own keys. This ensures that no one (including Shorebird) can change the\ncontent of your patches without your private cryptographic keys.\n\nSigning works in two parts. First, `shorebird release` commands can take an\noptional `--public-key-path` argument to embed a public key in your\nreleased application. The Shorebird updater will enforce that only patches\nsigned with a corresponding private key will be allowed to load for applications\nthat include a public key.\n\nSecond, when you build your patch with `shorebird patch`, you can pass\n`--private-key-path` to have Shorebird sign your patch with your private key.\nThis is required if you created your release with a public key included.\n\nThere are no required changes to your code and you can add or remove this\nsigning requirement at any time by simply making a new release of your\napplication.\n\n## Adding patch signing to your application\n\nTo start, you will need an RSA key pair. Shorebird has only tested with a\nlimited set of signing algorithms at this time. Please contact us if you have\nother requirements—we’d be happy to work with you to support your needs.\n\nThe `shorebird` tool expects to be able to read private and public keys\nfrom `.pem` files on disk. If you need other ways of accessing your key material\n(or signing via a cloud signing service) please contact us. We’d be happy to\nwork with you to support such.\n\n### Generate keys\n\nIf you do not already have an RSA key pair you’d like to use, you can generate a\npair with `openssl`:\n\n```\n\n# Generate a key pair\n\nopenssl genrsa -out private.pem 2048\n\n# Extract the public key\n\nopenssl rsa -in private.pem -outform PEM -pubout -out public.pem\n```\n\nThe above operation will generate a public/private key pair in `private.pem` and\na public key in `public.pem`. The file containing the private key should be\nstored securely and kept secret. While the private key is not itself sufficient\nto make an update to your application (someone would also need access to your\nShorebird credentials), it should not be checked into public source control.\n\n### Create a release containing the public key\n\nTo create a release that requires signed patches, run the following command:\n\n```\n\nshorebird release android --public-key-path /path/to/public.pem\n```\n\nThis will include the public key in the release artifact produced by `shorebird release` and cause the released app to require signed patches.\n\n### Create a signed patch\n\nTo create a signed patch, run the following command:\n\n```\n\nshorebird patch android --public-key-path /path/to/public.pem --private-key-path /path/to/private.pem\n```\n\nThis tells shorebird to sign the patch with the key pair you provided.\n\n### Test it out\n\nYou can verify that the patch is properly signed using `shorebird preview`. On\nthe first launch, you should see something like the following in your app logs:\n\n```\n\n05-22 23:47:51.645  6963  6994 I flutter : updater::updater: Patch 1 successfully installed.\n\n05-22 23:47:51.645  6963  6994 I flutter : updater::updater: Update thread finished with status: Update installed\n```\n\nIf you close and relaunch your app, you should see this message telling you that\nthe patch’s signature was verified:\n\n```\n\n05-23 11:32:33.944  7029  7029 I flutter : updater::cache::signing: Verifying patch signature...\n\n05-23 11:32:33.944  7029  7029 I flutter : updater::cache::signing: Patch signature is valid\n```\n\nIf the patch is missing a signature, or fails signature verification for any\nreason, Shorebird will not load it, and will instead use any previously\ninstalled and verifiable patch (if there is one) or the unpatched release\nversion of your app.\n\nIf you’d like to test the missing signature behavior, you can create a patch\nwithout a private key and notice that `shorebird preview` rejects it. Similarly,\nyou can create a patch with a different private key to do the same.\n\n## Fallback Behavior\n\nReleases that contain a public key will reject all unsigned patches.\nIf a patch is missing a signature or its signature is invalid, Shorebird will\nreject this patch at boot time. It will instead boot from the last known good\npatch (if still on disk) or the release build of the app. This will not cause\nyour app to crash.\n\nIf for any reason you were to lose your private key, there is no way to create a\npatch for an application containing the corresponding public key. Even Shorebird\nis not able to create a patch for your application without your private key.\nIn such a case, you would need to make and distribute a new release of your\napplication to send patches to it.\n\n## Trade Offs\n\nThe primary trade-off of using patch signing is complexity. Shorebird does not\nyet offer automatic key management, so you will need to create and manage your\nown key material to use signing.\n\nThere is a very small slowdown in application launch. In our testing signature\nverification on launch takes <50ms on a 5 year old android phone. This\naccounts for <10% slowdown on a fast application launch.",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/patch-signing/",
      "ogUrl": "https://docs.shorebird.dev/guides/patch-signing/",
      "title": "Patch Signing (beta) | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/patch-signing/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Patch Signing (beta)",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Patch Signing (beta)",
      "ogLocale": "en",
      "scrapeId": "5e0cd268-43f6-436e-a882-e767dcd041d2",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/patch-signing/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "How to sign patches",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "How to sign patches",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "How to sign patches"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Code Push for iOS Hybrid Apps</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide explains how to use Shorebird in an iOS hybrid app scenario (that is, your app embeds Flutter UI in non-Flutter UI).</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes you have already have an iOS app and a Flutter module. Our\niOS app will be named <code dir=\"auto\">IosCodePushDemo</code> and our Flutter module will be named\n<code dir=\"auto\">flutter_module</code>.</p>\n<p>This guide also assumes that you have created a Shorebird account. If you have\nnot created a Shorebird account, please see our <a href=\"https://docs.shorebird.dev/code-push/initialize\">code push guide</a>\nfor instructions.</p>\n<p>The reference code for this guide is available at\n<a href=\"https://github.com/shorebirdtech/samples/tree/main/add_to_app\">https://github.com/shorebirdtech/samples/tree/main/add_to_app</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-shorebird-to-your-flutter-module\">Add Shorebird to your Flutter module</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#add-shorebird-to-your-flutter-module\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>First, run <code dir=\"auto\">shorebird init</code> in your Flutter module:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-shorebird-release\">Create a Shorebird release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#create-a-shorebird-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>First, we need to package our Flutter module for release. This will produce an\n<code dir=\"auto\">.xcframework</code> that we can embed in our iOS app and provide Shorebird with the\ninformation it needs to apply patches.</p>\n<p>To create a release, run the following the root directory of your Flutter module:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios-framework</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.2.3+4</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios-framework --release-version 1.2.3+4\"><div></div></button></div></figure></div>\n<p>The <code dir=\"auto\">release-version</code> parameter needs to match the version of the iOS app\nthat uses this module (i.e., <code dir=\"auto\">version+build</code> from the Xcode settings, or\n<code dir=\"auto\">CFBundleShortVersionString+CFBundleVersion</code> from your app’s Info.plist).</p>\n<p><img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/314289ed-b3bd-46fa-b49a-cea7d482d831\" alt=\"Xcode build version\"></p>\n<p><em>The version number for this app would be 1.2.3+4</em></p>\n<p>The <code dir=\"auto\">ShorebirdFlutter.xcframework</code> and <code dir=\"auto\">App.xcframework</code> artifacts produced by\nthe <code dir=\"auto\">shorebird release</code> command will be placed in the <code dir=\"auto\">release</code> directory in the\nroot of your Flutter module.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"embed-the-flutter-module-in-your-ios-app\">Embed the Flutter module in your iOS app</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#embed-the-flutter-module-in-your-ios-app\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>While there are multiple ways to embed a Flutter module in an iOS app, Shorebird\nrequires that your Flutter module be embedded in your iOS app as an\n.xcframework.</p>\n\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"add-the-path-to-your-xcframeworks-to-framework-search-paths\">Add the path to your .xcframeworks to Framework Search Paths</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#add-the-path-to-your-xcframeworks-to-framework-search-paths\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In Xcode:</p>\n<ol>\n<li>Navigate to your app target’s “Build Settings” tab.</li>\n<li>Find the “Framework Search Paths” setting (the Filter field on the top right\nof the build settings tab is helpful for this).</li>\n<li>Add an entry to the “Framework Search Paths” list. This entry should be the\nrelative path to the directory containing <code dir=\"auto\">ShorebirdFlutter.xcframework</code> and\n<code dir=\"auto\">App.xcframework</code> artifacts. By default, these artifacts are placed in the\n<code dir=\"auto\">release</code> directory in the root of your Flutter module, but you should feel\nfree to move them elsewhere if you prefer.</li>\n</ol>\n<p><img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/50f92f9c-4bf6-49ce-a4e7-664b8bf8283a\" alt=\"Xcode framework search paths\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"embed-appxcframework-and-flutterxcframework-in-your-app\">Embed App.xcframework and Flutter.xcframework in your app</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#embed-appxcframework-and-flutterxcframework-in-your-app\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In the “General” tab of your app target, add <code dir=\"auto\">App.xcframework</code> and\n<code dir=\"auto\">ShorebirdFlutter.xcframework</code> from to the “Frameworks, Libraries, and Embedded\nContent” section. Make sure to select “Embed &amp; Sign” for both frameworks.</p>\n<p><img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/fe5911bd-046b-47f9-a4d8-d8548e651bd6\" alt=\"Xcode embed frameworks\"></p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"verify-that-your-app-runs\">Verify that your app runs</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#verify-that-your-app-runs\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In Xcode, update the current scheme’s build configuration to “Release”</p>\n<p><img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/cf32be57-c49e-4ff6-aca2-8be06b44f2f9\" alt=\"Xcode edit schemes\">\n<img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/92417ee8-dc66-4cbb-99e7-d940165e4caf\" alt=\"Xcode release scheme\"></p>\n<p>Now run your app on a device (<em>not</em> a simulator). Your app should run as normal,\nand you should see debug logs from Shorebird.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"submit-your-app-to-the-app-store\">Submit your app to the App Store</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#submit-your-app-to-the-app-store\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We won’t cover this step in detail here, but this is where you would submit your\napp to the App Store. For code push to work, it is important that you submit\n<em>with the same <code dir=\"auto\">xcframework</code> generated by the release command above</em>.</p>\n<p>You can skip this step if you just want to see Code Push working in an app.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"verify-that-shorebird-is-working-with-a-patch\">Verify that Shorebird is working with a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/ios/#verify-that-shorebird-is-working-with-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Make a user-visible change to the code in your Flutter module. Then run:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios-framework</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.2.3+4</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch ios-framework --release-version 1.2.3+4\"><div></div></button></div></figure></div>\n<p><code dir=\"auto\">release-version</code> should be the version of the iOS app you released with the\noutput of the <code dir=\"auto\">release</code> command. As before, this should match your app’s version\nand build numbers in Xcode. The command above will patch the release we created\nearlier in this guide.</p>\n<p>You can now test the patch in your app by running the app from Xcode. After\nthe app launches, you should see a logs from Shorebird informing you that the\napp is checking for new patches and saying that the patch was installed:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Sending patch check request: PatchCheckRequest { app_id: \"db32f785-284a-429b-9348-d3ead3485438\", channel: \"stable\", release_version: \"1.2.3+4\", patch_number: None, platform: \"ios\", arch: \"aarch64\" }</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">/// other logs</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Patch 1 successfully installed.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Sending patch check request: PatchCheckRequest { app_id: &quot;db32f785-284a-429b-9348-d3ead3485438&quot;, channel: &quot;stable&quot;, release_version: &quot;1.2.3+4&quot;, patch_number: None, platform: &quot;ios&quot;, arch: &quot;aarch64&quot; }/// other logsPatch 1 successfully installed.\"><div></div></button></div></figure></div>\n<p>For the app to reflect the changes, you will need to close and reopen the app.\nDo this by stopping the app in Xcode and then running it again.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#_top",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#prerequisites",
      "https://docs.shorebird.dev/code-push/initialize",
      "https://github.com/shorebirdtech/samples/tree/main/add_to_app",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#add-shorebird-to-your-flutter-module",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#create-a-shorebird-release",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#embed-the-flutter-module-in-your-ios-app",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#add-the-path-to-your-xcframeworks-to-framework-search-paths",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#embed-appxcframework-and-flutterxcframework-in-your-app",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#verify-that-your-app-runs",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#submit-your-app-to-the-app-store",
      "https://docs.shorebird.dev/guides/hybrid-apps/ios/#verify-that-shorebird-is-working-with-a-patch"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/hybrid-apps/ios/#_top)\n\n# Code Push for iOS Hybrid Apps\n\nThis guide explains how to use Shorebird in an iOS hybrid app scenario (that is, your app embeds Flutter UI in non-Flutter UI).\n\n## Prerequisites\n\nThis guide assumes you have already have an iOS app and a Flutter module. Our\niOS app will be named `IosCodePushDemo` and our Flutter module will be named\n`flutter_module`.\n\nThis guide also assumes that you have created a Shorebird account. If you have\nnot created a Shorebird account, please see our [code push guide](https://docs.shorebird.dev/code-push/initialize)\nfor instructions.\n\nThe reference code for this guide is available at\n[https://github.com/shorebirdtech/samples/tree/main/add\\_to\\_app](https://github.com/shorebirdtech/samples/tree/main/add_to_app).\n\n## Add Shorebird to your Flutter module\n\nFirst, run `shorebird init` in your Flutter module:\n\n```\n\nshorebird init\n```\n\n## Create a Shorebird release\n\nFirst, we need to package our Flutter module for release. This will produce an\n`.xcframework` that we can embed in our iOS app and provide Shorebird with the\ninformation it needs to apply patches.\n\nTo create a release, run the following the root directory of your Flutter module:\n\n```\n\nshorebird release ios-framework --release-version 1.2.3+4\n```\n\nThe `release-version` parameter needs to match the version of the iOS app\nthat uses this module (i.e., `version+build` from the Xcode settings, or\n`CFBundleShortVersionString+CFBundleVersion` from your app’s Info.plist).\n\n![Xcode build version](https://github.com/shorebirdtech/shorebird/assets/581764/314289ed-b3bd-46fa-b49a-cea7d482d831)\n\n_The version number for this app would be 1.2.3+4_\n\nThe `ShorebirdFlutter.xcframework` and `App.xcframework` artifacts produced by\nthe `shorebird release` command will be placed in the `release` directory in the\nroot of your Flutter module.\n\n## Embed the Flutter module in your iOS app\n\nWhile there are multiple ways to embed a Flutter module in an iOS app, Shorebird\nrequires that your Flutter module be embedded in your iOS app as an\n.xcframework.\n\n### Add the path to your .xcframeworks to Framework Search Paths\n\nIn Xcode:\n\n1. Navigate to your app target’s “Build Settings” tab.\n2. Find the “Framework Search Paths” setting (the Filter field on the top right\nof the build settings tab is helpful for this).\n3. Add an entry to the “Framework Search Paths” list. This entry should be the\nrelative path to the directory containing `ShorebirdFlutter.xcframework` and\n`App.xcframework` artifacts. By default, these artifacts are placed in the\n`release` directory in the root of your Flutter module, but you should feel\nfree to move them elsewhere if you prefer.\n\n![Xcode framework search paths](https://github.com/shorebirdtech/shorebird/assets/581764/50f92f9c-4bf6-49ce-a4e7-664b8bf8283a)\n\n### Embed App.xcframework and Flutter.xcframework in your app\n\nIn the “General” tab of your app target, add `App.xcframework` and\n`ShorebirdFlutter.xcframework` from to the “Frameworks, Libraries, and Embedded\nContent” section. Make sure to select “Embed & Sign” for both frameworks.\n\n![Xcode embed frameworks](https://github.com/shorebirdtech/shorebird/assets/581764/fe5911bd-046b-47f9-a4d8-d8548e651bd6)\n\n## Verify that your app runs\n\nIn Xcode, update the current scheme’s build configuration to “Release”\n\n![Xcode edit schemes](https://github.com/shorebirdtech/shorebird/assets/581764/cf32be57-c49e-4ff6-aca2-8be06b44f2f9)![Xcode release scheme](https://github.com/shorebirdtech/shorebird/assets/581764/92417ee8-dc66-4cbb-99e7-d940165e4caf)\n\nNow run your app on a device ( _not_ a simulator). Your app should run as normal,\nand you should see debug logs from Shorebird.\n\n## Submit your app to the App Store\n\nWe won’t cover this step in detail here, but this is where you would submit your\napp to the App Store. For code push to work, it is important that you submit\n_with the same `xcframework` generated by the release command above_.\n\nYou can skip this step if you just want to see Code Push working in an app.\n\n## Verify that Shorebird is working with a patch\n\nMake a user-visible change to the code in your Flutter module. Then run:\n\n```\n\nshorebird patch ios-framework --release-version 1.2.3+4\n```\n\n`release-version` should be the version of the iOS app you released with the\noutput of the `release` command. As before, this should match your app’s version\nand build numbers in Xcode. The command above will patch the release we created\nearlier in this guide.\n\nYou can now test the patch in your app by running the app from Xcode. After\nthe app launches, you should see a logs from Shorebird informing you that the\napp is checking for new patches and saying that the patch was installed:\n\n```\n\nSending patch check request: PatchCheckRequest { app_id: \"db32f785-284a-429b-9348-d3ead3485438\", channel: \"stable\", release_version: \"1.2.3+4\", patch_number: None, platform: \"ios\", arch: \"aarch64\" }\n\n/// other logs\n\nPatch 1 successfully installed.\n```\n\nFor the app to reflect the changes, you will need to close and reopen the app.\nDo this by stopping the app in Xcode and then running it again.",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/hybrid-apps/ios/",
      "ogUrl": "https://docs.shorebird.dev/guides/hybrid-apps/ios/",
      "title": "Code Push for iOS Hybrid Apps | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/hybrid-apps/ios/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Code Push for iOS Hybrid Apps",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Code Push for iOS Hybrid Apps",
      "ogLocale": "en",
      "scrapeId": "0c88b92f-7b27-4a3f-ad48-11b7d86ad474",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/hybrid-apps/ios/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Use code push in an hybrid app scenario with an iOS app",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Use code push in an hybrid app scenario with an iOS app",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Use code push in an hybrid app scenario with an iOS app"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/code-push/rollback/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Roll back a Patch</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>If you discover that a live patch has a bug, Shorebird supports patch roll back.\nWhen a patch is rolled back, it is remotely uninstalled from end users’ devices\nand replaced by either the previous patch or the base release if no previous\npatch is available.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"how-to-roll-back-a-patch\">How to roll back a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/rollback/#how-to-roll-back-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In the <a href=\"https://console.shorebird.dev/\">Shorebird Console</a>, navigate to the\nrelease that contains the patch you want to roll back. On the right side of the\npatch row, click the “more” icon (three vertical dots) and select “Rollback”:</p>\n<p><img src=\"https://github.com/user-attachments/assets/941fdc46-d0f3-463f-835f-5c8eb8a02e83\" alt=\"The Shorebird Console showing a &quot;roll back patch&quot; button\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"what-happens-when-a-patch-is-rolled-back\">What happens when a patch is rolled back?</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/rollback/#what-happens-when-a-patch-is-rolled-back\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Imagine we have a release with three patches:</p>\n<p><img src=\"https://github.com/user-attachments/assets/ee5d4e2b-eca3-4318-99e9-038c0134bfff\" alt=\"The Shorebird Console showing three patches, with patch 3 as the active patch\"></p>\n<p>When a user downloads this release from the store, Shorebird will see that patch\n3 is the latest available patch and download it.</p>\n<p>If we discover that there is a problem with patch 3, we can roll it back. The\nConsole will look like this after a rollback:</p>\n<p><img src=\"https://github.com/user-attachments/assets/7ba4ff2c-5823-4c9f-a260-68ca6ce1e10a\" alt=\"The Shorebird Console showing three patches, with patch 3 rolled back and patch 2 as the active patch\"></p>\n<p>Users who download the app from the store will now get patch 2 instead of patch 3. Users who already had patch 3 installed will be downgraded to patch 2.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"under-the-hood\">Under the hood</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/rollback/#under-the-hood\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>When a Shorebird app checks for new patches, the server includes in its response\na list of rolled back patches. If the device has any rolled back patches\ninstalled, it deletes them and reverts to the last “good” patch, which will be\nvisible the next time the app starts.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"patch-integrity-and-automatic-rollback\">Patch Integrity and Automatic Rollback</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/rollback/#patch-integrity-and-automatic-rollback\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird includes safety features to prevent needing to issue the manual\nrollback of a patch.</p>\n<p><code dir=\"auto\">shorebird patch</code> also generates a hash of your patch file which is stored\nseparately from the patch and checked every time your patch is installed, or\nbooted from on the user’s device.</p>\n<p>Customers are also encouraged to use Shorebird’s <a href=\"https://docs.shorebird.dev/guides/patch-signing/\">patch-signing\nfeature</a> to cryptographically\nsign patch files. This uses the same cryptographic algorithms used in the\nGoogle and Apple app stores. When enabled, your <a href=\"https://en.wikipedia.org/wiki/Public-key_cryptography\">public\nkey</a> is included in your\napp bundle and a patch’s signature is checked on every install and boot to\nensure your app can never accept a patch file not signed by your secret key.</p>\n<p>Finally Shorebird’s <a href=\"https://github.com/shorebirdtech/updater\">updater</a> includes\nautomatic on-device rollback. If for any reason a patch’s hash or signature does\nnot match, the patch is discarded. If for any reason a patch fails to load into\nthe Dart runtime, a patch will be marked “bad” on that device, and the app will\nbe automatically rolled back to the latest installed patch.</p>\n<p>The previous patch file is always kept on disk until at least one successful\nboot is made of the next patch, after which a patch file is automatically\ncleaned up from the user’s device to minimize disk usage.</p>\n<p>All of code which implements these integrity measures is of course open source\nand available for review on <a href=\"https://github.com/shorebirdtech/\">GitHub</a>. An\noverview of our code locations is available under <a href=\"https://docs.shorebird.dev/architecture\">Architecture</a>.</p>\n<p>See also <a href=\"https://handbook.shorebird.dev/security/\">Shorebird Public Security Policies</a>.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/code-push/rollback/#_top",
      "https://docs.shorebird.dev/code-push/rollback/#how-to-roll-back-a-patch",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/code-push/rollback/#what-happens-when-a-patch-is-rolled-back",
      "https://docs.shorebird.dev/code-push/rollback/#under-the-hood",
      "https://docs.shorebird.dev/code-push/rollback/#patch-integrity-and-automatic-rollback",
      "https://docs.shorebird.dev/guides/patch-signing/",
      "https://en.wikipedia.org/wiki/Public-key_cryptography",
      "https://github.com/shorebirdtech/updater",
      "https://github.com/shorebirdtech/",
      "https://docs.shorebird.dev/architecture",
      "https://handbook.shorebird.dev/security/"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/code-push/rollback/#_top)\n\n# Roll back a Patch\n\nIf you discover that a live patch has a bug, Shorebird supports patch roll back.\nWhen a patch is rolled back, it is remotely uninstalled from end users’ devices\nand replaced by either the previous patch or the base release if no previous\npatch is available.\n\n## How to roll back a patch\n\nIn the [Shorebird Console](https://console.shorebird.dev/), navigate to the\nrelease that contains the patch you want to roll back. On the right side of the\npatch row, click the “more” icon (three vertical dots) and select “Rollback”:\n\n![The Shorebird Console showing a \"roll back patch\" button](https://github.com/user-attachments/assets/941fdc46-d0f3-463f-835f-5c8eb8a02e83)\n\n## What happens when a patch is rolled back?\n\nImagine we have a release with three patches:\n\n![The Shorebird Console showing three patches, with patch 3 as the active patch](https://github.com/user-attachments/assets/ee5d4e2b-eca3-4318-99e9-038c0134bfff)\n\nWhen a user downloads this release from the store, Shorebird will see that patch\n3 is the latest available patch and download it.\n\nIf we discover that there is a problem with patch 3, we can roll it back. The\nConsole will look like this after a rollback:\n\n![The Shorebird Console showing three patches, with patch 3 rolled back and patch 2 as the active patch](https://github.com/user-attachments/assets/7ba4ff2c-5823-4c9f-a260-68ca6ce1e10a)\n\nUsers who download the app from the store will now get patch 2 instead of patch 3. Users who already had patch 3 installed will be downgraded to patch 2.\n\n### Under the hood\n\nWhen a Shorebird app checks for new patches, the server includes in its response\na list of rolled back patches. If the device has any rolled back patches\ninstalled, it deletes them and reverts to the last “good” patch, which will be\nvisible the next time the app starts.\n\n## Patch Integrity and Automatic Rollback\n\nShorebird includes safety features to prevent needing to issue the manual\nrollback of a patch.\n\n`shorebird patch` also generates a hash of your patch file which is stored\nseparately from the patch and checked every time your patch is installed, or\nbooted from on the user’s device.\n\nCustomers are also encouraged to use Shorebird’s [patch-signing\\\\\nfeature](https://docs.shorebird.dev/guides/patch-signing/) to cryptographically\nsign patch files. This uses the same cryptographic algorithms used in the\nGoogle and Apple app stores. When enabled, your [public\\\\\nkey](https://en.wikipedia.org/wiki/Public-key_cryptography) is included in your\napp bundle and a patch’s signature is checked on every install and boot to\nensure your app can never accept a patch file not signed by your secret key.\n\nFinally Shorebird’s [updater](https://github.com/shorebirdtech/updater) includes\nautomatic on-device rollback. If for any reason a patch’s hash or signature does\nnot match, the patch is discarded. If for any reason a patch fails to load into\nthe Dart runtime, a patch will be marked “bad” on that device, and the app will\nbe automatically rolled back to the latest installed patch.\n\nThe previous patch file is always kept on disk until at least one successful\nboot is made of the next patch, after which a patch file is automatically\ncleaned up from the user’s device to minimize disk usage.\n\nAll of code which implements these integrity measures is of course open source\nand available for review on [GitHub](https://github.com/shorebirdtech/). An\noverview of our code locations is available under [Architecture](https://docs.shorebird.dev/architecture).\n\nSee also [Shorebird Public Security Policies](https://handbook.shorebird.dev/security/).",
    "metadata": {
      "url": "https://docs.shorebird.dev/code-push/rollback/",
      "ogUrl": "https://docs.shorebird.dev/code-push/rollback/",
      "title": "Roll back a Patch | Shorebird",
      "og:url": "https://docs.shorebird.dev/code-push/rollback/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Roll back a Patch",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Roll back a Patch",
      "ogLocale": "en",
      "scrapeId": "ff95902c-7896-496d-aa8d-d543f4f9090e",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/code-push/rollback/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to roll back a patch in Shorebird.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to roll back a patch in Shorebird.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to roll back a patch in Shorebird."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/code-push/preview/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Preview Locally</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Once you have <a href=\"https://docs.shorebird.dev/code-push/release\">created a release</a>, you can preview your\nrelease on an Android device, Android emulator, or iOS device using the <code dir=\"auto\">shorebird preview</code> command.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird preview\"><div></div></button></div></figure></div>\n<p>This will download the release artifacts for the selected app release version, install the app on the selected device, and start the application.</p>\n  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/code-push/preview/#_top",
      "https://docs.shorebird.dev/code-push/release"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/code-push/preview/#_top)\n\n# Preview Locally\n\nOnce you have [created a release](https://docs.shorebird.dev/code-push/release), you can preview your\nrelease on an Android device, Android emulator, or iOS device using the `shorebird preview` command.\n\n```\n\nshorebird preview\n```\n\nThis will download the release artifacts for the selected app release version, install the app on the selected device, and start the application.",
    "metadata": {
      "url": "https://docs.shorebird.dev/code-push/preview/",
      "ogUrl": "https://docs.shorebird.dev/code-push/preview/",
      "title": "Preview Locally | Shorebird",
      "og:url": "https://docs.shorebird.dev/code-push/preview/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Preview Locally",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Preview Locally",
      "ogLocale": "en",
      "scrapeId": "9d0c7469-0b76-4bcd-b62c-b4adc5f7be1f",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/code-push/preview/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to preview an existing release of your application.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to preview an existing release of your application.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to preview an existing release of your application."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/billing/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Billing</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Shorebird uses Stripe for all billing. We accept payment in any method that\nStripe accepts.</p>\n<p>Annual billing, invoice billing and other payment methods are also available to\ncustomers purchasing over 1M patches per month, or custom enterprise plans. See\nour <a href=\"https://shorebird.dev/pricing\">pricing page</a> for more information.</p>\n<p>The Shorebird Pro plan costs $20 per month, due at the beginning of each billing\ncycle, starting with time of purchase.</p>\n<p>Shorebird charges based on successful patch installs, which are reported by your\napp to Shorebird servers on successful launch of your application with a newly\ninstalled patch (you are not charged if the user never launches the patch).</p>\n<p>The Shorebird Pro plan includes 50,000 patch installs and supports optional\noverage billing for installs beyond 50,000.</p>\n<p>See <a href=\"https://shorebird.dev/blog/simplified-pricing/\">our blog</a> for instructions\non how to enable overage billing.</p>\n<p>Overages will appear on the next month’s invoice. For example, if you purchase a\nPro plan (which includes 50,000 patch installs) and use 100,000 patches every\nmonth:</p>\n<ul>\n<li>You will be billed $20 at time of purchase (Month 1)</li>\n<li>At the start of every month afterwards, you will be billed for the 50,000 for\nthe that month, as well as the 50,000 overages from the previous month, for a\ntotal of $40.</li>\n</ul>\n<p>You can view records of patch installs in <a href=\"https://console.shorebird.dev/account\">your accounts\npage</a> on the Shorebird Console. These\nnumbers are updated hourly.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/billing/#_top",
      "https://shorebird.dev/pricing",
      "https://shorebird.dev/blog/simplified-pricing/",
      "https://console.shorebird.dev/account"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/billing/#_top)\n\n# Billing\n\nShorebird uses Stripe for all billing. We accept payment in any method that\nStripe accepts.\n\nAnnual billing, invoice billing and other payment methods are also available to\ncustomers purchasing over 1M patches per month, or custom enterprise plans. See\nour [pricing page](https://shorebird.dev/pricing) for more information.\n\nThe Shorebird Pro plan costs $20 per month, due at the beginning of each billing\ncycle, starting with time of purchase.\n\nShorebird charges based on successful patch installs, which are reported by your\napp to Shorebird servers on successful launch of your application with a newly\ninstalled patch (you are not charged if the user never launches the patch).\n\nThe Shorebird Pro plan includes 50,000 patch installs and supports optional\noverage billing for installs beyond 50,000.\n\nSee [our blog](https://shorebird.dev/blog/simplified-pricing/) for instructions\non how to enable overage billing.\n\nOverages will appear on the next month’s invoice. For example, if you purchase a\nPro plan (which includes 50,000 patch installs) and use 100,000 patches every\nmonth:\n\n- You will be billed $20 at time of purchase (Month 1)\n- At the start of every month afterwards, you will be billed for the 50,000 for\nthe that month, as well as the 50,000 overages from the previous month, for a\ntotal of $40.\n\nYou can view records of patch installs in [your accounts\\\\\npage](https://console.shorebird.dev/account) on the Shorebird Console. These\nnumbers are updated hourly.",
    "metadata": {
      "url": "https://docs.shorebird.dev/billing/",
      "ogUrl": "https://docs.shorebird.dev/billing/",
      "title": "Billing | Shorebird",
      "og:url": "https://docs.shorebird.dev/billing/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Billing",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Billing",
      "ogLocale": "en",
      "scrapeId": "3c8d7da5-a2b1-4032-9a1f-98367847f442",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/billing",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "How Shorebird handles Billing",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "How Shorebird handles Billing",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "How Shorebird handles Billing"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/ci/fastlane/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Fastlane</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n<p>Fastlane is a popular tool for automating the build and release process for iOS\nand Android apps. Shorebird can be integrated with fastlane to automate\nreleasing and patching.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"installation\">Installation</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/fastlane/#installation\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Follow the setup instructions on the fastlane website to install fastlane\n(<a href=\"https://docs.fastlane.tools/getting-started/ios/setup/\">ios</a>,\n<a href=\"https://docs.fastlane.tools/getting-started/android/setup/\">android</a>).</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"setup\">Setup</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/fastlane/#setup\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes that you have shorebird installed on the machine that will be\nrunning the fastlane commands. If you have not already installed shorebird, you\ncan do so by following the <a href=\"https://docs.shorebird.dev/#install\">Getting Started instructions</a>.</p>\n<p>If you are not already using fastlane with your project, navigate to your app’s\n<code dir=\"auto\">ios</code> directory in your project and run <code dir=\"auto\">fastlane init</code>. You will be prompted to\nanswer several questions. For this guide, we will choose to manually add lanes\nto the <code dir=\"auto\">Fastfile</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"use-the-shorebird-plugin\">Use the Shorebird plugin</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/fastlane/#use-the-shorebird-plugin\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Run the following command to install the <code dir=\"auto\">shorebird</code> fastlane plugin, which\nexposes the <code dir=\"auto\">shorebird_release</code> and <code dir=\"auto\">shorebird_patch</code> actions.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">bundle</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">exec</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">fastlane</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">add_plugin</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"bundle exec fastlane add_plugin shorebird\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"update-fastfile-to-release\">Update Fastfile to release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/fastlane/#update-fastfile-to-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Open the <code dir=\"auto\">Fastfile</code> in the <code dir=\"auto\">fastlane</code> directory and add the following lane:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"ruby\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">lane </span><span style=\"--0:#569CD6;--1:#005CC5\">:release_shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">do</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird_release</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#569CD6;--1:#005CC5\">platform:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"ios\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">upload_to_testflight</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#C586C0;--1:#BF3441\">end</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"lane :release_shorebird do  shorebird_release(platform: &quot;ios&quot;)  upload_to_testflightend\"><div></div></button></div></figure></div>\n<p>To run this, execute the following command:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">bundle</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">exec</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">fastlane</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release_shorebird</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"bundle exec fastlane release_shorebird\"><div></div></button></div></figure></div>\n\n<p>If you would like to provide additional arguments to the release command, you\ncan do so using the <code dir=\"auto\">args</code> parameter. For example:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"ruby\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird_release</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#569CD6;--1:#005CC5\">platform:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"ios\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">, </span><span style=\"--0:#569CD6;--1:#005CC5\">args:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"--no-codesign -- --build-name=1.0.0\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">)</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird_release(platform: &quot;ios&quot;, args: &quot;--no-codesign -- --build-name=1.0.0&quot;)\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"update-fastfile-to-patch\">Update Fastfile to patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/fastlane/#update-fastfile-to-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Open the <code dir=\"auto\">Fastfile</code> in the <code dir=\"auto\">fastlane</code> directory and add the following lane:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"ruby\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">lane </span><span style=\"--0:#569CD6;--1:#005CC5\">:patch_shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">do</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird_patch</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#569CD6;--1:#005CC5\">platform:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"ios\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#C586C0;--1:#BF3441\">end</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"lane :patch_shorebird do  shorebird_patch(platform: &quot;ios&quot;)end\"><div></div></button></div></figure></div>\n<p>This will patch the iOS release with the version number detected in the compiled\napp and patch the release with that version.</p>\n<p>As with <code dir=\"auto\">shorebird_release</code>, you can provide additional arguments to the patch\ncommand using the <code dir=\"auto\">args</code> parameter.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"ruby\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird_patch</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#569CD6;--1:#005CC5\">platform:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"ios\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">, </span><span style=\"--0:#569CD6;--1:#005CC5\">args:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"--allow-native-diffs -- --build-name=1.0.0\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">)</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird_patch(platform: &quot;ios&quot;, args: &quot;--allow-native-diffs -- --build-name=1.0.0&quot;)\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/ci/fastlane/#_top",
      "https://docs.shorebird.dev/ci/fastlane/#installation",
      "https://docs.fastlane.tools/getting-started/ios/setup/",
      "https://docs.fastlane.tools/getting-started/android/setup/",
      "https://docs.shorebird.dev/ci/fastlane/#setup",
      "https://docs.shorebird.dev/#install",
      "https://docs.shorebird.dev/ci/fastlane/#use-the-shorebird-plugin",
      "https://docs.shorebird.dev/ci/fastlane/#update-fastfile-to-release",
      "https://docs.shorebird.dev/ci/fastlane/#update-fastfile-to-patch"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/ci/fastlane/#_top)\n\n# Fastlane\n\nFastlane is a popular tool for automating the build and release process for iOS\nand Android apps. Shorebird can be integrated with fastlane to automate\nreleasing and patching.\n\n## Installation\n\nFollow the setup instructions on the fastlane website to install fastlane\n( [ios](https://docs.fastlane.tools/getting-started/ios/setup/),\n[android](https://docs.fastlane.tools/getting-started/android/setup/)).\n\n## Setup\n\nThis guide assumes that you have shorebird installed on the machine that will be\nrunning the fastlane commands. If you have not already installed shorebird, you\ncan do so by following the [Getting Started instructions](https://docs.shorebird.dev/#install).\n\nIf you are not already using fastlane with your project, navigate to your app’s\n`ios` directory in your project and run `fastlane init`. You will be prompted to\nanswer several questions. For this guide, we will choose to manually add lanes\nto the `Fastfile`.\n\n## Use the Shorebird plugin\n\nRun the following command to install the `shorebird` fastlane plugin, which\nexposes the `shorebird_release` and `shorebird_patch` actions.\n\n```\n\nbundle exec fastlane add_plugin shorebird\n```\n\n## Update Fastfile to release\n\nOpen the `Fastfile` in the `fastlane` directory and add the following lane:\n\n```\n\nlane :release_shorebird do\n\n  shorebird_release(platform: \"ios\")\n\n  upload_to_testflight\n\nend\n```\n\nTo run this, execute the following command:\n\n```\n\nbundle exec fastlane release_shorebird\n```\n\nIf you would like to provide additional arguments to the release command, you\ncan do so using the `args` parameter. For example:\n\n```\n\nshorebird_release(platform: \"ios\", args: \"--no-codesign -- --build-name=1.0.0\")\n```\n\n## Update Fastfile to patch\n\nOpen the `Fastfile` in the `fastlane` directory and add the following lane:\n\n```\n\nlane :patch_shorebird do\n\n  shorebird_patch(platform: \"ios\")\n\nend\n```\n\nThis will patch the iOS release with the version number detected in the compiled\napp and patch the release with that version.\n\nAs with `shorebird_release`, you can provide additional arguments to the patch\ncommand using the `args` parameter.\n\n```\n\nshorebird_patch(platform: \"ios\", args: \"--allow-native-diffs -- --build-name=1.0.0\")\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/ci/fastlane/",
      "ogUrl": "https://docs.shorebird.dev/ci/fastlane/",
      "title": "Fastlane | Shorebird",
      "og:url": "https://docs.shorebird.dev/ci/fastlane/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Fastlane",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Fastlane",
      "ogLocale": "en",
      "scrapeId": "3ab2cb82-abd6-4fb4-89eb-4e4fd495e2b2",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/ci/fastlane/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Using fastlane with Shorebird",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Using fastlane with Shorebird",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Using fastlane with Shorebird"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/architecture/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Shorebird Architecture</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n<p>Shorebird is a set of tools that allow you to build and deploy new versions of\nyour Flutter app directly to your users’ devices.</p>\n<p>This document exists to explain how Shorebird works and to provide a high-level\noverview of the components that make up the Shorebird system.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"lifetime-of-a-shorebird-update\">Lifetime of a Shorebird Update</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#lifetime-of-a-shorebird-update\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This assumes the developer already has installed Shorebird and has a working Flutter\nproject, as covered in the <a href=\"https://docs.shorebird.dev/\">Getting Started</a> guide.</p>\n<p><code dir=\"auto\">shorebird init</code> tells Shorebird servers to create a new “App” entry associated\nwith your account as well as writes the resulting app_id to <code dir=\"auto\">shorebird.yaml</code> in\nyour project.</p>\n<p><code dir=\"auto\">shorebird release</code> builds your app using <code dir=\"auto\">flutter build</code> and then uploads\nthe resulting binary to a private Google Cloud Storage bucket. The command\nalso creates a “release” record in our database that associates the app_id\nwith the release version.</p>\n<p><code dir=\"auto\">shorebird preview</code> can be used to download and run any of these privately\nstored release binaries on your local device.</p>\n<p>Developers then typically take the resulting .aab or .ipa and distribute it\nto their users, typically via the Play Store or App Store.</p>\n<p>At some point later, developers use <code dir=\"auto\">shorebird patch</code> to build a new version\nof their app. <code dir=\"auto\">shorebird patch</code> then downloads the previous release binary\nassociated with that app_id and version number (patches use the same version\nnumber as the release they are patching) and then builds a “patch diff” from\nthe combined release and patch binaries. This “patch diff” is then uploaded\nto a public Google Cloud Storage bucket where it will be served to devices\nrequesting an update with the corresponding app_id and release version.</p>\n<p><code dir=\"auto\">shorebird patch</code> also creates a record in our database that associates the\npatch with the app_id and release version and alerts our “patch check” servers\nthat a new patch is available. Patches can optionally be “staged” when\nuploaded. They will then not appear in patch checks until the patch “channel”\nis set to “stable” by the developer in the Shorebird Console.</p>\n<p>Release binaries which were built with Shorebird contain Shorebird’s updater\nlibrary. By default, the updater library will check for patches every time\nthe app is started. This is done via a background thread to not slow down\nlaunch. The updater code makes a single request to our “patch check” servers\nwhich are again Google Cloud Run instances. The “patch check” servers\nrespond with the URL of the patch diff if one is available.</p>\n<p>A typical patch check is made via https, and contains:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"json\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">{</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"app_id\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"uuid...\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"channel\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"stable\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"release_version\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"1.0.0\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"patch_number\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">1</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"platform\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"android\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"arch\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"arm64-v8a\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &quot;app_id&quot;: &quot;uuid...&quot;,  &quot;channel&quot;: &quot;stable&quot;,  &quot;release_version&quot;: &quot;1.0.0&quot;,  &quot;patch_number&quot;: 1,  &quot;platform&quot;: &quot;android&quot;,  &quot;arch&quot;: &quot;arm64-v8a&quot;}\"><div></div></button></div></figure></div>\n<p>A patch response contains:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"json\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">{</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"patch_available\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"patch\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"number\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">1</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"hash\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"sha256...\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"download_url\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"google cloud storage url\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &quot;patch_available&quot;: true,  &quot;patch&quot;: {    &quot;number&quot;: 1,    &quot;hash&quot;: &quot;sha256...&quot;,    &quot;download_url&quot;: &quot;google cloud storage url&quot;  }}\"><div></div></button></div></figure></div>\n<p>The code to do these checks is open source as part of the <a href=\"https://github.com/shorebirdtech/updater/blob/main/library\">Shorebird Updater\nlibrary</a> and may\nchange from what is documented above:\n<a href=\"https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs\">https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs</a></p>\n<p>The updater library then downloads the patch diff and applies it to the\nrelease binary. The patch diff is a binary diff. The updater library\nalso checks the hash of the patch diff to confirm download integrity.</p>\n<p>The hash is not meant to be a security feature, but rather a way to detect\nerrors in the patch diff. A common error we see is that developers <code dir=\"auto\">shorebird release</code> with one source and then actually build and release a different binary,\nresulting then in invalid patches. This hash helps detect such errors. We\ncurrently do not sign patches, but plan to add that capability in the near\nfuture.</p>\n<p>The modified Flutter engine also reports successful or failed launch of\na patch back to our servers the next time it makes a patch check.</p>\n<p>A patch event contains:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"json\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">{</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"app_id\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"uuid...\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"arch\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"arm64-v8a\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"platform\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"android\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"type\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"PatchInstallSuccess\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"release_version\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"1.0.0\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#9CDCFE;--1:#005CC5\">\"patch_number\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &quot;app_id&quot;: &quot;uuid...&quot;,  &quot;arch&quot;: &quot;arm64-v8a&quot;,  &quot;platform&quot;: &quot;android&quot;,  &quot;type&quot;: &quot;PatchInstallSuccess&quot;,  &quot;release_version&quot;: &quot;1.0.0&quot;,  &quot;patch_number&quot;: 1}\"><div></div></button></div></figure></div>\n<p>These events are used to display patch install analytics in the Shorebird\nConsole.</p>\n<p>If a patch fails to launch after install, in addition to sending a\n“PatchInstallFailure” event, the updater library will also mark that patch\nnumber as “bad” locally and refuse to boot the app with that patch number again.\nThis is to prevent a bad patch from causing a crash loop on the device.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"shorebird-components-and-source-code\">Shorebird Components and Source Code</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#shorebird-components-and-source-code\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird consists of 3 major parts:</p>\n<ol>\n<li>The <code dir=\"auto\">Shorebird CLI</code> tool that you use to build and deploy your app from the command line.</li>\n<li>A modified Flutter engine that is include in your app.</li>\n<li>Our public-cloud infrastructure which hosts your app’s updates.</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"the-shorebird-cli\">The <code dir=\"auto\">Shorebird CLI</code></h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#the-shorebird-cli\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <a href=\"https://github.com/shorebirdtech/shorebird/tree/main/packages/shorebird_cli\"><code dir=\"auto\">shorebird_cli</code></a>\ncommands are documented on this site. Most of the build logic is just wrapping\nthe <code dir=\"auto\">flutter</code> tool and it also adds a few commands to interface with Shorebird’s\nservers.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"flutter-modifications\">Flutter Modifications</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#flutter-modifications\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Code push requires technical changes to the underlying Flutter engine. To make\nthose changes required forking Flutter.</p>\n<p>We had to fork 4 Flutter and Dart repositories to make Shorebird work:</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"flutterbuildroot-the-buildroot\"><code dir=\"auto\">flutter/buildroot</code> “The Buildroot”</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#flutterbuildroot-the-buildroot\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <a href=\"https://github.com/flutter/buildroot\"><code dir=\"auto\">flutter/buildroot</code></a> repo contains the build scripts that are used to build the\nFlutter engine for various platforms. It’s separate from <code dir=\"auto\">flutter/engine</code> in\norder to share code and configuration with the Fuchsia build system.</p>\n<p>We forked this repository to make several small modifications:</p>\n<ol>\n<li>\n<p>Expose our updater symbols from the Flutter engine up to\n<code dir=\"auto\">package:shorebird_code_push</code></p>\n</li>\n<li>\n<p>Include <code dir=\"auto\">libunwind</code> since the <a href=\"https://github.com/shorebirdtech/updater\">Shorebird\nUpdater</a> (Rust) code requires it\nfor backtraces.</p>\n</li>\n</ol>\n<p>The <a href=\"https://github.com/shorebirdtech/updater\">Shorebird Updater</a> is a Rust\nlibrary which is linked into the Flutter engine via a static library\n(<code dir=\"auto\">libupdater.a</code>) that exposes a C API.</p>\n<p>Because the default Flutter engine linking flags hide all symbols from linked\nstatic libraries, and because we need to be able to expose the <code dir=\"auto\">shorebird\\_\\*</code>\nsymbols from <code dir=\"auto\">libupdater.a</code> to the Dart code, we made one change to <code dir=\"auto\">buildroot</code>\nand then a second change to the <code dir=\"auto\">engine</code> to place the symbols on the allow-list.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"flutterengine-the-flutter-engine\"><code dir=\"auto\">flutter/engine</code> “The Flutter Engine”</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#flutterengine-the-flutter-engine\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <a href=\"https://github.com/flutter/engine/\"><code dir=\"auto\">flutter/engine</code></a> repo contains C++\ncode that runs on the device. It is responsible for rendering the UI, handling\ninput, and communicating with the host.</p>\n<p>We forked this code to add the\n<a href=\"https://github.com/shorebirdtech/updater\">Shorebird Updater</a>, which lets the\nFlutter engine load new code from Shorebird’s servers.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"flutterflutter-the-flutter-framework\"><code dir=\"auto\">flutter/flutter</code> “The Flutter Framework”</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#flutterflutter-the-flutter-framework\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <a href=\"https://github.com/flutter/flutter/\"><code dir=\"auto\">flutter/flutter</code></a> repo contains the Dart code that runs on the device as well\nas the <code dir=\"auto\">flutter</code> tool that is used to build and run Flutter apps.</p>\n<p>We forked this code to be able to deliver our modified Flutter engine to change\nthe version of the engine that the <code dir=\"auto\">flutter</code> tool uses and to include the\n<code dir=\"auto\">shorebird.yaml</code> configuration as part of the asset bundle.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"dart-langsdk-the-dart-sdk\"><code dir=\"auto\">dart-lang/sdk</code> “The Dart SDK”</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#dart-langsdk-the-dart-sdk\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <a href=\"https://github.com/dart-lang/sdk/\"><code dir=\"auto\">dart-lang/sdk</code></a> repo contains the Dart\nSDK, including the VM, dart2js, core libraries, and more.</p>\n<p>We forked this code in order to teach Dart how to run modified (patched) code in\nan interpreter while being able to run all unmodified code on the CPU.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"installing-a-forked-flutter\">Installing a Forked Flutter</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#installing-a-forked-flutter\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>When you install Shorebird, it installs Flutter and Dart from our fork. These\nare currently not exposed on the user’s path, rather private copies that\nShorebird will use when building your app.</p>\n<p>This was necessary to avoid conflicts with other Flutter installations on the\nuser’s machine. Specifically, the way that Flutter downloads artifacts is based\non the version of the engine. If we were to use the same version of the engine\nas the user’s Flutter installation, then we would overwrite the user’s engine\nartifacts.</p>\n<p>We deliver our artifacts to this fork of Flutter with two ways. First is we\nchange the version of the engine in the <code dir=\"auto\">flutter</code> tool. Second is we pass\n<code dir=\"auto\">FLUTTER_STORAGE_BASE_URL</code> set to <code dir=\"auto\">download.shorebird.dev</code> (instead of\n<code dir=\"auto\">download.flutter.io</code>) when calling our vended copy of the <code dir=\"auto\">flutter</code> tool.</p>\n<p>Currently this means <code dir=\"auto\">shorebird</code> will not work in an environment where the\nuser needs to use <code dir=\"auto\">FLUTTER_STORAGE_BASE_URL</code> to download Flutter artifacts\nfrom a private mirror (e.g. a corporate network or China).\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/237\">https://github.com/shorebirdtech/shorebird/issues/237</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"serving-forked-binaries\">Serving Forked Binaries</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#serving-forked-binaries\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We also use a custom server to handle requests from <code dir=\"auto\">flutter</code> for our\nmodified engine. The source for that server is here:\n<a href=\"https://github.com/shorebirdtech/shorebird/tree/main/packages/artifact_proxy\">https://github.com/shorebirdtech/shorebird/tree/main/packages/artifact_proxy</a></p>\n<p>The artifact proxy is hosted at <a href=\"https://download.shorebird.dev/\">https://download.shorebird.dev</a> via Google Cloud Run.</p>\n<p>This proxy knows how to serve the modified binaries from our Google Storage\nbucket, as well as how to forward along requests to Google’s Flutter storage\nbucket for unmodified binaries for all parts of Flutter we didn’t have to\nmodify.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"shorebirds-cloud-infrastructure\">Shorebird’s Cloud Infrastructure</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/architecture/#shorebirds-cloud-infrastructure\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird’s public-cloud based infrastructure is responsible for hosting your\napp’s updates. It’s a set of services that handle the following:</p>\n<ul>\n<li>Release binary (private) storage</li>\n<li>Patch binary (public) storage and serving (via global CDN)</li>\n<li>Patch check requests (via Google Cloud Run)</li>\n</ul>\n<p>We also provide a web-based console for developers to manage their apps and\nview analytics as well as the underlying database that powers the patch checks\nand console.</p>\n<p>Currently all of our infrastructure is hosted on Google Cloud Platform although\nwe will likely expand to other cloud providers over time. If we do, we will\nupdate our privacy policy to reflect such. All of these services are currently\nset to use US regions by default.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/architecture/#_top",
      "https://docs.shorebird.dev/architecture/#lifetime-of-a-shorebird-update",
      "https://docs.shorebird.dev/",
      "https://github.com/shorebirdtech/updater/blob/main/library",
      "https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs",
      "https://docs.shorebird.dev/architecture/#shorebird-components-and-source-code",
      "https://docs.shorebird.dev/architecture/#the-shorebird-cli",
      "https://github.com/shorebirdtech/shorebird/tree/main/packages/shorebird_cli",
      "https://docs.shorebird.dev/architecture/#flutter-modifications",
      "https://docs.shorebird.dev/architecture/#flutterbuildroot-the-buildroot",
      "https://github.com/flutter/buildroot",
      "https://github.com/shorebirdtech/updater",
      "https://docs.shorebird.dev/architecture/#flutterengine-the-flutter-engine",
      "https://github.com/flutter/engine/",
      "https://docs.shorebird.dev/architecture/#flutterflutter-the-flutter-framework",
      "https://github.com/flutter/flutter/",
      "https://docs.shorebird.dev/architecture/#dart-langsdk-the-dart-sdk",
      "https://github.com/dart-lang/sdk/",
      "https://docs.shorebird.dev/architecture/#installing-a-forked-flutter",
      "https://github.com/shorebirdtech/shorebird/issues/237",
      "https://docs.shorebird.dev/architecture/#serving-forked-binaries",
      "https://github.com/shorebirdtech/shorebird/tree/main/packages/artifact_proxy",
      "https://download.shorebird.dev/",
      "https://docs.shorebird.dev/architecture/#shorebirds-cloud-infrastructure"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/architecture/#_top)\n\n# Shorebird Architecture\n\nShorebird is a set of tools that allow you to build and deploy new versions of\nyour Flutter app directly to your users’ devices.\n\nThis document exists to explain how Shorebird works and to provide a high-level\noverview of the components that make up the Shorebird system.\n\n## Lifetime of a Shorebird Update\n\nThis assumes the developer already has installed Shorebird and has a working Flutter\nproject, as covered in the [Getting Started](https://docs.shorebird.dev/) guide.\n\n`shorebird init` tells Shorebird servers to create a new “App” entry associated\nwith your account as well as writes the resulting app\\_id to `shorebird.yaml` in\nyour project.\n\n`shorebird release` builds your app using `flutter build` and then uploads\nthe resulting binary to a private Google Cloud Storage bucket. The command\nalso creates a “release” record in our database that associates the app\\_id\nwith the release version.\n\n`shorebird preview` can be used to download and run any of these privately\nstored release binaries on your local device.\n\nDevelopers then typically take the resulting .aab or .ipa and distribute it\nto their users, typically via the Play Store or App Store.\n\nAt some point later, developers use `shorebird patch` to build a new version\nof their app. `shorebird patch` then downloads the previous release binary\nassociated with that app\\_id and version number (patches use the same version\nnumber as the release they are patching) and then builds a “patch diff” from\nthe combined release and patch binaries. This “patch diff” is then uploaded\nto a public Google Cloud Storage bucket where it will be served to devices\nrequesting an update with the corresponding app\\_id and release version.\n\n`shorebird patch` also creates a record in our database that associates the\npatch with the app\\_id and release version and alerts our “patch check” servers\nthat a new patch is available. Patches can optionally be “staged” when\nuploaded. They will then not appear in patch checks until the patch “channel”\nis set to “stable” by the developer in the Shorebird Console.\n\nRelease binaries which were built with Shorebird contain Shorebird’s updater\nlibrary. By default, the updater library will check for patches every time\nthe app is started. This is done via a background thread to not slow down\nlaunch. The updater code makes a single request to our “patch check” servers\nwhich are again Google Cloud Run instances. The “patch check” servers\nrespond with the URL of the patch diff if one is available.\n\nA typical patch check is made via https, and contains:\n\n```\n\n{\n\n  \"app_id\": \"uuid...\",\n\n  \"channel\": \"stable\",\n\n  \"release_version\": \"1.0.0\",\n\n  \"patch_number\": 1,\n\n  \"platform\": \"android\",\n\n  \"arch\": \"arm64-v8a\"\n\n}\n```\n\nA patch response contains:\n\n```\n\n{\n\n  \"patch_available\": true,\n\n  \"patch\": {\n\n    \"number\": 1,\n\n    \"hash\": \"sha256...\",\n\n    \"download_url\": \"google cloud storage url\"\n\n  }\n\n}\n```\n\nThe code to do these checks is open source as part of the [Shorebird Updater\\\\\nlibrary](https://github.com/shorebirdtech/updater/blob/main/library) and may\nchange from what is documented above:\n[https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs](https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs)\n\nThe updater library then downloads the patch diff and applies it to the\nrelease binary. The patch diff is a binary diff. The updater library\nalso checks the hash of the patch diff to confirm download integrity.\n\nThe hash is not meant to be a security feature, but rather a way to detect\nerrors in the patch diff. A common error we see is that developers `shorebird release` with one source and then actually build and release a different binary,\nresulting then in invalid patches. This hash helps detect such errors. We\ncurrently do not sign patches, but plan to add that capability in the near\nfuture.\n\nThe modified Flutter engine also reports successful or failed launch of\na patch back to our servers the next time it makes a patch check.\n\nA patch event contains:\n\n```\n\n{\n\n  \"app_id\": \"uuid...\",\n\n  \"arch\": \"arm64-v8a\",\n\n  \"platform\": \"android\",\n\n  \"type\": \"PatchInstallSuccess\",\n\n  \"release_version\": \"1.0.0\",\n\n  \"patch_number\": 1\n\n}\n```\n\nThese events are used to display patch install analytics in the Shorebird\nConsole.\n\nIf a patch fails to launch after install, in addition to sending a\n“PatchInstallFailure” event, the updater library will also mark that patch\nnumber as “bad” locally and refuse to boot the app with that patch number again.\nThis is to prevent a bad patch from causing a crash loop on the device.\n\n## Shorebird Components and Source Code\n\nShorebird consists of 3 major parts:\n\n1. The `Shorebird CLI` tool that you use to build and deploy your app from the command line.\n2. A modified Flutter engine that is include in your app.\n3. Our public-cloud infrastructure which hosts your app’s updates.\n\n### The `Shorebird CLI`\n\nThe [`shorebird_cli`](https://github.com/shorebirdtech/shorebird/tree/main/packages/shorebird_cli)\ncommands are documented on this site. Most of the build logic is just wrapping\nthe `flutter` tool and it also adds a few commands to interface with Shorebird’s\nservers.\n\n### Flutter Modifications\n\nCode push requires technical changes to the underlying Flutter engine. To make\nthose changes required forking Flutter.\n\nWe had to fork 4 Flutter and Dart repositories to make Shorebird work:\n\n#### `flutter/buildroot` “The Buildroot”\n\nThe [`flutter/buildroot`](https://github.com/flutter/buildroot) repo contains the build scripts that are used to build the\nFlutter engine for various platforms. It’s separate from `flutter/engine` in\norder to share code and configuration with the Fuchsia build system.\n\nWe forked this repository to make several small modifications:\n\n1. Expose our updater symbols from the Flutter engine up to\n`package:shorebird_code_push`\n\n2. Include `libunwind` since the [Shorebird\\\\\nUpdater](https://github.com/shorebirdtech/updater) (Rust) code requires it\nfor backtraces.\n\n\nThe [Shorebird Updater](https://github.com/shorebirdtech/updater) is a Rust\nlibrary which is linked into the Flutter engine via a static library\n( `libupdater.a`) that exposes a C API.\n\nBecause the default Flutter engine linking flags hide all symbols from linked\nstatic libraries, and because we need to be able to expose the `shorebird\\_\\*`\nsymbols from `libupdater.a` to the Dart code, we made one change to `buildroot`\nand then a second change to the `engine` to place the symbols on the allow-list.\n\n#### `flutter/engine` “The Flutter Engine”\n\nThe [`flutter/engine`](https://github.com/flutter/engine/) repo contains C++\ncode that runs on the device. It is responsible for rendering the UI, handling\ninput, and communicating with the host.\n\nWe forked this code to add the\n[Shorebird Updater](https://github.com/shorebirdtech/updater), which lets the\nFlutter engine load new code from Shorebird’s servers.\n\n#### `flutter/flutter` “The Flutter Framework”\n\nThe [`flutter/flutter`](https://github.com/flutter/flutter/) repo contains the Dart code that runs on the device as well\nas the `flutter` tool that is used to build and run Flutter apps.\n\nWe forked this code to be able to deliver our modified Flutter engine to change\nthe version of the engine that the `flutter` tool uses and to include the\n`shorebird.yaml` configuration as part of the asset bundle.\n\n#### `dart-lang/sdk` “The Dart SDK”\n\nThe [`dart-lang/sdk`](https://github.com/dart-lang/sdk/) repo contains the Dart\nSDK, including the VM, dart2js, core libraries, and more.\n\nWe forked this code in order to teach Dart how to run modified (patched) code in\nan interpreter while being able to run all unmodified code on the CPU.\n\n#### Installing a Forked Flutter\n\nWhen you install Shorebird, it installs Flutter and Dart from our fork. These\nare currently not exposed on the user’s path, rather private copies that\nShorebird will use when building your app.\n\nThis was necessary to avoid conflicts with other Flutter installations on the\nuser’s machine. Specifically, the way that Flutter downloads artifacts is based\non the version of the engine. If we were to use the same version of the engine\nas the user’s Flutter installation, then we would overwrite the user’s engine\nartifacts.\n\nWe deliver our artifacts to this fork of Flutter with two ways. First is we\nchange the version of the engine in the `flutter` tool. Second is we pass\n`FLUTTER_STORAGE_BASE_URL` set to `download.shorebird.dev` (instead of\n`download.flutter.io`) when calling our vended copy of the `flutter` tool.\n\nCurrently this means `shorebird` will not work in an environment where the\nuser needs to use `FLUTTER_STORAGE_BASE_URL` to download Flutter artifacts\nfrom a private mirror (e.g. a corporate network or China).\n[https://github.com/shorebirdtech/shorebird/issues/237](https://github.com/shorebirdtech/shorebird/issues/237)\n\n#### Serving Forked Binaries\n\nWe also use a custom server to handle requests from `flutter` for our\nmodified engine. The source for that server is here:\n[https://github.com/shorebirdtech/shorebird/tree/main/packages/artifact\\_proxy](https://github.com/shorebirdtech/shorebird/tree/main/packages/artifact_proxy)\n\nThe artifact proxy is hosted at [https://download.shorebird.dev](https://download.shorebird.dev/) via Google Cloud Run.\n\nThis proxy knows how to serve the modified binaries from our Google Storage\nbucket, as well as how to forward along requests to Google’s Flutter storage\nbucket for unmodified binaries for all parts of Flutter we didn’t have to\nmodify.\n\n### Shorebird’s Cloud Infrastructure\n\nShorebird’s public-cloud based infrastructure is responsible for hosting your\napp’s updates. It’s a set of services that handle the following:\n\n- Release binary (private) storage\n- Patch binary (public) storage and serving (via global CDN)\n- Patch check requests (via Google Cloud Run)\n\nWe also provide a web-based console for developers to manage their apps and\nview analytics as well as the underlying database that powers the patch checks\nand console.\n\nCurrently all of our infrastructure is hosted on Google Cloud Platform although\nwe will likely expand to other cloud providers over time. If we do, we will\nupdate our privacy policy to reflect such. All of these services are currently\nset to use US regions by default.",
    "metadata": {
      "url": "https://docs.shorebird.dev/architecture/",
      "ogUrl": "https://docs.shorebird.dev/architecture/",
      "title": "Shorebird Architecture | Shorebird",
      "og:url": "https://docs.shorebird.dev/architecture/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Shorebird Architecture",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Shorebird Architecture",
      "ogLocale": "en",
      "scrapeId": "24b42bb5-0262-4d0a-a58c-b6f2ce261c61",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/architecture",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "How Shorebird works.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "How Shorebird works.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "How Shorebird works."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/staging-patches/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Staging Patches</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide will walk through how to validate a patch in Shorebird’s staging environment before promoting the patch to production.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes the Shorebird command-line is installed on your machine and that you are logged into an account. Refer to the <a href=\"https://docs.shorebird.dev/\">getting started</a> instructions for more information.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-project\">Create a Project</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#create-a-project\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n\n<p>Create a new project using <code dir=\"auto\">flutter create example --empty</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"initialize-shorebird\">Initialize Shorebird</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#initialize-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, initialize Shorebird in the current project via <code dir=\"auto\">shorebird init</code>.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<p>The generated <code dir=\"auto\">shorebird.yaml</code> should look something like:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Your app_id is not a secret and is just used to identify your app</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># when requesting patches from Shorebird's servers.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">app_id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># auto_update controls if Shorebird should automatically update in the background on launch.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># If auto_update: false, you will need to use package:shorebird_code_push to trigger updates.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># https://pub.dev/packages/shorebird_code_push</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Uncomment the following line to disable automatic updates.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># auto_update: false</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"# Your app_id is not a secret and is just used to identify your app# when requesting patches from Shorebird's servers.app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76# auto_update controls if Shorebird should automatically update in the background on launch.# If auto_update: false, you will need to use package:shorebird_code_push to trigger updates.# https://pub.dev/packages/shorebird_code_push# Uncomment the following line to disable automatic updates.# auto_update: false\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-release\">Create a release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#create-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that we’ve created our apps on shorebird, we need to create releases (one for each platform). To create a release, we’ll use the <code dir=\"auto\">shorebird release</code> command.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for Android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for iOS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for macOS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">macos</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release androidshorebird release iosshorebird release macos\"><div></div></button></div></figure></div>\n<p>We can verify the releases were created successfully by visiting <a href=\"https://console.shorebird.dev/\">Shorebird console</a>.</p>\n<p>You should also <a href=\"https://docs.shorebird.dev/guides/submitting/play-store#upload-to-the-play-store\">submit the generated app bundles to the Play\nStore</a> and <a href=\"https://docs.shorebird.dev/guides/submitting/app-store#upload-to-the-app-store\">submit the\ngenerated ipa to the App Store</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-patch\">Creating a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#creating-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that we have our releases on the Play Store and App Store, we can create a patch using <code dir=\"auto\">shorebird patch</code>. For the sake of this example, let’s set the <code dir=\"auto\">backgroundColor</code> of the <code dir=\"auto\">Scaffold</code> to <code dir=\"auto\">Colors.cyan</code> in <code dir=\"auto\">lib/main.dart</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">import 'package:flutter/material.dart';</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">void main() {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">runApp(const MainApp());</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">class MainApp extends StatelessWidget {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">const MainApp({super.key});</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">@override</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">Widget build(BuildContext context) {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">return const MaterialApp(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">home: Scaffold(</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">backgroundColor: Colors.cyan,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">body: Center(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">          </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">child: Text('Hello World!'),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import 'package:flutter/material.dart';void main() {  runApp(const MainApp());}class MainApp extends StatelessWidget {  const MainApp({super.key});  @override  Widget build(BuildContext context) {    return const MaterialApp(      home: Scaffold(       backgroundColor: Colors.cyan,        body: Center(          child: Text('Hello World!'),        ),      ),    );  }}\"><div></div></button></div></figure></div>\n<p>Now that we’ve applied the changes, let’s create a patch:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Stage a patch on Android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--track=staging</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Stage a patch on iOS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--track=staging</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Stage a patch on macOS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">macos</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--track=staging</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android --track=stagingshorebird patch ios --track=stagingshorebird patch macos --track=staging\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"preview-the-release\">Preview the release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#preview-the-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, preview the app release locally on a device or emulator, use <code dir=\"auto\">shorebird preview</code>.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Preview the release in the staging environment</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--staging</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--app-id</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.0.0+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird preview --staging --app-id ee322dc4-3dc2-4324-90a9-04c40a62ae76 --release-version 1.0.0+1\"><div></div></button></div></figure></div>\n<p>Shorebird will download the release and run it on your device in the staging environment.</p>\n<p>The first time the app is re-launched, we should still see the white <code dir=\"auto\">Scaffold</code> and shorebird will detect and install the patch in the background. Kill and re-launch the app a second time to see the applied patch with the cyan <code dir=\"auto\">Scaffold</code> background.</p>\n<p>If all went well, you should see the patch was applied after re-launching the app a second time. Congrats, you’ve validated your patch in the staging environment 🥳</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"promote-the-patch\">Promote the patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/staging-patches/#promote-the-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that you have validated the patch, you can push the patch to all devices by promoting it to production from the <a href=\"https://console.shorebird.dev/\">Shorebird console</a>. Navigate to the release details page and click on the “Go Live” button.</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/8855632/70fa5176-4e6a-4d7a-b820-6b24eca2c27a\" alt=\"go-live\"></p>\n<p>At this point, you have a setup which allows you to preview patches locally before promoting them to production 🎉</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/staging-patches/#_top",
      "https://docs.shorebird.dev/guides/staging-patches/#prerequisites",
      "https://docs.shorebird.dev/",
      "https://docs.shorebird.dev/guides/staging-patches/#create-a-project",
      "https://docs.shorebird.dev/guides/staging-patches/#initialize-shorebird",
      "https://docs.shorebird.dev/guides/staging-patches/#create-a-release",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/guides/submitting/play-store#upload-to-the-play-store",
      "https://docs.shorebird.dev/guides/submitting/app-store#upload-to-the-app-store",
      "https://docs.shorebird.dev/guides/staging-patches/#creating-a-patch",
      "https://docs.shorebird.dev/guides/staging-patches/#preview-the-release",
      "https://docs.shorebird.dev/guides/staging-patches/#promote-the-patch"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/staging-patches/#_top)\n\n# Staging Patches\n\nThis guide will walk through how to validate a patch in Shorebird’s staging environment before promoting the patch to production.\n\n## Prerequisites\n\nThis guide assumes the Shorebird command-line is installed on your machine and that you are logged into an account. Refer to the [getting started](https://docs.shorebird.dev/) instructions for more information.\n\n## Create a Project\n\nCreate a new project using `flutter create example --empty`.\n\n## Initialize Shorebird\n\nNext, initialize Shorebird in the current project via `shorebird init`.\n\n```\n\nshorebird init\n```\n\nThe generated `shorebird.yaml` should look something like:\n\n```\n\n# Your app_id is not a secret and is just used to identify your app\n\n# when requesting patches from Shorebird's servers.\n\napp_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\n# auto_update controls if Shorebird should automatically update in the background on launch.\n\n# If auto_update: false, you will need to use package:shorebird_code_push to trigger updates.\n\n# https://pub.dev/packages/shorebird_code_push\n\n# Uncomment the following line to disable automatic updates.\n\n# auto_update: false\n```\n\n## Create a release\n\nNow that we’ve created our apps on shorebird, we need to create releases (one for each platform). To create a release, we’ll use the `shorebird release` command.\n\n```\n\n# Create a release for Android\n\nshorebird release android\n\n# Create a release for iOS\n\nshorebird release ios\n\n# Create a release for macOS\n\nshorebird release macos\n```\n\nWe can verify the releases were created successfully by visiting [Shorebird console](https://console.shorebird.dev/).\n\nYou should also [submit the generated app bundles to the Play\\\\\nStore](https://docs.shorebird.dev/guides/submitting/play-store#upload-to-the-play-store) and [submit the\\\\\ngenerated ipa to the App Store](https://docs.shorebird.dev/guides/submitting/app-store#upload-to-the-app-store).\n\n## Creating a patch\n\nNow that we have our releases on the Play Store and App Store, we can create a patch using `shorebird patch`. For the sake of this example, let’s set the `backgroundColor` of the `Scaffold` to `Colors.cyan` in `lib/main.dart`:\n\n```\n\nimport 'package:flutter/material.dart';\n\nvoid main() {\n\n  runApp(const MainApp());\n\n}\n\nclass MainApp extends StatelessWidget {\n\n  const MainApp({super.key});\n\n  @override\n\n  Widget build(BuildContext context) {\n\n    return const MaterialApp(\n\n      home: Scaffold(\n\n       backgroundColor: Colors.cyan,\n\n        body: Center(\n\n          child: Text('Hello World!'),\n\n        ),\n\n      ),\n\n    );\n\n  }\n\n}\n```\n\nNow that we’ve applied the changes, let’s create a patch:\n\n```\n\n# Stage a patch on Android\n\nshorebird patch android --track=staging\n\n# Stage a patch on iOS\n\nshorebird patch ios --track=staging\n\n# Stage a patch on macOS\n\nshorebird patch macos --track=staging\n```\n\n## Preview the release\n\nNext, preview the app release locally on a device or emulator, use `shorebird preview`.\n\n```\n\n# Preview the release in the staging environment\n\nshorebird preview --staging --app-id ee322dc4-3dc2-4324-90a9-04c40a62ae76 --release-version 1.0.0+1\n```\n\nShorebird will download the release and run it on your device in the staging environment.\n\nThe first time the app is re-launched, we should still see the white `Scaffold` and shorebird will detect and install the patch in the background. Kill and re-launch the app a second time to see the applied patch with the cyan `Scaffold` background.\n\nIf all went well, you should see the patch was applied after re-launching the app a second time. Congrats, you’ve validated your patch in the staging environment 🥳\n\n## Promote the patch\n\nNow that you have validated the patch, you can push the patch to all devices by promoting it to production from the [Shorebird console](https://console.shorebird.dev/). Navigate to the release details page and click on the “Go Live” button.\n\n![go-live](https://github.com/shorebirdtech/docs/assets/8855632/70fa5176-4e6a-4d7a-b820-6b24eca2c27a)\n\nAt this point, you have a setup which allows you to preview patches locally before promoting them to production 🎉",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/staging-patches/",
      "ogUrl": "https://docs.shorebird.dev/guides/staging-patches/",
      "title": "Staging Patches | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/staging-patches/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Staging Patches",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Staging Patches",
      "ogLocale": "en",
      "scrapeId": "5af4202e-8c23-48b5-8142-a0b34f078c82",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/staging-patches",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Stage, validate, and promote patches",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Stage, validate, and promote patches",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Stage, validate, and promote patches"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/ci/generic/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">CI Integration</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n<p>Building with Shorebird in CI should be a very small change from your existing\nFlutter CI builds. Changes required:</p>\n<ol>\n<li>Installing Shorebird on the builder.</li>\n<li>Getting Shorebird credentials onto the builder.</li>\n<li>Replacing <code dir=\"auto\">flutter build --release</code> with <code dir=\"auto\">shorebird release</code> or <code dir=\"auto\">shorebird patch</code>.</li>\n</ol>\n<p>We have detailed instructions for integrating into</p>\n<ul>\n<li><a href=\"https://docs.shorebird.dev/ci/github\">GitHub</a></li>\n<li><a href=\"https://docs.shorebird.dev/ci/codemagic\">Codemagic</a></li>\n</ul>\n<p>However if you do not use these providers, we’ve also provided generic\ninstructions below:</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"installing-shorebird\">Installing Shorebird</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/generic/#installing-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Installing Shorebird is identical to how you install it locally. Most builders\nuse Linux or Mac, which means running:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\"><div></div></button></div></figure></div>\n<p>for more details, see <a href=\"https://docs.shorebird.dev/\">Getting Started</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"getting-shorebird-credentials-onto-the-builder\">Getting Shorebird credentials onto the builder</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/generic/#getting-shorebird-credentials-onto-the-builder\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird cloud requires authentication to be able to publish releases to your\naccount. Doing so is two parts. One is getting the CI token from <code dir=\"auto\">shorebird</code>\ninstalled on your local machine. The second is installing that token on the\nbuilder.</p>\n\n<p>Now that you have a token, it is important to keep that token secure. We\nrecommend using a secrets manager for the token, or secure environment\nvariables, depending on your CI setup. <code dir=\"auto\">shorebird</code> commands will look for the\ntoken to be in a <code dir=\"auto\">SHOREBIRD_TOKEN</code> environment variable.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"replacing-flutter-build---release-with-shorebird\">Replacing <code dir=\"auto\">flutter build --release</code> with <code dir=\"auto\">shorebird</code>.</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/generic/#replacing-flutter-build---release-with-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"releasing\">Releasing</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/generic/#releasing\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you’re already building with Flutter in CI, you should see a line similar to\n<code dir=\"auto\">flutter build aab</code> or <code dir=\"auto\">flutter build ipa</code> in your CI config.</p>\n<p>To move to Shorebird, you need only replace the <code dir=\"auto\">flutter build</code> line with\n<code dir=\"auto\">shorebird release</code>. For example:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">flutter build ipa --dart-define=HERO=Mario</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"flutter build ipa --dart-define=HERO=Mario\"><div></div></button></div></figure></div>\n<p>Would become:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release ios --dart-define=HERO=Mario</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --dart-define=HERO=Mario\"><div></div></button></div></figure></div>\n<p><code dir=\"auto\">shorebird release</code> supports almost all of the same arguments that <code dir=\"auto\">flutter build</code> does. If you ever see an error with <code dir=\"auto\">shorebird release</code> not supporting an\nargument that <code dir=\"auto\">flutter build</code> does, you can use <code dir=\"auto\">--</code> to tell <code dir=\"auto\">shorebird</code> to pass\nany argument after <code dir=\"auto\">--</code> down to <code dir=\"auto\">flutter build</code> separately, e.g.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">flutter build ipa --dart-define=HERO=Mario --enable-impeller</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"flutter build ipa --dart-define=HERO=Mario --enable-impeller\"><div></div></button></div></figure></div>\n<p>Would become:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release ios --dart-define=HERO=Mario -- --enable-impeller</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --dart-define=HERO=Mario -- --enable-impeller\"><div></div></button></div></figure></div>\n<p><code dir=\"auto\">shorebird</code> can support building with different versions of Flutter. By default\n<code dir=\"auto\">shorebird</code> will use whatever the most recent Flutter stable is, which can\nchange. If you’d like to pin your CI to a specific Flutter version you can do\nthis by adding <code dir=\"auto\">--flutter-version</code> to your command, e.g.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release ios --flutter-version=3.22.1 --dart-define=HERO=Mario -- --enable-impeller</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --flutter-version=3.22.1 --dart-define=HERO=Mario -- --enable-impeller\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"patching\">Patching</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/generic/#patching\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patching is identical to releasing, just use <code dir=\"auto\">shorebird patch</code> instead of\n<code dir=\"auto\">shorebird release</code>.</p>\n<p>Patches with Shorebird can only ever apply to an existing Release. By definition\na patch is a set of changes to apply to a Release.</p>\n<p><code dir=\"auto\">shorebird patch</code> does not take a <code dir=\"auto\">--flutter-version</code> argument, instead takes a\n<code dir=\"auto\">--release-version</code> argument, to specify which release version of your app\nyou’re trying to patch. <code dir=\"auto\">shorebird</code> will look up the exact version of Flutter\nused to build the release and use that exact version to build the patch.</p>\n<p>Thank you for reading this guide! If you have any questions or suggestions, feel\nfree to reach out to us at our <a href=\"https://discord.gg/shorebird\">Discord</a>.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/ci/generic/#_top",
      "https://docs.shorebird.dev/ci/github",
      "https://docs.shorebird.dev/ci/codemagic",
      "https://docs.shorebird.dev/ci/generic/#installing-shorebird",
      "https://docs.shorebird.dev/",
      "https://docs.shorebird.dev/ci/generic/#getting-shorebird-credentials-onto-the-builder",
      "https://docs.shorebird.dev/ci/generic/#replacing-flutter-build---release-with-shorebird",
      "https://docs.shorebird.dev/ci/generic/#releasing",
      "https://docs.shorebird.dev/ci/generic/#patching",
      "https://discord.gg/shorebird"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/ci/generic/#_top)\n\n# CI Integration\n\nBuilding with Shorebird in CI should be a very small change from your existing\nFlutter CI builds. Changes required:\n\n1. Installing Shorebird on the builder.\n2. Getting Shorebird credentials onto the builder.\n3. Replacing `flutter build --release` with `shorebird release` or `shorebird patch`.\n\nWe have detailed instructions for integrating into\n\n- [GitHub](https://docs.shorebird.dev/ci/github)\n- [Codemagic](https://docs.shorebird.dev/ci/codemagic)\n\nHowever if you do not use these providers, we’ve also provided generic\ninstructions below:\n\n## Installing Shorebird\n\nInstalling Shorebird is identical to how you install it locally. Most builders\nuse Linux or Mac, which means running:\n\n```\n\ncurl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\n```\n\nfor more details, see [Getting Started](https://docs.shorebird.dev/).\n\n## Getting Shorebird credentials onto the builder\n\nShorebird cloud requires authentication to be able to publish releases to your\naccount. Doing so is two parts. One is getting the CI token from `shorebird`\ninstalled on your local machine. The second is installing that token on the\nbuilder.\n\nNow that you have a token, it is important to keep that token secure. We\nrecommend using a secrets manager for the token, or secure environment\nvariables, depending on your CI setup. `shorebird` commands will look for the\ntoken to be in a `SHOREBIRD_TOKEN` environment variable.\n\n## Replacing `flutter build --release` with `shorebird`.\n\n### Releasing\n\nIf you’re already building with Flutter in CI, you should see a line similar to\n`flutter build aab` or `flutter build ipa` in your CI config.\n\nTo move to Shorebird, you need only replace the `flutter build` line with\n`shorebird release`. For example:\n\n```\n\nflutter build ipa --dart-define=HERO=Mario\n```\n\nWould become:\n\n```\n\nshorebird release ios --dart-define=HERO=Mario\n```\n\n`shorebird release` supports almost all of the same arguments that `flutter build` does. If you ever see an error with `shorebird release` not supporting an\nargument that `flutter build` does, you can use `--` to tell `shorebird` to pass\nany argument after `--` down to `flutter build` separately, e.g.\n\n```\n\nflutter build ipa --dart-define=HERO=Mario --enable-impeller\n```\n\nWould become:\n\n```\n\nshorebird release ios --dart-define=HERO=Mario -- --enable-impeller\n```\n\n`shorebird` can support building with different versions of Flutter. By default\n`shorebird` will use whatever the most recent Flutter stable is, which can\nchange. If you’d like to pin your CI to a specific Flutter version you can do\nthis by adding `--flutter-version` to your command, e.g.\n\n```\n\nshorebird release ios --flutter-version=3.22.1 --dart-define=HERO=Mario -- --enable-impeller\n```\n\n### Patching\n\nPatching is identical to releasing, just use `shorebird patch` instead of\n`shorebird release`.\n\nPatches with Shorebird can only ever apply to an existing Release. By definition\na patch is a set of changes to apply to a Release.\n\n`shorebird patch` does not take a `--flutter-version` argument, instead takes a\n`--release-version` argument, to specify which release version of your app\nyou’re trying to patch. `shorebird` will look up the exact version of Flutter\nused to build the release and use that exact version to build the patch.\n\nThank you for reading this guide! If you have any questions or suggestions, feel\nfree to reach out to us at our [Discord](https://discord.gg/shorebird).",
    "metadata": {
      "url": "https://docs.shorebird.dev/ci/generic/",
      "ogUrl": "https://docs.shorebird.dev/ci/generic/",
      "title": "CI Integration | Shorebird",
      "og:url": "https://docs.shorebird.dev/ci/generic/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "CI Integration",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "CI Integration",
      "ogLocale": "en",
      "scrapeId": "9fb01b58-8dd6-4bfb-a003-b30044b1bd4b",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/ci/generic/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Integrate Shorebird in CI",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Integrate Shorebird in CI",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Integrate Shorebird in CI"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/code-push/release/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Create a Release</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>In order to start pushing updates, you will need to create a release.</p>\n<p>Creating a release builds and submits your app to Shorebird. Shorebird saves the\ncompiled Dart code from your application in order to make updates smaller in\nsize.</p>\n<starlight-tabs class=\"astro-esqgolmp\"> <div class=\"tablist-wrapper not-content astro-esqgolmp\"> <ul role=\"tablist\" class=\"astro-esqgolmp\"> <li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/release/#tab-panel-14\" id=\"tab-14\" aria-selected=\"true\" tabindex=\"0\" class=\"astro-esqgolmp\">  Android </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/release/#tab-panel-15\" id=\"tab-15\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  iOS </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/release/#tab-panel-16\" id=\"tab-16\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  macOS (beta) </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/release/#tab-panel-17\" id=\"tab-17\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  Windows (beta) </a> </li> </ul> </div> <div id=\"tab-panel-14\" aria-labelledby=\"tab-14\" role=\"tabpanel\"> <p>Create an Android release by running the following command:</p><p><code dir=\"auto\">shorebird release android</code></p><p>Example output:</p><div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird release android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building release (9.6s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting release version (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (68ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to create a new release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: new_flutter_app (7a29188a-9363-426a-9a36-74a5e166373d)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️  Platform: android (arm64, arm32, x86_64)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (30ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (67ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating artifacts (2.8s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (62ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Your next step is to upload the app bundle to the Play Store.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">build/app/outputs/bundle/release/app-release.aab</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">See the following link for more information:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">https://support.google.com/googleplay/android-developer/answer/9859152?hl=en</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird release android✓ Building release (9.6s)✓ Fetching apps (0.2s)✓ Detecting release version (0.2s)✓ Fetching releases (68ms)🚀 Ready to create a new release!📱 App: new_flutter_app (7a29188a-9363-426a-9a36-74a5e166373d)📦 Release Version: 1.0.0+1🕹️  Platform: android (arm64, arm32, x86_64)Would you like to continue? (y/N) Yes✓ Fetching Flutter revision (30ms)✓ Updating release status (67ms)✓ Creating artifacts (2.8s)✓ Updating release status (62ms)✅ Published Release!Your next step is to upload the app bundle to the Play Store.build/app/outputs/bundle/release/app-release.aabSee the following link for more information:https://support.google.com/googleplay/android-developer/answer/9859152?hl=en\"><div></div></button></div></figure></div><p>If your application supports flavors or multiple release targets, you can specify the flavor and target using the <code dir=\"auto\">--flavor</code> and <code dir=\"auto\">--target</code> options:</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--target</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">./lib/main_development.dart</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">development</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --target ./lib/main_development.dart --flavor development\"><div></div></button></div></figure></div><p>By default, <code dir=\"auto\">shorebird release android</code> builds an AppBundle (<code dir=\"auto\">.aab</code>).\nIf you would like to <em>also</em> generate an Android Package Kit (<code dir=\"auto\">.apk</code>), use the\nfollowing command:</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release android --artifact apk</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --artifact apk\"><div></div></button></div></figure></div><p>To release with a different Flutter version, you can specify the version using the <code dir=\"auto\">--flutter-version</code> flag.</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release android --flutter-version 3.19.0</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --flutter-version 3.19.0\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-15\" aria-labelledby=\"tab-15\" role=\"tabpanel\" hidden=\"\"> <p>Create an iOS release by running the following command:</p><p><code dir=\"auto\">shorebird release ios</code></p><p>Example output:</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird release ios</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building release (59.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Getting release version (40ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to create a new release!</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: My App (7a29188a-9363-426a-9a36-74a5e166373d)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️  Platform: ios</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (40ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating release (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating artifacts (5.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (57ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Your next step is to upload the ipa to App Store Connect.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">build/ios/ipa/new_flutter_app.ipa</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">To upload to the App Store either:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">1. Drag and drop the \"build/ios/ipa/new_flutter_app.ipa\" bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">2. Run xcrun altool --upload-app --type ios -f build/ios/ipa/new_flutter_app.ipa --apiKey your_api_key --apiIssuer your_issuer_id.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">       </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">See \"man altool\" for details about how to authenticate with the App Store Connect API key.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird release ios✓ Fetching apps (0.2s)✓ Building release (59.0s)✓ Getting release version (40ms)✓ Fetching releases (0.1s)🚀 Ready to create a new release!📱 App: My App (7a29188a-9363-426a-9a36-74a5e166373d)📦 Release Version: 1.0.0+1🕹️  Platform: iosWould you like to continue? (y/N) Yes✓ Fetching Flutter revision (40ms)✓ Creating release (0.1s)✓ Creating artifacts (5.1s)✓ Updating release status (57ms)✅ Published Release!Your next step is to upload the ipa to App Store Connect.build/ios/ipa/new_flutter_app.ipaTo upload to the App Store either:    1. Drag and drop the &quot;build/ios/ipa/new_flutter_app.ipa&quot; bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784)    2. Run xcrun altool --upload-app --type ios -f build/ios/ipa/new_flutter_app.ipa --apiKey your_api_key --apiIssuer your_issuer_id.       See &quot;man altool&quot; for details about how to authenticate with the App Store Connect API key.\"><div></div></button></div></figure></div><p>If your application supports flavors or multiple release targets, you can specify the flavor and target using the <code dir=\"auto\">--flavor</code> and <code dir=\"auto\">--target</code> options:</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--target</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">./lib/main_development.dart</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">development</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --target ./lib/main_development.dart --flavor development\"><div></div></button></div></figure></div><p>To release with a different Flutter version, you can specify the version using the <code dir=\"auto\">--flutter-version</code> flag.</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flutter-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.19.0</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --flutter-version 3.19.0\"><div></div></button></div></figure></div><div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"signing-issues\">Signing issues</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#signing-issues\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div><p>Depending on how you normally sign your iOS app, you may see an error at the end\nof the build saying something like: <code dir=\"auto\">Runner.app requires a provisioning profile with ___ feature</code> or that no signing certificate was found. This can be\naddressed in a few ways:</p><div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"setting-up-automatic-signing-in-xcode\">Setting up automatic signing in Xcode</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#setting-up-automatic-signing-in-xcode\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div><p>If you are releasing on your local machine (i.e., not in a CI environment), this\noption is easier than the following options, but does not always work well in CI\nenvironments.</p><p>In Xcode, open your project and navigate to the “Signing &amp; Capabilities” tab.\nEnsure that “Automatically manage signing” is checked.</p><div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"create-an-exportoptionsplist-file\">Create an ExportOptions.plist file.</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#create-an-exportoptionsplist-file\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div><p>You may need to provide an ExportOptions.plist file to the <code dir=\"auto\">shorebird release ios</code> command. This file is used by Xcode to determine which certificate and\nprovisioning profile should be used to sign the .ipa. An example of this file\nis:</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"xml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#949494;--1:#24292E\">&lt;?</span><span style=\"--0:#569CD6;--1:#1E7734\">xml</span><span style=\"--0:#9CDCFE;--1:#6F42C1\"> version</span><span style=\"--0:#D4D4D4;--1:#24292E\">=</span><span style=\"--0:#CE9178;--1:#032F62\">\"1.0\"</span><span style=\"--0:#9CDCFE;--1:#6F42C1\"> encoding</span><span style=\"--0:#D4D4D4;--1:#24292E\">=</span><span style=\"--0:#CE9178;--1:#032F62\">\"UTF-8\"</span><span style=\"--0:#949494;--1:#24292E\">?&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#949494;--1:#24292E\">&lt;!</span><span style=\"--0:#569CD6;--1:#BF3441\">DOCTYPE</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">plist</span><span style=\"--1:#24292E\"><span style=\"--0:#D4D4D4\"> PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"</span><span style=\"--0:#949494\">&gt;</span></span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">plist</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#9CDCFE;--1:#6F42C1\">version</span><span style=\"--0:#D4D4D4;--1:#24292E\">=</span><span style=\"--0:#CE9178;--1:#032F62\">\"1.0\"</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">dict</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">method</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">app-store</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">provisioningProfiles</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">dict</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">    </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">com.example.your_bundle_id</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">    </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">Your App's App Store Provisioning Profile Name</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;/</span><span style=\"--0:#569CD6;--1:#1E7734\">dict</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">signingCertificate</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">Apple Distribution</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">signingStyle</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">manual</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">teamID</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">key</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--1:#24292E\">  </span></span><span style=\"--0:#949494;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\">*****</span><span style=\"--0:#949494\">&lt;/</span></span><span style=\"--0:#569CD6;--1:#1E7734\">string</span><span style=\"--1:#24292E\"><span style=\"--0:#949494\">&gt;</span><span style=\"--0:#D4D4D4\"> # From https://developer.apple.com/account</span></span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#949494;--1:#24292E\">&lt;/</span><span style=\"--0:#569CD6;--1:#1E7734\">dict</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#949494;--1:#24292E\">&lt;/</span><span style=\"--0:#569CD6;--1:#1E7734\">plist</span><span style=\"--0:#949494;--1:#24292E\">&gt;</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"<?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?><!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;><plist version=&quot;1.0&quot;><dict>  <key>method</key>  <string>app-store</string>  <key>provisioningProfiles</key>  <dict>    <key>com.example.your_bundle_id</key>    <string>Your App's App Store Provisioning Profile Name</string>  </dict>  <key>signingCertificate</key>  <string>Apple Distribution</string>  <key>signingStyle</key>  <string>manual</string>  <key>teamID</key>  <string>*****</string> # From https://developer.apple.com/account</dict></plist>\"><div></div></button></div></figure></div><p>To use this file, pass it to the <code dir=\"auto\">shorebird release ios</code> command:</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--export-options-plist=path/to/ExportOptions.plist</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --export-options-plist=path/to/ExportOptions.plist\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-16\" aria-labelledby=\"tab-16\" role=\"tabpanel\" hidden=\"\"> <p>Create a macOS release by running the following command:</p><p><code dir=\"auto\">shorebird release macos</code></p><p>Example output:</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird release macos</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building app bundle with Flutter 3.27.0 (1e0e5760ee) (18.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to create a new release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: sample (d0cf1d8f-e741-4f5d-b280-b794000df1cd)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.13+2</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️  Platform: macos</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🐦 Flutter Version: 3.27.0 (1e0e5760ee)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating release (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Uploading artifacts (3.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (1.7s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Release 1.0.13+2!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">macOS app created at build/macos/Build/Products/Release/new_flutter_app.app.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">To create a patch for this release, run shorebird patch --platforms=macos --release-version=1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Note: shorebird patch --platforms=macos without the --release-version option will patch the current version of the app.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird release macos✓ Fetching apps (0.3s)✓ Building app bundle with Flutter 3.27.0 (1e0e5760ee) (18.3s)✓ Fetching releases (0.1s)🚀 Ready to create a new release!📱 App: sample (d0cf1d8f-e741-4f5d-b280-b794000df1cd)📦 Release Version: 1.0.13+2🕹️  Platform: macos🐦 Flutter Version: 3.27.0 (1e0e5760ee)Would you like to continue? (y/N) Yes✓ Fetching releases (0.1s)✓ Creating release (0.3s)✓ Updating release status (0.1s)✓ Uploading artifacts (3.5s)✓ Updating release status (1.7s)✅ Published Release 1.0.13+2!macOS app created at build/macos/Build/Products/Release/new_flutter_app.app.To create a patch for this release, run shorebird patch --platforms=macos --release-version=1.0.0+1Note: shorebird patch --platforms=macos without the --release-version option will patch the current version of the app.\"><div></div></button></div></figure></div><p>If your application supports flavors or multiple release targets, you can specify the flavor and target using the <code dir=\"auto\">--flavor</code> and <code dir=\"auto\">--target</code> options:</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">macos</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--target</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">./lib/main_development.dart</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">development</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release macos --target ./lib/main_development.dart --flavor development\"><div></div></button></div></figure></div><p>To release with a different Flutter version, you can specify the version using the <code dir=\"auto\">--flutter-version</code> flag.</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release macos --flutter-version 3.24.5</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release macos --flutter-version 3.24.5\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-17\" aria-labelledby=\"tab-17\" role=\"tabpanel\" hidden=\"\"> <p>Create a Windows release by running the following command:</p><p><code dir=\"auto\">shorebird release windows</code></p><p>Example output:</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird release windows</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building Windows app with Flutter 3.27.1 (1e0e5760ee) (18.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to create a new release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: sample (d0cf1d8f-e741-4f5d-b280-b794000df1cd)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️  Platform: windows</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🐦 Flutter Version: 3.27.1 (1e0e5760ee)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating release (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Uploading artifacts (3.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (1.7s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Release 1.0.13+2!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Windows executable created at build/windows/x64/runner/Release</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">To create a patch for this release, run shorebird patch --platforms=windows --release-version=1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Note: shorebird patch --platforms=windows without the --release-version option will patch the current version of the app.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird release windows✓ Fetching apps (0.3s)✓ Building Windows app with Flutter 3.27.1 (1e0e5760ee) (18.3s)✓ Fetching releases (0.1s)🚀 Ready to create a new release!📱 App: sample (d0cf1d8f-e741-4f5d-b280-b794000df1cd)📦 Release Version: 1.0.0+1🕹️  Platform: windows🐦 Flutter Version: 3.27.1 (1e0e5760ee)Would you like to continue? (y/N) Yes✓ Fetching releases (0.1s)✓ Creating release (0.3s)✓ Updating release status (0.1s)✓ Uploading artifacts (3.5s)✓ Updating release status (1.7s)✅ Published Release 1.0.13+2!Windows executable created at build/windows/x64/runner/ReleaseTo create a patch for this release, run shorebird patch --platforms=windows --release-version=1.0.0+1Note: shorebird patch --platforms=windows without the --release-version option will patch the current version of the app.\"><div></div></button></div></figure></div><p>If your application supports flavors or multiple release targets, you can specify the flavor and target using the <code dir=\"auto\">--flavor</code> and <code dir=\"auto\">--target</code> options:</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">windows</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--target</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">./lib/main_development.dart</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">development</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release windows --target ./lib/main_development.dart --flavor development\"><div></div></button></div></figure></div><p>To release with a different Flutter version, you can specify the version using the <code dir=\"auto\">--flutter-version</code> flag.</p><div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release windows --flutter-version 3.27.1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release windows --flutter-version 3.27.1\"><div></div></button></div></figure></div> </div>  </starlight-tabs>  \n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"manage-releases\">Manage Releases</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#manage-releases\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"list-releases\">List Releases</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#list-releases\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You can view all of your releases for your current app (as defined by\nyour shorebird.yaml) on the <a href=\"https://console.shorebird.dev/\">Shorebird console</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"delete-releases\">Delete Releases</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#delete-releases\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div><p>Deleting a release will remove all associated patches and artifacts\nand is <strong>not reversible</strong>.</p></div>\n<p>You can delete a release for your current app (as defined by your\nshorebird.yaml) on the <a href=\"https://console.shorebird.dev/\">Shorebird console</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"side-loading-and-mdm\">Side-loading and MDM</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/release/#side-loading-and-mdm\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>A common question we get asked is: Does Shorebird require publishing to the\nApp Store or Play Store?</p>\n<p>No. Shorebird works fine with side-loading and mobile device management (MDM)\non Android. We’ve not had anyone try Shorebird with iOS Developer Enterprise\nprogram, but we expect it to work just as well.</p>\n<p>To build Shorebird for distribution via APK (e.g. side-loading), use the\n<code dir=\"auto\">--artifact</code> flag with the <code dir=\"auto\">shorebird release</code> command. For example:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--artifact=apk</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --artifact=apk\"><div></div></button></div></figure></div>\n<p>That will produce <em>both</em> .apk and .aab files. You can distribute either\nor both as needed.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/code-push/release/#_top",
      "https://docs.shorebird.dev/code-push/release/#tab-panel-14",
      "https://docs.shorebird.dev/code-push/release/#tab-panel-15",
      "https://docs.shorebird.dev/code-push/release/#tab-panel-16",
      "https://docs.shorebird.dev/code-push/release/#tab-panel-17",
      "https://docs.shorebird.dev/code-push/release/#signing-issues",
      "https://docs.shorebird.dev/code-push/release/#setting-up-automatic-signing-in-xcode",
      "https://docs.shorebird.dev/code-push/release/#create-an-exportoptionsplist-file",
      "https://docs.shorebird.dev/code-push/release/#manage-releases",
      "https://docs.shorebird.dev/code-push/release/#list-releases",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/code-push/release/#delete-releases",
      "https://docs.shorebird.dev/code-push/release/#side-loading-and-mdm"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/code-push/release/#_top)\n\n# Create a Release\n\nIn order to start pushing updates, you will need to create a release.\n\nCreating a release builds and submits your app to Shorebird. Shorebird saves the\ncompiled Dart code from your application in order to make updates smaller in\nsize.\n\n- [Android](https://docs.shorebird.dev/code-push/release/#tab-panel-14)\n- [iOS](https://docs.shorebird.dev/code-push/release/#tab-panel-15)\n- [macOS (beta)](https://docs.shorebird.dev/code-push/release/#tab-panel-16)\n- [Windows (beta)](https://docs.shorebird.dev/code-push/release/#tab-panel-17)\n\nCreate an Android release by running the following command:\n\n`shorebird release android`\n\nExample output:\n\n```\n\n$ shorebird release android\n\n✓ Building release (9.6s)\n\n✓ Fetching apps (0.2s)\n\n✓ Detecting release version (0.2s)\n\n✓ Fetching releases (68ms)\n\n🚀 Ready to create a new release!\n\n📱 App: new_flutter_app (7a29188a-9363-426a-9a36-74a5e166373d)\n\n📦 Release Version: 1.0.0+1\n\n🕹️  Platform: android (arm64, arm32, x86_64)\n\nWould you like to continue? (y/N) Yes\n\n✓ Fetching Flutter revision (30ms)\n\n✓ Updating release status (67ms)\n\n✓ Creating artifacts (2.8s)\n\n✓ Updating release status (62ms)\n\n✅ Published Release!\n\nYour next step is to upload the app bundle to the Play Store.\n\nbuild/app/outputs/bundle/release/app-release.aab\n\nSee the following link for more information:\n\nhttps://support.google.com/googleplay/android-developer/answer/9859152?hl=en\n```\n\nIf your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:\n\n```\n\nshorebird release android --target ./lib/main_development.dart --flavor development\n```\n\nBy default, `shorebird release android` builds an AppBundle ( `.aab`).\nIf you would like to _also_ generate an Android Package Kit ( `.apk`), use the\nfollowing command:\n\n```\n\nshorebird release android --artifact apk\n```\n\nTo release with a different Flutter version, you can specify the version using the `--flutter-version` flag.\n\n```\n\nshorebird release android --flutter-version 3.19.0\n```\n\nCreate an iOS release by running the following command:\n\n`shorebird release ios`\n\nExample output:\n\n```\n\n$ shorebird release ios\n\n✓ Fetching apps (0.2s)\n\n✓ Building release (59.0s)\n\n✓ Getting release version (40ms)\n\n✓ Fetching releases (0.1s)\n\n🚀 Ready to create a new release!\n\n📱 App: My App (7a29188a-9363-426a-9a36-74a5e166373d)\n\n📦 Release Version: 1.0.0+1\n\n🕹️  Platform: ios\n\nWould you like to continue? (y/N) Yes\n\n✓ Fetching Flutter revision (40ms)\n\n✓ Creating release (0.1s)\n\n✓ Creating artifacts (5.1s)\n\n✓ Updating release status (57ms)\n\n✅ Published Release!\n\nYour next step is to upload the ipa to App Store Connect.\n\nbuild/ios/ipa/new_flutter_app.ipa\n\nTo upload to the App Store either:\n\n    1. Drag and drop the \"build/ios/ipa/new_flutter_app.ipa\" bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784)\n\n    2. Run xcrun altool --upload-app --type ios -f build/ios/ipa/new_flutter_app.ipa --apiKey your_api_key --apiIssuer your_issuer_id.\n\n       See \"man altool\" for details about how to authenticate with the App Store Connect API key.\n```\n\nIf your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:\n\n```\n\nshorebird release ios --target ./lib/main_development.dart --flavor development\n```\n\nTo release with a different Flutter version, you can specify the version using the `--flutter-version` flag.\n\n```\n\nshorebird release ios --flutter-version 3.19.0\n```\n\n### Signing issues\n\nDepending on how you normally sign your iOS app, you may see an error at the end\nof the build saying something like: `Runner.app requires a provisioning profile with ___ feature` or that no signing certificate was found. This can be\naddressed in a few ways:\n\n#### Setting up automatic signing in Xcode\n\nIf you are releasing on your local machine (i.e., not in a CI environment), this\noption is easier than the following options, but does not always work well in CI\nenvironments.\n\nIn Xcode, open your project and navigate to the “Signing & Capabilities” tab.\nEnsure that “Automatically manage signing” is checked.\n\n#### Create an ExportOptions.plist file.\n\nYou may need to provide an ExportOptions.plist file to the `shorebird release ios` command. This file is used by Xcode to determine which certificate and\nprovisioning profile should be used to sign the .ipa. An example of this file\nis:\n\n```\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n\n<plist version=\"1.0\">\n\n<dict>\n\n  <key>method</key>\n\n  <string>app-store</string>\n\n  <key>provisioningProfiles</key>\n\n  <dict>\n\n    <key>com.example.your_bundle_id</key>\n\n    <string>Your App's App Store Provisioning Profile Name</string>\n\n  </dict>\n\n  <key>signingCertificate</key>\n\n  <string>Apple Distribution</string>\n\n  <key>signingStyle</key>\n\n  <string>manual</string>\n\n  <key>teamID</key>\n\n  <string>*****</string> # From https://developer.apple.com/account\n\n</dict>\n\n</plist>\n```\n\nTo use this file, pass it to the `shorebird release ios` command:\n\n```\n\nshorebird release ios --export-options-plist=path/to/ExportOptions.plist\n```\n\nCreate a macOS release by running the following command:\n\n`shorebird release macos`\n\nExample output:\n\n```\n\n$ shorebird release macos\n\n✓ Fetching apps (0.3s)\n\n✓ Building app bundle with Flutter 3.27.0 (1e0e5760ee) (18.3s)\n\n✓ Fetching releases (0.1s)\n\n🚀 Ready to create a new release!\n\n📱 App: sample (d0cf1d8f-e741-4f5d-b280-b794000df1cd)\n\n📦 Release Version: 1.0.13+2\n\n🕹️  Platform: macos\n\n🐦 Flutter Version: 3.27.0 (1e0e5760ee)\n\nWould you like to continue? (y/N) Yes\n\n✓ Fetching releases (0.1s)\n\n✓ Creating release (0.3s)\n\n✓ Updating release status (0.1s)\n\n✓ Uploading artifacts (3.5s)\n\n✓ Updating release status (1.7s)\n\n✅ Published Release 1.0.13+2!\n\nmacOS app created at build/macos/Build/Products/Release/new_flutter_app.app.\n\nTo create a patch for this release, run shorebird patch --platforms=macos --release-version=1.0.0+1\n\nNote: shorebird patch --platforms=macos without the --release-version option will patch the current version of the app.\n```\n\nIf your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:\n\n```\n\nshorebird release macos --target ./lib/main_development.dart --flavor development\n```\n\nTo release with a different Flutter version, you can specify the version using the `--flutter-version` flag.\n\n```\n\nshorebird release macos --flutter-version 3.24.5\n```\n\nCreate a Windows release by running the following command:\n\n`shorebird release windows`\n\nExample output:\n\n```\n\n$ shorebird release windows\n\n✓ Fetching apps (0.3s)\n\n✓ Building Windows app with Flutter 3.27.1 (1e0e5760ee) (18.3s)\n\n✓ Fetching releases (0.1s)\n\n🚀 Ready to create a new release!\n\n📱 App: sample (d0cf1d8f-e741-4f5d-b280-b794000df1cd)\n\n📦 Release Version: 1.0.0+1\n\n🕹️  Platform: windows\n\n🐦 Flutter Version: 3.27.1 (1e0e5760ee)\n\nWould you like to continue? (y/N) Yes\n\n✓ Fetching releases (0.1s)\n\n✓ Creating release (0.3s)\n\n✓ Updating release status (0.1s)\n\n✓ Uploading artifacts (3.5s)\n\n✓ Updating release status (1.7s)\n\n✅ Published Release 1.0.13+2!\n\nWindows executable created at build/windows/x64/runner/Release\n\nTo create a patch for this release, run shorebird patch --platforms=windows --release-version=1.0.0+1\n\nNote: shorebird patch --platforms=windows without the --release-version option will patch the current version of the app.\n```\n\nIf your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:\n\n```\n\nshorebird release windows --target ./lib/main_development.dart --flavor development\n```\n\nTo release with a different Flutter version, you can specify the version using the `--flutter-version` flag.\n\n```\n\nshorebird release windows --flutter-version 3.27.1\n```\n\n## Manage Releases\n\n### List Releases\n\nYou can view all of your releases for your current app (as defined by\nyour shorebird.yaml) on the [Shorebird console](https://console.shorebird.dev/).\n\n### Delete Releases\n\nDeleting a release will remove all associated patches and artifacts\nand is **not reversible**.\n\nYou can delete a release for your current app (as defined by your\nshorebird.yaml) on the [Shorebird console](https://console.shorebird.dev/).\n\n## Side-loading and MDM\n\nA common question we get asked is: Does Shorebird require publishing to the\nApp Store or Play Store?\n\nNo. Shorebird works fine with side-loading and mobile device management (MDM)\non Android. We’ve not had anyone try Shorebird with iOS Developer Enterprise\nprogram, but we expect it to work just as well.\n\nTo build Shorebird for distribution via APK (e.g. side-loading), use the\n`--artifact` flag with the `shorebird release` command. For example:\n\n```\n\nshorebird release android --artifact=apk\n```\n\nThat will produce _both_ .apk and .aab files. You can distribute either\nor both as needed.",
    "metadata": {
      "url": "https://docs.shorebird.dev/code-push/release/",
      "ogUrl": "https://docs.shorebird.dev/code-push/release/",
      "title": "Create a Release | Shorebird",
      "og:url": "https://docs.shorebird.dev/code-push/release/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Create a Release",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Create a Release",
      "ogLocale": "en",
      "scrapeId": "012c555c-80e8-4618-826c-dadc3c057caf",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/code-push/release/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to publish a new app release to Shorebird.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to publish a new app release to Shorebird.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to publish a new app release to Shorebird."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/flutter-version/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Flutter Version Management</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Shorebird works with a wide range of Flutter versions and uses a private cache\nof Flutter installs which it will automatically manage for you to match your\ndesired Flutter version.</p>\n<p>When Shorebird CLI is installed, it pulls down the latest stable version of\nShorebird’s Flutter. In this section, we’ll take a look at how to list and\nchange the Flutter version used by Shorebird CLI.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"supported-flutter-versions\">Supported Flutter Versions</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/flutter-version/#supported-flutter-versions\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p><strong>Android</strong> requires Flutter 3.10.0 or later.</p>\n<p><strong>iOS</strong> requires Flutter 3.24.0 or later.</p>\n<p><strong>macOS</strong> requires Flutter 3.27.3 or later.</p>\n<p><strong>windows</strong> requires Flutter 3.27.2 or later.</p>\n<p>Shorebird recommends using the latest stable version of Flutter whenever\npossible. When we make changes to Shorebird we do not currently backport those\nchanges to previous release of Flutter.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"list-flutter-versions\">List Flutter Versions</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/flutter-version/#list-flutter-versions\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To list all Flutter versions Shorebird has published, use the\n<code dir=\"auto\">shorebird flutter versions list</code> command.</p>\n<p>The Flutter version used by <code dir=\"auto\">shorebird release</code> by default is marked with a <code dir=\"auto\">✓</code>.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"use-a-different-flutter-version\">Use a Different Flutter Version</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/flutter-version/#use-a-different-flutter-version\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>By default, Shorebird will use the latest stable version of Flutter. If you need\nto create a release with a different version of Flutter, you can use the\n<code dir=\"auto\">--flutter-version</code> option with the <code dir=\"auto\">shorebird release</code> command:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flutter-version=3.10.6</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --flutter-version=3.10.6\"><div></div></button></div></figure></div>\n<p>Any patches created with this release will be built with the version of Flutter\nused by the release.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"disabled-flutter-versions\">Disabled Flutter Versions</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/flutter-version/#disabled-flutter-versions\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>June, 11, 2024: Disabled releasing and patching for iOS 3.19.5 - 3.22.1 due to a\nbug where “try/catch” clauses would not always run the “catch” block after an\nexception was thrown. This bug only affected iOS apps after patching.</p>\n<p>April 8, 2024: Disabled releasing for iOS 3.10.6 - 3.19.4 due to various\ncrashers found in previous iOS releases. Patching continues to be supported.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/flutter-version/#_top",
      "https://docs.shorebird.dev/flutter-version/#supported-flutter-versions",
      "https://docs.shorebird.dev/flutter-version/#list-flutter-versions",
      "https://docs.shorebird.dev/flutter-version/#use-a-different-flutter-version",
      "https://docs.shorebird.dev/flutter-version/#disabled-flutter-versions"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/flutter-version/#_top)\n\n# Flutter Version Management\n\nShorebird works with a wide range of Flutter versions and uses a private cache\nof Flutter installs which it will automatically manage for you to match your\ndesired Flutter version.\n\nWhen Shorebird CLI is installed, it pulls down the latest stable version of\nShorebird’s Flutter. In this section, we’ll take a look at how to list and\nchange the Flutter version used by Shorebird CLI.\n\n## Supported Flutter Versions\n\n**Android** requires Flutter 3.10.0 or later.\n\n**iOS** requires Flutter 3.24.0 or later.\n\n**macOS** requires Flutter 3.27.3 or later.\n\n**windows** requires Flutter 3.27.2 or later.\n\nShorebird recommends using the latest stable version of Flutter whenever\npossible. When we make changes to Shorebird we do not currently backport those\nchanges to previous release of Flutter.\n\n## List Flutter Versions\n\nTo list all Flutter versions Shorebird has published, use the\n`shorebird flutter versions list` command.\n\nThe Flutter version used by `shorebird release` by default is marked with a `✓`.\n\n## Use a Different Flutter Version\n\nBy default, Shorebird will use the latest stable version of Flutter. If you need\nto create a release with a different version of Flutter, you can use the\n`--flutter-version` option with the `shorebird release` command:\n\n```\n\nshorebird release android --flutter-version=3.10.6\n```\n\nAny patches created with this release will be built with the version of Flutter\nused by the release.\n\n### Disabled Flutter Versions\n\nJune, 11, 2024: Disabled releasing and patching for iOS 3.19.5 - 3.22.1 due to a\nbug where “try/catch” clauses would not always run the “catch” block after an\nexception was thrown. This bug only affected iOS apps after patching.\n\nApril 8, 2024: Disabled releasing for iOS 3.10.6 - 3.19.4 due to various\ncrashers found in previous iOS releases. Patching continues to be supported.",
    "metadata": {
      "url": "https://docs.shorebird.dev/flutter-version/",
      "ogUrl": "https://docs.shorebird.dev/flutter-version/",
      "title": "Flutter Version Management | Shorebird",
      "og:url": "https://docs.shorebird.dev/flutter-version/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Flutter Version Management",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Flutter Version Management",
      "ogLocale": "en",
      "scrapeId": "a6bd493b-7d3b-48b4-93f3-5ed442b0269b",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/flutter-version",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "How to manage your Shorebird Flutter version",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "How to manage your Shorebird Flutter version",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "How to manage your Shorebird Flutter version"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/code-push/initialize/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Initialize Shorebird</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>To configure an existing Flutter project to use Shorebird, use <code dir=\"auto\">shorebird init</code>\nat the root of a Flutter project:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<p>This does three things:</p>\n<ol>\n<li>Tells Shorebird to create a unique <code dir=\"auto\">app_id</code> for your app. This <code dir=\"auto\">app_id</code> is\nhow Shorebird identifies your app and knows which updates to send to it. It\ndoes not need to be kept secret.</li>\n<li>Creates a <code dir=\"auto\">shorebird.yaml</code> file in your project’s root directory.\n<code dir=\"auto\">shorebird.yaml</code> contains the <code dir=\"auto\">app_id</code> mentioned above.</li>\n<li>Adds the <code dir=\"auto\">shorebird.yaml</code> to the assets section of your <code dir=\"auto\">pubspec.yaml</code> file,\nensuring <code dir=\"auto\">shorebird.yaml</code> is bundled with your app’s assets and is available\nto the Shorebird updater at runtime.</li>\n</ol>\n<p>You can safely commit these changes, they will have no affect on your app\nwhen not using Shorebird.</p>\n<p>Example output for an app named <code dir=\"auto\">shorebird_test</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird init</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting product flavors (0.6s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">? How should we refer to this app? (shorebird_test) shorebird_test</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Shorebird is up-to-date (0.6s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Flutter install is correct (4.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ AndroidManifest.xml files contain INTERNET permission (23ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">No issues detected!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🐦 Shorebird initialized successfully!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ A shorebird app has been created.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ A \"shorebird.yaml\" has been created.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ The \"pubspec.yaml\" has been updated to include \"shorebird.yaml\" as an asset.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Reference the following commands to get started:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 To create a new release use: \"shorebird release\".</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 To push an update use: \"shorebird patch\".</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">👀 To preview a release use: \"shorebird preview\".</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">For more information about Shorebird, visit https://shorebird.dev</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird init✓ Detecting product flavors (0.6s)? How should we refer to this app? (shorebird_test) shorebird_test✓ Shorebird is up-to-date (0.6s)✓ Flutter install is correct (4.5s)✓ AndroidManifest.xml files contain INTERNET permission (23ms)No issues detected!🐦 Shorebird initialized successfully!✅ A shorebird app has been created.✅ A &quot;shorebird.yaml&quot; has been created.✅ The &quot;pubspec.yaml&quot; has been updated to include &quot;shorebird.yaml&quot; as an asset.Reference the following commands to get started:📦 To create a new release use: &quot;shorebird release&quot;.🚀 To push an update use: &quot;shorebird patch&quot;.👀 To preview a release use: &quot;shorebird preview&quot;.For more information about Shorebird, visit https://shorebird.dev\"><div></div></button></div></figure></div>\n\n<p>The generated <code dir=\"auto\">shorebird.yaml</code> should look similar to:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file is used to configure the Shorebird updater used by your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Learn more at https://shorebird.dev</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file should be checked into version control.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This is the unique identifier assigned to your app.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># It is used by your app to request the correct patches from Shorebird servers.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">app_id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">8c846e87-1461-4b09-8708-170d78331aca</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"# This file is used to configure the Shorebird updater used by your application.# Learn more at https://shorebird.dev# This file should be checked into version control.# This is the unique identifier assigned to your app.# It is used by your app to request the correct patches from Shorebird servers.app_id: 8c846e87-1461-4b09-8708-170d78331aca\"><div></div></button></div></figure></div>\n<p>If your application contains flavors, <code dir=\"auto\">shorebird init</code> will create an app per flavor and <code dir=\"auto\">shorebird.yaml</code> will include all flavors and their corresponding <code dir=\"auto\">app_ids</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file is used to configure the Shorebird updater used by your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Learn more at https://shorebird.dev</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file should be checked into version control.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This is the unique identifier assigned to your app.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># It is used by your app to request the correct patches from Shorebird servers.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">app_id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">864ab1b0-ba78-4b15-990a-a63cec35a41b</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">flavors</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">development</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">864ab1b0-ba78-4b15-990a-a63cec35a41b</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">production</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">6b6e6631-4fbe-4645-8d9d-d5247656d975</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"# This file is used to configure the Shorebird updater used by your application.# Learn more at https://shorebird.dev# This file should be checked into version control.# This is the unique identifier assigned to your app.# It is used by your app to request the correct patches from Shorebird servers.app_id: 864ab1b0-ba78-4b15-990a-a63cec35a41bflavors:  development: 864ab1b0-ba78-4b15-990a-a63cec35a41b  production: 6b6e6631-4fbe-4645-8d9d-d5247656d975\"><div></div></button></div></figure></div>\n\n\n  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/code-push/initialize/#_top"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/code-push/initialize/#_top)\n\n# Initialize Shorebird\n\nTo configure an existing Flutter project to use Shorebird, use `shorebird init`\nat the root of a Flutter project:\n\n```\n\nshorebird init\n```\n\nThis does three things:\n\n1. Tells Shorebird to create a unique `app_id` for your app. This `app_id` is\nhow Shorebird identifies your app and knows which updates to send to it. It\ndoes not need to be kept secret.\n2. Creates a `shorebird.yaml` file in your project’s root directory.\n`shorebird.yaml` contains the `app_id` mentioned above.\n3. Adds the `shorebird.yaml` to the assets section of your `pubspec.yaml` file,\nensuring `shorebird.yaml` is bundled with your app’s assets and is available\nto the Shorebird updater at runtime.\n\nYou can safely commit these changes, they will have no affect on your app\nwhen not using Shorebird.\n\nExample output for an app named `shorebird_test`:\n\n```\n\n$ shorebird init\n\n✓ Detecting product flavors (0.6s)\n\n? How should we refer to this app? (shorebird_test) shorebird_test\n\n✓ Shorebird is up-to-date (0.6s)\n\n✓ Flutter install is correct (4.5s)\n\n✓ AndroidManifest.xml files contain INTERNET permission (23ms)\n\nNo issues detected!\n\n🐦 Shorebird initialized successfully!\n\n✅ A shorebird app has been created.\n\n✅ A \"shorebird.yaml\" has been created.\n\n✅ The \"pubspec.yaml\" has been updated to include \"shorebird.yaml\" as an asset.\n\nReference the following commands to get started:\n\n📦 To create a new release use: \"shorebird release\".\n\n🚀 To push an update use: \"shorebird patch\".\n\n👀 To preview a release use: \"shorebird preview\".\n\nFor more information about Shorebird, visit https://shorebird.dev\n```\n\nThe generated `shorebird.yaml` should look similar to:\n\n```\n\n# This file is used to configure the Shorebird updater used by your application.\n\n# Learn more at https://shorebird.dev\n\n# This file should be checked into version control.\n\n# This is the unique identifier assigned to your app.\n\n# It is used by your app to request the correct patches from Shorebird servers.\n\napp_id: 8c846e87-1461-4b09-8708-170d78331aca\n```\n\nIf your application contains flavors, `shorebird init` will create an app per flavor and `shorebird.yaml` will include all flavors and their corresponding `app_ids`:\n\n```\n\n# This file is used to configure the Shorebird updater used by your application.\n\n# Learn more at https://shorebird.dev\n\n# This file should be checked into version control.\n\n# This is the unique identifier assigned to your app.\n\n# It is used by your app to request the correct patches from Shorebird servers.\n\napp_id: 864ab1b0-ba78-4b15-990a-a63cec35a41b\n\nflavors:\n\n  development: 864ab1b0-ba78-4b15-990a-a63cec35a41b\n\n  production: 6b6e6631-4fbe-4645-8d9d-d5247656d975\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/code-push/initialize/",
      "ogUrl": "https://docs.shorebird.dev/code-push/initialize/",
      "title": "Initialize Shorebird | Shorebird",
      "og:url": "https://docs.shorebird.dev/code-push/initialize/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Initialize Shorebird",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Initialize Shorebird",
      "ogLocale": "en",
      "scrapeId": "f5ad23b5-9e0c-409d-a7c0-5368984fcc9a",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/code-push/initialize/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to add code push to an existing Flutter project.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to add code push to an existing Flutter project.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to add code push to an existing Flutter project."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/code-push/overview/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Overview</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"what-is-code-push\">What is Code Push?</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#what-is-code-push\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Code Push is a tool that allows you to update your Flutter app instantly over the air, without going through the store update process. This allows you to directly deploy fixes and new features to your end users’ devices.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"how-does-code-push-work\">How does Code Push work?</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#how-does-code-push-work\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Apps built with Shorebird include a modified Flutter engine, which checks for updates to your app’s Dart code on startup. If an update is available, the engine downloads the update. The user will see the update on the next app restart after the update is downloaded.</p>\n<p>A typical Code Push workflow looks like this:</p>\n<ol>\n<li>Use the Shorebird CLI to create a new <strong>release</strong> of your app.</li>\n<li>Distribute that release through the App Store or Google Play.</li>\n<li>Make changes to your app’s Dart code. This could be a bug fix, a new feature, or anything else, and is not limited to your app’s UI – this can include updated Dart dependencies as well.</li>\n<li>Use the Shorebird CLI to create a new <strong>patch</strong> to the release you created in the first step.</li>\n<li>That’s it! Your users will see the update the next time they restart your app.</li>\n</ol>\n<p>A more detailed walkthrough of this process is available in the <a href=\"https://docs.shorebird.dev/\">Getting Started</a> guide.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"concepts\">Concepts</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#concepts\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This section contains a high-level overview of various concepts within\nShorebird. Feel free to skip it now and come back later if you need.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"code-push\">Code Push</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#code-push\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Code push, also referred to as “over the air updates” (OTA) is a cloud service\nenabling Flutter developers to deploy updates to their apps in production.\nShorebird currently works on Android and iOS and will eventually work\neverywhere Flutter works.</p>\n<p>“Code Push” is a reference to the name of a deploy feature used by the React\nNative community from <a href=\"https://appcenter.ms/\">Microsoft</a> and\n<a href=\"https://expo.dev/\">Expo</a>, neither of which support Flutter.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"patching\">Patching</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#patching\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patching is the process of updating an application’s code without requiring the\nuser to download a new version from the App Store or Play Store. This is done by\ncreating a patch, which is a set of changes to the application’s code that can\nbe applied over-the-air.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"what-types-of-changes-can-be-included-in-a-patch\">What types of changes can be included in a patch?</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#what-types-of-changes-can-be-included-in-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patches can change any Dart code in your application. This includes:</p>\n<ul>\n<li>App code</li>\n<li>Generated code</li>\n<li>Dependencies in <code dir=\"auto\">pubspec.yaml</code>, as long as they don’t include native code\nchanges.</li>\n</ul>\n<p>This does <strong>not</strong> include:</p>\n<ul>\n<li>Asset files (images, fonts, etc.), although we have plans to support this in\nthe near future (see <a href=\"https://github.com/shorebirdtech/shorebird/issues/318\">https://github.com/shorebirdtech/shorebird/issues/318</a>).</li>\n<li>Native code (e.g. Java/Kotlin on Android or Objective-C/Swift on iOS).</li>\n<li>Flutter engine changes (i.e., you cannot change the Flutter version of your\napp using Code Push).</li>\n</ul>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"glossary\">Glossary</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#glossary\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"application\">Application</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#application\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>An application is what is created by running <code dir=\"auto\">flutter create [app_name]</code> and corresponds to a listing in the App Store or Play Store.</p>\n<p>Each application has a unique <code dir=\"auto\">app_id</code> that is assigned when you run <code dir=\"auto\">shorebird init</code>. You can find your application’s id in the <code dir=\"auto\">shorebird.yaml</code> file at the root of your project.</p>\n<p>An application can have zero or more <a href=\"https://docs.shorebird.dev/code-push/overview/#release\">releases</a>.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"release\">Release</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>A release is a specific version of an <a href=\"https://docs.shorebird.dev/code-push/overview/#application\">application</a>, identified by a version and build number (e.g. <code dir=\"auto\">1.0.0+1</code>). Although code push works for apps distributed outside of the App Store and Play Store, a release most often corresponds with a specific version of your app that is published to the App Store or Play Store.</p>\n<p>A release can have zero or more <a href=\"https://docs.shorebird.dev/code-push/overview/#patch\">patches</a> applied to it.</p>\n<p>Releases are created by running <code dir=\"auto\">shorebird release [platform]</code>, where <code dir=\"auto\">platform</code> is <code dir=\"auto\">android</code>, <code dir=\"auto\">aar</code>, <code dir=\"auto\">ios</code>, or <code dir=\"auto\">macos</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"patch\">Patch</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>A patch is a change to a specific <a href=\"https://docs.shorebird.dev/code-push/overview/#release\">release</a>, applied as an over-the-air update. For example, a patch could be a bug fix or a new feature. Multiple patches can be published for a given release, although only one patch can be active at a time. Patches are identified by their associated release version and a patch number, which is an auto-incrementing integer.</p>\n<p>When your application starts, it checks for available patches and applies the latest one. This patch will be visible the next time your application launches.</p>\n<p>Patches are created by running <code dir=\"auto\">shorebird patch [platform]</code>, where <code dir=\"auto\">platform</code> is <code dir=\"auto\">android</code>, <code dir=\"auto\">aar</code>, <code dir=\"auto\">ios</code>, or <code dir=\"auto\">macos</code>.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"artifact\">Artifact</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/overview/#artifact\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>An artifact is the output of a build or patch operation. For example:</p>\n<ul>\n<li><code dir=\"auto\">shorebird release android</code> generates and uploads several architecture-specific <code dir=\"auto\">libapp.so</code> files and an Android archive (.aab) file. These are <strong>release artifacts</strong>.</li>\n<li><code dir=\"auto\">shorebird patch android</code> generates and uploads diff files that capture differences between your Dart code at patch time and the code in the associated release. These are <strong>patch artifacts</strong>.</li>\n</ul>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/code-push/overview/#_top",
      "https://docs.shorebird.dev/code-push/overview/#what-is-code-push",
      "https://docs.shorebird.dev/code-push/overview/#how-does-code-push-work",
      "https://docs.shorebird.dev/",
      "https://docs.shorebird.dev/code-push/overview/#concepts",
      "https://docs.shorebird.dev/code-push/overview/#code-push",
      "https://appcenter.ms/",
      "https://expo.dev/",
      "https://docs.shorebird.dev/code-push/overview/#patching",
      "https://docs.shorebird.dev/code-push/overview/#what-types-of-changes-can-be-included-in-a-patch",
      "https://github.com/shorebirdtech/shorebird/issues/318",
      "https://docs.shorebird.dev/code-push/overview/#glossary",
      "https://docs.shorebird.dev/code-push/overview/#application",
      "https://docs.shorebird.dev/code-push/overview/#release",
      "https://docs.shorebird.dev/code-push/overview/#patch",
      "https://docs.shorebird.dev/code-push/overview/#artifact"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/code-push/overview/#_top)\n\n# Overview\n\n## What is Code Push?\n\nCode Push is a tool that allows you to update your Flutter app instantly over the air, without going through the store update process. This allows you to directly deploy fixes and new features to your end users’ devices.\n\n## How does Code Push work?\n\nApps built with Shorebird include a modified Flutter engine, which checks for updates to your app’s Dart code on startup. If an update is available, the engine downloads the update. The user will see the update on the next app restart after the update is downloaded.\n\nA typical Code Push workflow looks like this:\n\n1. Use the Shorebird CLI to create a new **release** of your app.\n2. Distribute that release through the App Store or Google Play.\n3. Make changes to your app’s Dart code. This could be a bug fix, a new feature, or anything else, and is not limited to your app’s UI – this can include updated Dart dependencies as well.\n4. Use the Shorebird CLI to create a new **patch** to the release you created in the first step.\n5. That’s it! Your users will see the update the next time they restart your app.\n\nA more detailed walkthrough of this process is available in the [Getting Started](https://docs.shorebird.dev/) guide.\n\n## Concepts\n\nThis section contains a high-level overview of various concepts within\nShorebird. Feel free to skip it now and come back later if you need.\n\n### Code Push\n\nCode push, also referred to as “over the air updates” (OTA) is a cloud service\nenabling Flutter developers to deploy updates to their apps in production.\nShorebird currently works on Android and iOS and will eventually work\neverywhere Flutter works.\n\n“Code Push” is a reference to the name of a deploy feature used by the React\nNative community from [Microsoft](https://appcenter.ms/) and\n[Expo](https://expo.dev/), neither of which support Flutter.\n\n### Patching\n\nPatching is the process of updating an application’s code without requiring the\nuser to download a new version from the App Store or Play Store. This is done by\ncreating a patch, which is a set of changes to the application’s code that can\nbe applied over-the-air.\n\n#### What types of changes can be included in a patch?\n\nPatches can change any Dart code in your application. This includes:\n\n- App code\n- Generated code\n- Dependencies in `pubspec.yaml`, as long as they don’t include native code\nchanges.\n\nThis does **not** include:\n\n- Asset files (images, fonts, etc.), although we have plans to support this in\nthe near future (see [https://github.com/shorebirdtech/shorebird/issues/318](https://github.com/shorebirdtech/shorebird/issues/318)).\n- Native code (e.g. Java/Kotlin on Android or Objective-C/Swift on iOS).\n- Flutter engine changes (i.e., you cannot change the Flutter version of your\napp using Code Push).\n\n### Glossary\n\n#### Application\n\nAn application is what is created by running `flutter create [app_name]` and corresponds to a listing in the App Store or Play Store.\n\nEach application has a unique `app_id` that is assigned when you run `shorebird init`. You can find your application’s id in the `shorebird.yaml` file at the root of your project.\n\nAn application can have zero or more [releases](https://docs.shorebird.dev/code-push/overview/#release).\n\n#### Release\n\nA release is a specific version of an [application](https://docs.shorebird.dev/code-push/overview/#application), identified by a version and build number (e.g. `1.0.0+1`). Although code push works for apps distributed outside of the App Store and Play Store, a release most often corresponds with a specific version of your app that is published to the App Store or Play Store.\n\nA release can have zero or more [patches](https://docs.shorebird.dev/code-push/overview/#patch) applied to it.\n\nReleases are created by running `shorebird release [platform]`, where `platform` is `android`, `aar`, `ios`, or `macos`.\n\n#### Patch\n\nA patch is a change to a specific [release](https://docs.shorebird.dev/code-push/overview/#release), applied as an over-the-air update. For example, a patch could be a bug fix or a new feature. Multiple patches can be published for a given release, although only one patch can be active at a time. Patches are identified by their associated release version and a patch number, which is an auto-incrementing integer.\n\nWhen your application starts, it checks for available patches and applies the latest one. This patch will be visible the next time your application launches.\n\nPatches are created by running `shorebird patch [platform]`, where `platform` is `android`, `aar`, `ios`, or `macos`.\n\n#### Artifact\n\nAn artifact is the output of a build or patch operation. For example:\n\n- `shorebird release android` generates and uploads several architecture-specific `libapp.so` files and an Android archive (.aab) file. These are **release artifacts**.\n- `shorebird patch android` generates and uploads diff files that capture differences between your Dart code at patch time and the code in the associated release. These are **patch artifacts**.",
    "metadata": {
      "url": "https://docs.shorebird.dev/code-push/overview/",
      "ogUrl": "https://docs.shorebird.dev/code-push/overview/",
      "title": "Overview | Shorebird",
      "og:url": "https://docs.shorebird.dev/code-push/overview/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Overview",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Overview",
      "ogLocale": "en",
      "scrapeId": "1da15db3-3737-4ade-a79b-baf9d8c31816",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/code-push/overview/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "A high-level explanation of what Code Push is and how it works.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "A high-level explanation of what Code Push is and how it works.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "A high-level explanation of what Code Push is and how it works."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Uploading Symbols</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Shorebird uses a fork of Flutter to build your app. This means we’ve built our\nown copy of Flutter’s engine which means that the symbols included in the\nFlutter.framework or libflutter.so are slightly different from the upstream\nFlutter engine.</p>\n<p>If you would like to see C++ symbols from our fork of Flutter’s engine in your\ncrash reports, you will need to upload the symbols to your crash reporting tool.</p>\n<p>Google provides instructions for how to integrate various crash reporting tools\ninto your Flutter app:</p>\n<p><a href=\"https://docs.flutter.dev/cookbook/maintenance/error-reporting\">https://docs.flutter.dev/cookbook/maintenance/error-reporting</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"getting-symbols-from-the-console\">Getting Symbols from the Console</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#getting-symbols-from-the-console\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird’s console provides links to download the symbols for both for your\nbuilt app and the Flutter engine in the “Artifacts” tab of the release page.</p>\n<p>The current URL format for the console has this tab under:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">https://console.shorebird.dev/apps/&lt;app-id&gt;/releases/&lt;release-id&gt;</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"https://console.shorebird.dev/apps/<app-id>/releases/<release-id>\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"manual-instructions-only-needed-for-ci-or-scripts\">Manual instructions (only needed for CI or scripts)</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#manual-instructions-only-needed-for-ci-or-scripts\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you need a way to download symbols as part of a CI pipeline it’s possible\nwith the following information:</p>\n<p>For a given Flutter version you will need the Flutter engine hash\nto download the symbols. This hash is displayed in <code dir=\"auto\">shorebird doctor</code>\noutput:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird doctor</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Shorebird 0.24.1 • git@github.com:shorebirdtech/shorebird.git</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Flutter 3.16.7 • revision ba46e8490348d6989283c9cff2b95727f0969d04</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Engine • revision 974eae888fdedd890b74c84e55a454bb7fcbd7de</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird doctorShorebird 0.24.1 • git@github.com:shorebirdtech/shorebird.gitFlutter 3.16.7 • revision ba46e8490348d6989283c9cff2b95727f0969d04Engine • revision 974eae888fdedd890b74c84e55a454bb7fcbd7de\"><div></div></button></div></figure></div>\n<p>In this case, we’re using <code dir=\"auto\">974eae888fdedd890b74c84e55a454bb7fcbd7de</code> as the\nengine hash.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"symbols-for-ios\">Symbols for iOS</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#symbols-for-ios\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Assuming engine hash <code dir=\"auto\">974eae888fdedd890b74c84e55a454bb7fcbd7de</code>, the iOS symbols\ncan be downloaded from the following URL:</p>\n<p><a href=\"https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/ios-release/Flutter.dSYM.zip\">https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/ios-release/Flutter.dSYM.zip</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"symbols-for-android\">Symbols for Android</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#symbols-for-android\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Assuming engine hash <code dir=\"auto\">974eae888fdedd890b74c84e55a454bb7fcbd7de</code>, the Android\nsymbols can be downloaded from the following URLs:</p>\n<p><a href=\"https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm64-release/symbols.zip\">https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm64-release/symbols.zip</a>\n<a href=\"https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm-release/symbols.zip\">https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm-release/symbols.zip</a>\n<a href=\"https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-x64-release/symbols.zip\">https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-x64-release/symbols.zip</a></p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#_top",
      "https://docs.flutter.dev/cookbook/maintenance/error-reporting",
      "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#getting-symbols-from-the-console",
      "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#manual-instructions-only-needed-for-ci-or-scripts",
      "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#symbols-for-ios",
      "https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/ios-release/Flutter.dSYM.zip",
      "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#symbols-for-android",
      "https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm64-release/symbols.zip",
      "https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm-release/symbols.zip",
      "https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-x64-release/symbols.zip"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/#_top)\n\n# Uploading Symbols\n\nShorebird uses a fork of Flutter to build your app. This means we’ve built our\nown copy of Flutter’s engine which means that the symbols included in the\nFlutter.framework or libflutter.so are slightly different from the upstream\nFlutter engine.\n\nIf you would like to see C++ symbols from our fork of Flutter’s engine in your\ncrash reports, you will need to upload the symbols to your crash reporting tool.\n\nGoogle provides instructions for how to integrate various crash reporting tools\ninto your Flutter app:\n\n[https://docs.flutter.dev/cookbook/maintenance/error-reporting](https://docs.flutter.dev/cookbook/maintenance/error-reporting)\n\n# Getting Symbols from the Console\n\nShorebird’s console provides links to download the symbols for both for your\nbuilt app and the Flutter engine in the “Artifacts” tab of the release page.\n\nThe current URL format for the console has this tab under:\n\n```\n\nhttps://console.shorebird.dev/apps/<app-id>/releases/<release-id>\n```\n\n# Manual instructions (only needed for CI or scripts)\n\nIf you need a way to download symbols as part of a CI pipeline it’s possible\nwith the following information:\n\nFor a given Flutter version you will need the Flutter engine hash\nto download the symbols. This hash is displayed in `shorebird doctor`\noutput:\n\n```\n\n$ shorebird doctor\n\nShorebird 0.24.1 • git@github.com:shorebirdtech/shorebird.git\n\nFlutter 3.16.7 • revision ba46e8490348d6989283c9cff2b95727f0969d04\n\nEngine • revision 974eae888fdedd890b74c84e55a454bb7fcbd7de\n```\n\nIn this case, we’re using `974eae888fdedd890b74c84e55a454bb7fcbd7de` as the\nengine hash.\n\n## Symbols for iOS\n\nAssuming engine hash `974eae888fdedd890b74c84e55a454bb7fcbd7de`, the iOS symbols\ncan be downloaded from the following URL:\n\n[https://download.shorebird.dev/flutter\\_infra\\_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/ios-release/Flutter.dSYM.zip](https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/ios-release/Flutter.dSYM.zip)\n\n## Symbols for Android\n\nAssuming engine hash `974eae888fdedd890b74c84e55a454bb7fcbd7de`, the Android\nsymbols can be downloaded from the following URLs:\n\n[https://download.shorebird.dev/flutter\\_infra\\_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm64-release/symbols.zip](https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm64-release/symbols.zip) [https://download.shorebird.dev/flutter\\_infra\\_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm-release/symbols.zip](https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-arm-release/symbols.zip) [https://download.shorebird.dev/flutter\\_infra\\_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-x64-release/symbols.zip](https://download.shorebird.dev/flutter_infra_release/flutter/974eae888fdedd890b74c84e55a454bb7fcbd7de/android-x64-release/symbols.zip)",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/",
      "ogUrl": "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/",
      "title": "Uploading Symbols | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Uploading Symbols",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Uploading Symbols",
      "ogLocale": "en",
      "scrapeId": "4fde98be-946a-4a86-aa33-3eab0bb2e2b2",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/crash-reporting/uploading-symbols/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Locating and uploading symbols for crash reporting",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Locating and uploading symbols for crash reporting",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Locating and uploading symbols for crash reporting"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Percentage-Based Rollouts</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide describes how you can implement a percentage-based patch rollout\nsystem using predefined tracks.</p>\n<p>The sample code for this guide can by found at\n<a href=\"https://github.com/shorebirdtech/samples/tree/main/progressive_rollout_demo\">https://github.com/shorebirdtech/samples/tree/main/progressive_rollout_demo</a></p>\n<p>Our percentage-based rollout system will have the following three parts:</p>\n<ol>\n<li>Using Shorebird’s “tracks” feature to publish patches to different sets of\nusers.</li>\n<li>Using a cloud key-value (KV) store to manage rollout percentages for each\nrelease version.</li>\n<li>Randomly assigning every device a “group number” between 1 and 100. If a\ndevice’s group number is less than or equal to the current rollout percentage\nfor the current app version, that user will get the partially rolled-out\n(“beta”) patch. Otherwise, the user will receive the stable patch.</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-shorebird-to-your-app\">Add Shorebird to your app</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-shorebird-to-your-app\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you haven’t already, run shorebird init in your Flutter project to add\nShorebird to your app.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"add-the-shorebird_code_push-package\">Add the shorebird_code_push package</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-the-shorebird_code_push-package\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This feature also requires v2.0.0 of\n<a href=\"https://pub.dev/packages/shorebird_code_push\"><code dir=\"auto\">package:shorebird_code_push</code></a>.\nYou can add this to your project using <code dir=\"auto\">flutter pub add shorebird_code_push</code> or\nby adding it to your <code dir=\"auto\">pubspec.yaml</code> manually.</p>\n<p>You will need to update your <code dir=\"auto\">shorebird.yaml</code> to tell Shorebird you want to\nmanage your own updates:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">app_id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">your-app-id-here</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Add this line. Setting auto_update to false tells Shorebird not to check</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># for stable track updates on app launch</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">auto_update</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">false</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"app_id: your-app-id-here# Add this line. Setting auto_update to false tells Shorebird not to check# for stable track updates on app launchauto_update: false\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-logic-to-bucket-your-users\">Add logic to bucket your users</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-logic-to-bucket-your-users\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We do this by assigning each user a number between 1 and 100 and saving that\nvalue to a local cache using\n<a href=\"https://pub.dev/packages/shared_preferences\"><code dir=\"auto\">package:shared_preferences</code></a>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"dart\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#4EC9B0;--1:#005CC5\">Future</span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;</span><span style=\"--0:#4EC9B0;--1:#005CC5\">int</span><span style=\"--0:#D4D4D4;--1:#24292E\">&gt; </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">getGroupNumber</span><span style=\"--0:#D4D4D4;--1:#24292E\">() </span><span style=\"--0:#C586C0;--1:#BF3441\">async</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> prefs </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">SharedPreferences</span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">getInstance</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> cachedGroupNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> prefs.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">getInt</span><span style=\"--0:#D4D4D4;--1:#24292E\">(groupKey);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#C586C0;--1:#BF3441\">if</span><span style=\"--0:#D4D4D4;--1:#24292E\"> (cachedGroupNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">!=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">null</span><span style=\"--0:#D4D4D4;--1:#24292E\">) </span><span style=\"--0:#C586C0;--1:#BF3441\">return</span><span style=\"--0:#D4D4D4;--1:#24292E\"> cachedGroupNumber;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> groupNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">Random</span><span style=\"--0:#D4D4D4;--1:#24292E\">().</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">nextInt</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#B5CEA8;--1:#005CC5\">100</span><span style=\"--0:#D4D4D4;--1:#24292E\">) </span><span style=\"--0:#D4D4D4;--1:#BF3441\">+</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#B5CEA8;--1:#005CC5\">1</span><span style=\"--0:#D4D4D4;--1:#24292E\">;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> prefs.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">setInt</span><span style=\"--0:#D4D4D4;--1:#24292E\">(groupKey, groupNumber);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#C586C0;--1:#BF3441\">return</span><span style=\"--0:#D4D4D4;--1:#24292E\"> groupNumber;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#4EC9B0;--1:#005CC5\">Future</span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#BF3441\">void</span><span style=\"--0:#D4D4D4;--1:#24292E\">&gt; </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">main</span><span style=\"--0:#D4D4D4;--1:#24292E\">() </span><span style=\"--0:#C586C0;--1:#BF3441\">async</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#4EC9B0;--1:#005CC5\">WidgetsFlutterBinding</span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">ensureInitialized</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> groupNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">getGroupNumber</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">runApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#4EC9B0;--1:#005CC5\">MyApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">(groupNumber</span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> groupNumber));</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Future<int> getGroupNumber() async {  final prefs = await SharedPreferences.getInstance();  final cachedGroupNumber = prefs.getInt(groupKey);  if (cachedGroupNumber != null) return cachedGroupNumber;  final groupNumber = Random().nextInt(100) + 1;  await prefs.setInt(groupKey, groupNumber);  return groupNumber;}Future<void> main() async {  WidgetsFlutterBinding.ensureInitialized();  final groupNumber = await getGroupNumber();  runApp(MyApp(groupNumber: groupNumber));}\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-logic-to-determine-rollout-percentage\">Add logic to determine rollout percentage</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-logic-to-determine-rollout-percentage\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We’ve used Firebase’s Cloud Firestore to create a simple key-value pairing of\nrelease versions to rollout percentages, although any method of retrieving a\nrollout percentage from the cloud will work.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"dart\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#4EC9B0;--1:#005CC5\">Future</span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;</span><span style=\"--0:#4EC9B0;--1:#005CC5\">int</span><span style=\"--0:#D4D4D4;--1:#24292E\">?&gt; </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">_fetchRolloutPercentage</span><span style=\"--0:#D4D4D4;--1:#24292E\">() </span><span style=\"--0:#C586C0;--1:#BF3441\">async</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> collection </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">FirebaseFirestore</span><span style=\"--0:#D4D4D4;--1:#24292E\">.instance</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">collection</span><span style=\"--0:#D4D4D4;--1:#24292E\">(firestoreCollectionName)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">get</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> releaseVersion </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">_releaseVersion</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#C586C0;--1:#BF3441\">return</span><span style=\"--0:#D4D4D4;--1:#24292E\"> collection.docs.first.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">data</span><span style=\"--0:#D4D4D4;--1:#24292E\">()[releaseVersion] </span><span style=\"--0:#569CD6;--1:#BF3441\">as</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">int</span><span style=\"--0:#D4D4D4;--1:#BF3441\">?</span><span style=\"--0:#D4D4D4;--1:#24292E\">;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Future<int?> _fetchRolloutPercentage() async {  final collection = await FirebaseFirestore.instance    .collection(firestoreCollectionName)    .get();  final releaseVersion = await _releaseVersion();  return collection.docs.first.data()[releaseVersion] as int?;}\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"use-these-values-to-choose-a-track\">Use these values to choose a track</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#use-these-values-to-choose-a-track\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We can now tie this all together by using the group number and the rollout\npercentage to decide whether a user should get patches in the beta track or in\nthe stable track.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"dart\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#4EC9B0;--1:#005CC5\">Future</span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;</span><span style=\"--0:#4EC9B0;--1:#005CC5\">UpdateTrack</span><span style=\"--0:#D4D4D4;--1:#24292E\">&gt; </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">_updateTrack</span><span style=\"--0:#D4D4D4;--1:#24292E\">() </span><span style=\"--0:#C586C0;--1:#BF3441\">async</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> rolloutPercentage </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">_fetchRolloutPercentage</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\">// If the user's group number is less than or equal to the rollout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\">// percentage, they are on the beta track. For example:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\">// - if the rollout percentage is 25%, users with group numbers 1-25</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\">//   are on the beta track, and the other 75% are on the stable track.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\">// - if the rollout percentage is 100%, all users are on the beta track.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#C586C0;--1:#BF3441\">return</span><span style=\"--0:#D4D4D4;--1:#24292E\"> widget.groupNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">&lt;=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> rolloutPercentage</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4\">    </span></span><span style=\"--0:#D4D4D4;--1:#BF3441\">?</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">UpdateTrack</span><span style=\"--0:#D4D4D4;--1:#24292E\">.beta</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4\">    </span></span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">UpdateTrack</span><span style=\"--0:#D4D4D4;--1:#24292E\">.stable;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Future<UpdateTrack> _updateTrack() async {final rolloutPercentage = await _fetchRolloutPercentage();// If the user's group number is less than or equal to the rollout// percentage, they are on the beta track. For example:// - if the rollout percentage is 25%, users with group numbers 1-25//   are on the beta track, and the other 75% are on the stable track.// - if the rollout percentage is 100%, all users are on the beta track.return widget.groupNumber <= rolloutPercentage    ? UpdateTrack.beta    : UpdateTrack.stable;}\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"seeing-it-in-action\">Seeing it in action</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts/#seeing-it-in-action\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We’ll start by creating a release for Android:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird release android</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android\"><div></div></button></div></figure></div>\n<p>This will create a release build of your app (an aab file) that is patchable\nwith Shorebird. You will distribute this build to your users the same way you\ndistribute your apps today.</p>\n<p>Now, we’ll launch our example using <code dir=\"auto\">shorebird preview</code>, which downloads the\nrelease and runs it on a local device:</p>\n<p><img src=\"https://github.com/user-attachments/assets/b82c3e48-c2b0-4c91-8c8f-58fe475a4439\" alt=\"Release build showing group number 76 with a red background\"></p>\n<p>We can see from this screenshot that our device is in group 76. This means that\nwe will request patches on the stable track until our rollout percentage is &gt;=\n76, at which point we will start requesting patches in the beta track.</p>\n<p>Because we haven’t created a patch on the beta track or set a rollout percentage\nyet, there isn’t much to see yet.</p>\n<p>Let’s change the background color from <code dir=\"auto\">Colors.deepPurple</code> to <code dir=\"auto\">Colors.red</code> and\ncreate a patch on the beta track using the following command:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch android --track=beta</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android --track=beta\"><div></div></button></div></figure></div>\n<p>And update the rollout percentage in Firebase:</p>\n<p><img src=\"https://github.com/user-attachments/assets/378eefbc-7299-4d7c-a9d4-7dd08957a596\" alt=\"Cloud Firestore showing 1.0.0+1 at 50% rollout\"></p>\n<p>Press the update button, and our shorebird preview output shows the following\n(formatted for readability):</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">11-13 15:54:06.188 1854 1943 I flutter : updater::network:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">[shorebird] Sending patch check request: PatchCheckRequest {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">app_id: \"fdd48b3f-0b05-41b0-ac22-464600f739ee\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">channel: \"stable\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">release_version: \"1.0.0+1\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">platform: \"android\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">arch: \"aarch64\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"11-13 15:54:06.188 1854 1943 I flutter : updater::network:  [shorebird] Sending patch check request: PatchCheckRequest {    app_id: &quot;fdd48b3f-0b05-41b0-ac22-464600f739ee&quot;,    channel: &quot;stable&quot;,    release_version: &quot;1.0.0+1&quot;,    platform: &quot;android&quot;,    arch: &quot;aarch64&quot;  }\"><div></div></button></div></figure></div>\n<p>Now if we change the rollout percentage in Firebase to 76%:</p>\n<p><img src=\"https://github.com/user-attachments/assets/28adc8ae-8eb2-4770-b79d-1143bc1e2632\" alt=\"Cloud Firestore showing 1.0.0+1 at 76% rollout\"></p>\n<p>And press the update button again, we will now see:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">11-13 16:41:42.525 7036 7102 I flutter : updater::network:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">[shorebird] Sending patch check request: PatchCheckRequest {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">app_id: \"fdd48b3f-0b05-41b0-ac22-464600f739ee\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">channel: \"beta\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">release_version: \"1.0.0+1\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">platform: \"android\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">arch: \"aarch64\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">11-13 16:41:42.666 7036 7102 I flutter : updater::updater:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">[shorebird] Patch check response: PatchCheckResponse {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">patch_available: true,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">patch: Some(Patch {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">      </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">number: 1,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">      </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">hash: \"6baa53e40fe1ef0d1230c0ab04ef9dacc7fb5d19368278f2cb2b09a333fdd0c2\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">      </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">download_url: \"https://cdn-dev.shorebird.cloud/api/v1/patches/fdd48b3f-0b05-41b0-ac22-464600f739ee/android/aarch64/3098/dlc.vmcode\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">      </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">hash_signature: None</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">}),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">rolled_back_patch_numbers: Some([])</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">11-13 16:41:43.279 7036 7102 I flutter : updater::updater:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">[shorebird] Patch 1 successfully downloaded. It will be launched when the app next restarts.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"11-13 16:41:42.525 7036 7102 I flutter : updater::network:  [shorebird] Sending patch check request: PatchCheckRequest {    app_id: &quot;fdd48b3f-0b05-41b0-ac22-464600f739ee&quot;,    channel: &quot;beta&quot;,    release_version: &quot;1.0.0+1&quot;,    platform: &quot;android&quot;,    arch: &quot;aarch64&quot;  }11-13 16:41:42.666 7036 7102 I flutter : updater::updater:  [shorebird] Patch check response: PatchCheckResponse {    patch_available: true,    patch: Some(Patch {      number: 1,      hash: &quot;6baa53e40fe1ef0d1230c0ab04ef9dacc7fb5d19368278f2cb2b09a333fdd0c2&quot;,      download_url: &quot;https://cdn-dev.shorebird.cloud/api/v1/patches/fdd48b3f-0b05-41b0-ac22-464600f739ee/android/aarch64/3098/dlc.vmcode&quot;,      hash_signature: None    }),    rolled_back_patch_numbers: Some([])  }11-13 16:41:43.279 7036 7102 I flutter : updater::updater:  [shorebird] Patch 1 successfully downloaded. It will be launched when the app next restarts.\"><div></div></button></div></figure></div>\n<p>Note that the channel field in the patch check request has changed from stable\nto beta, and that we’ve downloaded our patch.</p>\n<p><img src=\"https://github.com/user-attachments/assets/cfcc1010-5475-456a-ad25-d9415d1b5ca6\" alt=\"Patched build showing group number 76 with a purple background\"></p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#_top",
      "https://github.com/shorebirdtech/samples/tree/main/progressive_rollout_demo",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-shorebird-to-your-app",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-the-shorebird_code_push-package",
      "https://pub.dev/packages/shorebird_code_push",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-logic-to-bucket-your-users",
      "https://pub.dev/packages/shared_preferences",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#add-logic-to-determine-rollout-percentage",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#use-these-values-to-choose-a-track",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts/#seeing-it-in-action"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/percentage-based-rollouts/#_top)\n\n# Percentage-Based Rollouts\n\nThis guide describes how you can implement a percentage-based patch rollout\nsystem using predefined tracks.\n\nThe sample code for this guide can by found at\n[https://github.com/shorebirdtech/samples/tree/main/progressive\\_rollout\\_demo](https://github.com/shorebirdtech/samples/tree/main/progressive_rollout_demo)\n\nOur percentage-based rollout system will have the following three parts:\n\n1. Using Shorebird’s “tracks” feature to publish patches to different sets of\nusers.\n2. Using a cloud key-value (KV) store to manage rollout percentages for each\nrelease version.\n3. Randomly assigning every device a “group number” between 1 and 100. If a\ndevice’s group number is less than or equal to the current rollout percentage\nfor the current app version, that user will get the partially rolled-out\n(“beta”) patch. Otherwise, the user will receive the stable patch.\n\n## Add Shorebird to your app\n\nIf you haven’t already, run shorebird init in your Flutter project to add\nShorebird to your app.\n\n# Add the shorebird\\_code\\_push package\n\nThis feature also requires v2.0.0 of\n[`package:shorebird_code_push`](https://pub.dev/packages/shorebird_code_push).\nYou can add this to your project using `flutter pub add shorebird_code_push` or\nby adding it to your `pubspec.yaml` manually.\n\nYou will need to update your `shorebird.yaml` to tell Shorebird you want to\nmanage your own updates:\n\n```\n\napp_id: your-app-id-here\n\n# Add this line. Setting auto_update to false tells Shorebird not to check\n\n# for stable track updates on app launch\n\nauto_update: false\n```\n\n## Add logic to bucket your users\n\nWe do this by assigning each user a number between 1 and 100 and saving that\nvalue to a local cache using\n[`package:shared_preferences`](https://pub.dev/packages/shared_preferences):\n\n```\n\nFuture<int> getGroupNumber() async {\n\n  final prefs = await SharedPreferences.getInstance();\n\n  final cachedGroupNumber = prefs.getInt(groupKey);\n\n  if (cachedGroupNumber != null) return cachedGroupNumber;\n\n  final groupNumber = Random().nextInt(100) + 1;\n\n  await prefs.setInt(groupKey, groupNumber);\n\n  return groupNumber;\n\n}\n\nFuture<void> main() async {\n\n  WidgetsFlutterBinding.ensureInitialized();\n\n  final groupNumber = await getGroupNumber();\n\n  runApp(MyApp(groupNumber: groupNumber));\n\n}\n```\n\n## Add logic to determine rollout percentage\n\nWe’ve used Firebase’s Cloud Firestore to create a simple key-value pairing of\nrelease versions to rollout percentages, although any method of retrieving a\nrollout percentage from the cloud will work.\n\n```\n\nFuture<int?> _fetchRolloutPercentage() async {\n\n  final collection = await FirebaseFirestore.instance\n\n    .collection(firestoreCollectionName)\n\n    .get();\n\n  final releaseVersion = await _releaseVersion();\n\n  return collection.docs.first.data()[releaseVersion] as int?;\n\n}\n```\n\n## Use these values to choose a track\n\nWe can now tie this all together by using the group number and the rollout\npercentage to decide whether a user should get patches in the beta track or in\nthe stable track.\n\n```\n\nFuture<UpdateTrack> _updateTrack() async {\n\nfinal rolloutPercentage = await _fetchRolloutPercentage();\n\n// If the user's group number is less than or equal to the rollout\n\n// percentage, they are on the beta track. For example:\n\n// - if the rollout percentage is 25%, users with group numbers 1-25\n\n//   are on the beta track, and the other 75% are on the stable track.\n\n// - if the rollout percentage is 100%, all users are on the beta track.\n\nreturn widget.groupNumber <= rolloutPercentage\n\n    ? UpdateTrack.beta\n\n    : UpdateTrack.stable;\n\n}\n```\n\n## Seeing it in action\n\nWe’ll start by creating a release for Android:\n\n```\n\nshorebird release android\n```\n\nThis will create a release build of your app (an aab file) that is patchable\nwith Shorebird. You will distribute this build to your users the same way you\ndistribute your apps today.\n\nNow, we’ll launch our example using `shorebird preview`, which downloads the\nrelease and runs it on a local device:\n\n![Release build showing group number 76 with a red background](https://github.com/user-attachments/assets/b82c3e48-c2b0-4c91-8c8f-58fe475a4439)\n\nWe can see from this screenshot that our device is in group 76. This means that\nwe will request patches on the stable track until our rollout percentage is >=\n76, at which point we will start requesting patches in the beta track.\n\nBecause we haven’t created a patch on the beta track or set a rollout percentage\nyet, there isn’t much to see yet.\n\nLet’s change the background color from `Colors.deepPurple` to `Colors.red` and\ncreate a patch on the beta track using the following command:\n\n```\n\nshorebird patch android --track=beta\n```\n\nAnd update the rollout percentage in Firebase:\n\n![Cloud Firestore showing 1.0.0+1 at 50% rollout](https://github.com/user-attachments/assets/378eefbc-7299-4d7c-a9d4-7dd08957a596)\n\nPress the update button, and our shorebird preview output shows the following\n(formatted for readability):\n\n```\n\n11-13 15:54:06.188 1854 1943 I flutter : updater::network:\n\n  [shorebird] Sending patch check request: PatchCheckRequest {\n\n    app_id: \"fdd48b3f-0b05-41b0-ac22-464600f739ee\",\n\n    channel: \"stable\",\n\n    release_version: \"1.0.0+1\",\n\n    platform: \"android\",\n\n    arch: \"aarch64\"\n\n  }\n```\n\nNow if we change the rollout percentage in Firebase to 76%:\n\n![Cloud Firestore showing 1.0.0+1 at 76% rollout](https://github.com/user-attachments/assets/28adc8ae-8eb2-4770-b79d-1143bc1e2632)\n\nAnd press the update button again, we will now see:\n\n```\n\n11-13 16:41:42.525 7036 7102 I flutter : updater::network:\n\n  [shorebird] Sending patch check request: PatchCheckRequest {\n\n    app_id: \"fdd48b3f-0b05-41b0-ac22-464600f739ee\",\n\n    channel: \"beta\",\n\n    release_version: \"1.0.0+1\",\n\n    platform: \"android\",\n\n    arch: \"aarch64\"\n\n  }\n\n11-13 16:41:42.666 7036 7102 I flutter : updater::updater:\n\n  [shorebird] Patch check response: PatchCheckResponse {\n\n    patch_available: true,\n\n    patch: Some(Patch {\n\n      number: 1,\n\n      hash: \"6baa53e40fe1ef0d1230c0ab04ef9dacc7fb5d19368278f2cb2b09a333fdd0c2\",\n\n      download_url: \"https://cdn-dev.shorebird.cloud/api/v1/patches/fdd48b3f-0b05-41b0-ac22-464600f739ee/android/aarch64/3098/dlc.vmcode\",\n\n      hash_signature: None\n\n    }),\n\n    rolled_back_patch_numbers: Some([])\n\n  }\n\n11-13 16:41:43.279 7036 7102 I flutter : updater::updater:\n\n  [shorebird] Patch 1 successfully downloaded. It will be launched when the app next restarts.\n```\n\nNote that the channel field in the patch check request has changed from stable\nto beta, and that we’ve downloaded our patch.\n\n![Patched build showing group number 76 with a purple background](https://github.com/user-attachments/assets/cfcc1010-5475-456a-ad25-d9415d1b5ca6)",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/percentage-based-rollouts/",
      "ogUrl": "https://docs.shorebird.dev/guides/percentage-based-rollouts/",
      "title": "Percentage-Based Rollouts | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/percentage-based-rollouts/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Percentage-Based Rollouts",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Percentage-Based Rollouts",
      "ogLocale": "en",
      "scrapeId": "0e19373a-a5cd-44ca-b66b-1d06f255cc94",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/percentage-based-rollouts",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Gradually roll out patches to your users",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Gradually roll out patches to your users",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Gradually roll out patches to your users"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/uninstall/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Uninstall</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p><em>First, do no harm</em></p>\n<p>Shorebird is designed to be a drop-in replacement for stock Flutter,\nand can be disabled at any time with no effect on your users.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"thank-you\">Thank you</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/uninstall/#thank-you\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Thank you for trying Shorebird. If you’d like to continue using Shorebird\nbut have questions or concerns, please reach out to us on Discord or\nvia email at <a href=\"mailto:contact@shorebird.dev\">contact@shorebird.dev</a>.</p>\n<p>Otherwise, we hope you’ll consider trying Shorebird again in the future.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"canceling-your-subscription\">Canceling your subscription</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/uninstall/#canceling-your-subscription\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To cancel your subscription, navigate to the <a href=\"https://console.shorebird.dev/account\">Account</a>\npage on the Shorebird console, select the “Edit” dropdown, and click “Cancel Subscription”.</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/f7abc03d-7dd7-465f-b1f6-7d963bd5aaab\" alt=\"Screenshot 2024-01-09 at 10 37 23 AM\"></p>\n<p>This will take you to a Stripe page that will allow you to cancel your subscription.\nAfter cancelling, your access (and updates for your users) will continue until the\nend of the current billing period. After this, Shorebird will not longer send updates\nto your apps, but your apps will continue function otherwise normally.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"deleting-your-account\">Deleting your account</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/uninstall/#deleting-your-account\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To delete your account, email us at <a href=\"mailto:contact@shorebird.dev\">contact@shorebird.dev</a>. We’ll be happy to help.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"uninstalling-shorebird\">Uninstalling Shorebird</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/uninstall/#uninstalling-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Building with <code dir=\"auto\">shorebird build</code> will include Shorebird code push in your app.\nBuilding with <code dir=\"auto\">flutter build --release</code> will not include Shorebird in your app.\nAt any time you can simply drop back to <code dir=\"auto\">flutter build</code> and things will work\nas they did before.</p>\n<p>You can remove <code dir=\"auto\">shorebird</code> from your path by removing it from your <code dir=\"auto\">.bashrc</code> or\n<code dir=\"auto\">.zshrc</code> and deleting the <code dir=\"auto\">.shorebird</code> directory located in <code dir=\"auto\">~/.shorebird</code>.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/uninstall/#_top",
      "https://docs.shorebird.dev/uninstall/#thank-you",
      "mailto:contact@shorebird.dev",
      "https://docs.shorebird.dev/uninstall/#canceling-your-subscription",
      "https://console.shorebird.dev/account",
      "https://docs.shorebird.dev/uninstall/#deleting-your-account",
      "https://docs.shorebird.dev/uninstall/#uninstalling-shorebird"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/uninstall/#_top)\n\n# Uninstall\n\n_First, do no harm_\n\nShorebird is designed to be a drop-in replacement for stock Flutter,\nand can be disabled at any time with no effect on your users.\n\n## Thank you\n\nThank you for trying Shorebird. If you’d like to continue using Shorebird\nbut have questions or concerns, please reach out to us on Discord or\nvia email at [contact@shorebird.dev](mailto:contact@shorebird.dev).\n\nOtherwise, we hope you’ll consider trying Shorebird again in the future.\n\n## Canceling your subscription\n\nTo cancel your subscription, navigate to the [Account](https://console.shorebird.dev/account)\npage on the Shorebird console, select the “Edit” dropdown, and click “Cancel Subscription”.\n\n![Screenshot 2024-01-09 at 10 37 23 AM](https://github.com/shorebirdtech/docs/assets/581764/f7abc03d-7dd7-465f-b1f6-7d963bd5aaab)\n\nThis will take you to a Stripe page that will allow you to cancel your subscription.\nAfter cancelling, your access (and updates for your users) will continue until the\nend of the current billing period. After this, Shorebird will not longer send updates\nto your apps, but your apps will continue function otherwise normally.\n\n## Deleting your account\n\nTo delete your account, email us at [contact@shorebird.dev](mailto:contact@shorebird.dev). We’ll be happy to help.\n\n## Uninstalling Shorebird\n\nBuilding with `shorebird build` will include Shorebird code push in your app.\nBuilding with `flutter build --release` will not include Shorebird in your app.\nAt any time you can simply drop back to `flutter build` and things will work\nas they did before.\n\nYou can remove `shorebird` from your path by removing it from your `.bashrc` or\n`.zshrc` and deleting the `.shorebird` directory located in `~/.shorebird`.",
    "metadata": {
      "url": "https://docs.shorebird.dev/uninstall/",
      "ogUrl": "https://docs.shorebird.dev/uninstall/",
      "title": "Uninstall | Shorebird",
      "og:url": "https://docs.shorebird.dev/uninstall/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Uninstall",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Uninstall",
      "ogLocale": "en",
      "scrapeId": "62024b44-4769-485d-9e0a-e19e8ca644e0",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/uninstall",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "How to disable Shorebird.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "How to disable Shorebird.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "How to disable Shorebird."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/ci/codemagic/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Codemagic Integration</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n\n\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"codemagic-workflow-integration\">Codemagic Workflow Integration</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#codemagic-workflow-integration\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide will help you integrate Shorebird into your Codemagic Workflow using\nthe <a href=\"https://docs.codemagic.io/yaml-basic-configuration/yaml-getting-started/\">Codemagic\nYAML</a>.</p>\n<p>The reference code is available on GitHub at\n<a href=\"https://github.com/shorebirdtech/codemagic_demo\">https://github.com/shorebirdtech/codemagic_demo</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes that:</p>\n<ol>\n<li>Shorebird CLI is installed on your machine (<a href=\"https://docs.shorebird.dev/#install\">guide</a>).</li>\n<li>Codemagic is connected to your repository (<a href=\"https://docs.codemagic.io/yaml-quick-start/building-a-flutter-app/#adding-the-app-to-codemagic\">guide</a>).</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"authentication\">Authentication</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#authentication\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Most Shorebird functionality, like creating releases and patches, requires being\nauthenticated. In order to authenticate with Shorebird in CI, you will need to\ngenerate a CI token.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">login:ci</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird login:ci\"><div></div></button></div></figure></div>\n<p>You will be prompted to go through a similar OAuth Flow as when using <code dir=\"auto\">shorebird login</code>, however, <code dir=\"auto\">shorebird login:ci</code> will not store any credentials on your\ndevice. Instead, it will output a base-64 encoded auth token that you will use\nin your CI environment.</p>\n<p>The output of this command should look something like:</p>\n\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird login:ci</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">The Shorebird CLI needs your authorization to manage apps, releases, and patches on your behalf.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">In a browser, visit this URL to log in:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">https://accounts.google.com/o/oauth2/v2/auth...</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Waiting for your authorization...</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🎉 Success! Use the following token to login on a CI server:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">qwerasdf1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqw==</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Example:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">export SHOREBIRD_TOKEN=\"$SHOREBIRD_TOKEN\" &amp;&amp; shorebird patch android</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird login:ciThe Shorebird CLI needs your authorization to manage apps, releases, and patches on your behalf.In a browser, visit this URL to log in:https://accounts.google.com/o/oauth2/v2/auth...Waiting for your authorization...🎉 Success! Use the following token to login on a CI server:qwerasdf1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqw==Example:export SHOREBIRD_TOKEN=&quot;$SHOREBIRD_TOKEN&quot; &amp;&amp; shorebird patch android\"><div></div></button></div></figure></div>\n\n\n<p>Next, copy the generated <code dir=\"auto\">SHOREBIRD_TOKEN</code> and navigate to your Codemagic\nsecrets:</p>\n<ol>\n<li>Select the “teams” tab on the left sidebar.</li>\n<li>Select the team you want to add the secret to.</li>\n<li>Select the “Global Variables and Secrets” tab.</li>\n<li>Enter <code dir=\"auto\">SHOREBIRD_TOKEN</code> as variable name.</li>\n<li>Paste the token into the variable value field.</li>\n<li>Add it to a group named <code dir=\"auto\">shorebird</code>.</li>\n<li>Ensure “Secure” is checked.</li>\n</ol>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/24459435/a2f1ee39-686b-4473-8f3e-d720e835824f\" alt=\"Screenshot of the &quot;Environment Variables&quot; tab in\nCodemagic\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"set-up-an-android-workflow\">Set up an Android workflow</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#set-up-an-android-workflow\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This section shows you how to set up a Codemagic workflow to create Android\nreleases, distribute them to the Play Store, and patch them once they’ve been\ndistributed.</p>\n\n<p>As a preview, our finished <code dir=\"auto\">codemagic.yaml</code> file will look like this:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">definitions</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">shared_env</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">flutter</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.24.1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">groups</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">play_store</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">vars</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">FLUTTER_VERSION</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.24.1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Install Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\"># Install Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\"># Add Shorebird to PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo PATH=\"$HOME/.shorebird/bin:$PATH\" &gt;&gt; $CM_ENV</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Fetch Dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">flutter pub get</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">workflows</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">release-android-workflow</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Release Android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">instance_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">mac_mini_m1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#005CC5\">&lt;&lt;</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">android_signing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">android_keystore</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">shorebird release android \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--flutter-version=\"$FLUTTER_VERSION\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">artifacts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">build/**/outputs/**/*.aab</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">build/**/outputs/**/mapping.txt</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">flutter_drive.log</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">publishing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">google_play</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">credentials</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">$GCLOUD_SERVICE_ACCOUNT_CREDENTIALS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">track</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">internal</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">patch-android-workflow</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Patch Android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">instance_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">mac_mini_m1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#005CC5\">&lt;&lt;</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">android_signing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">android_keystore</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">inputs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">release_version</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">description</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">The release version to patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">shorebird patch android \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--release-version=${{ inputs.release_version }}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"definitions:  environment:    shared_env: &amp;shared_env      flutter: 3.24.1      groups:        - shorebird        - play_store      vars:        FLUTTER_VERSION: 3.24.1  scripts:    - &amp;shorebird_install      name: Install Shorebird      script: |        # Install Shorebird        curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash        # Add Shorebird to PATH        echo PATH=&quot;$HOME/.shorebird/bin:$PATH&quot; >> $CM_ENV    - &amp;fetch_dependencies      name: Fetch Dependencies      script: |        flutter pub getworkflows:  release-android-workflow:    name: Release Android    instance_type: mac_mini_m1    environment:      <<: *shared_env      android_signing:        - android_keystore    scripts:      - *shorebird_install      - *fetch_dependencies      - name: Shorebird Release        script: |          shorebird release android \\            --flutter-version=&quot;$FLUTTER_VERSION&quot;    artifacts:      - build/**/outputs/**/*.aab      - build/**/outputs/**/mapping.txt      - flutter_drive.log    publishing:      google_play:        credentials: $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS        track: internal  patch-android-workflow:    name: Patch Android    instance_type: mac_mini_m1    environment:      <<: *shared_env      android_signing:        - android_keystore    inputs:      release_version:        description: The release version to patch    scripts:      - *shorebird_install      - *fetch_dependencies      - name: Shorebird Patch        script: |          shorebird patch android \\            --release-version=${{ inputs.release_version }}\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"prerequisites-1\">Prerequisites</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#prerequisites-1\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"give-codemagic-permission-to-publish-to-the-play-store\">Give Codemagic permission to publish to the Play Store</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#give-codemagic-permission-to-publish-to-the-play-store\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You can follow the Codemagic guide\n<a href=\"https://docs.codemagic.io/yaml-code-signing/signing-android/#google-play-store-credentials\">here</a>\nto set this up. We put the <code dir=\"auto\">GCLOUD_SERVICE_ACCOUNT_CREDENTIALS</code> variable in a\ngroup named <code dir=\"auto\">play_store</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"set-up-your-android-keystore-in-codemagic\">Set up your Android keystore in Codemagic</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#set-up-your-android-keystore-in-codemagic\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You can follow the Codemagic guide\n<a href=\"https://docs.codemagic.io/yaml-code-signing/signing-android/\">here</a> to create a\nkeystore and upload it to Codemagic. We used <code dir=\"auto\">android_keystore</code> as the name of\nthe uploaded keystore.</p>\n<p>You will also also need to update your <code dir=\"auto\">android/app/build.gradle</code> file to\nuse this keystore in the Codemagic CI environment:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"groovy\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">signingConfigs {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">release {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#C586C0;--1:#BF3441\">if</span><span style=\"--0:#D4D4D4;--1:#24292E\"> (</span><span style=\"--1:#BF3441\"><span style=\"--0:#4EC9B0\">System</span><span style=\"--0:#D4D4D4\">.</span></span><span style=\"--0:#D4D4D4;--1:#24292E\">getenv()[</span><span style=\"--0:#CE9178;--1:#032F62\">'CI'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]) { </span><span style=\"--0:#74A061;--1:#616972\">// CI=true is exported by Codemagic</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">storeFile file(</span><span style=\"--1:#BF3441\"><span style=\"--0:#4EC9B0\">System</span><span style=\"--0:#D4D4D4\">.</span></span><span style=\"--0:#D4D4D4;--1:#24292E\">getenv()[</span><span style=\"--0:#CE9178;--1:#032F62\">'CM_KEYSTORE_PATH'</span><span style=\"--0:#D4D4D4;--1:#24292E\">])</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">storePassword </span><span style=\"--1:#BF3441\"><span style=\"--0:#4EC9B0\">System</span><span style=\"--0:#D4D4D4\">.</span></span><span style=\"--0:#D4D4D4;--1:#24292E\">getenv()[</span><span style=\"--0:#CE9178;--1:#032F62\">'CM_KEYSTORE_PASSWORD'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">keyAlias </span><span style=\"--1:#BF3441\"><span style=\"--0:#4EC9B0\">System</span><span style=\"--0:#D4D4D4\">.</span></span><span style=\"--0:#D4D4D4;--1:#24292E\">getenv()[</span><span style=\"--0:#CE9178;--1:#032F62\">'CM_KEY_ALIAS'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">keyPassword </span><span style=\"--1:#BF3441\"><span style=\"--0:#4EC9B0\">System</span><span style=\"--0:#D4D4D4\">.</span></span><span style=\"--0:#D4D4D4;--1:#24292E\">getenv()[</span><span style=\"--0:#CE9178;--1:#032F62\">'CM_KEY_PASSWORD'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">} </span><span style=\"--0:#C586C0;--1:#BF3441\">else</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">keyAlias keystoreProperties[</span><span style=\"--0:#CE9178;--1:#032F62\">'keyAlias'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">keyPassword keystoreProperties[</span><span style=\"--0:#CE9178;--1:#032F62\">'keyPassword'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">storeFile keystoreProperties[</span><span style=\"--0:#CE9178;--1:#032F62\">'storeFile'</span><span style=\"--0:#D4D4D4;--1:#24292E\">] </span><span style=\"--0:#D4D4D4;--1:#BF3441\">?</span><span style=\"--0:#D4D4D4;--1:#24292E\"> file(keystoreProperties[</span><span style=\"--0:#CE9178;--1:#032F62\">'storeFile'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]) </span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">null</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">storePassword keystoreProperties[</span><span style=\"--0:#CE9178;--1:#032F62\">'storePassword'</span><span style=\"--0:#D4D4D4;--1:#24292E\">]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"signingConfigs {  release {    if (System.getenv()['CI']) { // CI=true is exported by Codemagic      storeFile file(System.getenv()['CM_KEYSTORE_PATH'])      storePassword System.getenv()['CM_KEYSTORE_PASSWORD']      keyAlias System.getenv()['CM_KEY_ALIAS']      keyPassword System.getenv()['CM_KEY_PASSWORD']    } else {      keyAlias keystoreProperties['keyAlias']      keyPassword keystoreProperties['keyPassword']      storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null      storePassword keystoreProperties['storePassword']    }  }}\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-shared-configuration\">Create Shared Configuration</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#create-shared-configuration\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>At the top of our <code dir=\"auto\">codemagic.yaml</code> file, define shared environment variables and\nscripts that will be used by multiple workflows. This has been annotated to\nexplain what each part does.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">definitions</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># Use &amp;shared_env to allow us to reference this environment in other</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\">#   parts of the file</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">shared_env</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">flutter</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.24.1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">groups</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Add the shorebird group to make $SHOREBIRD_TOKEN available to</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   the Shorebird CLI.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Add the play_store group to make $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   available to the Google Play Publishing step.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">play_store</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">vars</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">FLUTTER_VERSION</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.24.1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># A step to install Shorebird and add it to the host machine's PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Install Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\"># Install Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\"># Add Shorebird to PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo PATH=\"$HOME/.shorebird/bin:$PATH\" &gt;&gt; $CM_ENV</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Fetch Dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">flutter pub get</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"definitions:  environment:    # Use &amp;shared_env to allow us to reference this environment in other    #   parts of the file    shared_env: &amp;shared_env      flutter: 3.24.1      groups:        # Add the shorebird group to make $SHOREBIRD_TOKEN available to        #   the Shorebird CLI.        - shorebird        # Add the play_store group to make $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS        #   available to the Google Play Publishing step.        - play_store      vars:        FLUTTER_VERSION: 3.24.1  scripts:    # A step to install Shorebird and add it to the host machine's PATH    - &amp;shorebird_install      name: Install Shorebird      script: |        # Install Shorebird        curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash        # Add Shorebird to PATH        echo PATH=&quot;$HOME/.shorebird/bin:$PATH&quot; >> $CM_ENV    - &amp;fetch_dependencies      name: Fetch Dependencies      script: |        flutter pub get\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"add-the-android-release-workflow\">Add the Android release workflow</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#add-the-android-release-workflow\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Add the following workflow to your <code dir=\"auto\">codemagic.yaml</code> file. This has been\nannotated to explain what each part does.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">workflows</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">release-android-workflow</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Release Android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># This can run on any instance type.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">instance_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">mac_mini_m1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Add the shared_env we defined in the definitions section.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#005CC5\">&lt;&lt;</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Make the keystore available so we can use release signing.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">android_signing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># \"android_keystore\" is the name of the keystore we uploaded</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   to Codemagic.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">android_keystore</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Run `shorebird release android` to create a release.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># This will upload the release to Shorebird and generate</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   the artifacts listed below.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">shorebird release android \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--flutter-version=\"$FLUTTER_VERSION\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># Tell Codemagic where to find the artifacts to publish.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">artifacts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">build/**/outputs/**/*.aab</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">build/**/outputs/**/mapping.txt</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">flutter_drive.log</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">publishing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Publish to the Google Play Store on the internal track.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">google_play</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">credentials</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">$GCLOUD_SERVICE_ACCOUNT_CREDENTIALS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">track</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">internal</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"workflows:  release-android-workflow:    name: Release Android    # This can run on any instance type.    instance_type: mac_mini_m1    environment:      # Add the shared_env we defined in the definitions section.      <<: *shared_env      # Make the keystore available so we can use release signing.      android_signing:        # &quot;android_keystore&quot; is the name of the keystore we uploaded        #   to Codemagic.        - android_keystore    scripts:      - *shorebird_install      - *fetch_dependencies      # Run `shorebird release android` to create a release.      # This will upload the release to Shorebird and generate      #   the artifacts listed below.      - name: Shorebird Release        script: |          shorebird release android \\            --flutter-version=&quot;$FLUTTER_VERSION&quot;    # Tell Codemagic where to find the artifacts to publish.    artifacts:      - build/**/outputs/**/*.aab      - build/**/outputs/**/mapping.txt      - flutter_drive.log    publishing:      # Publish to the Google Play Store on the internal track.      google_play:        credentials: $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS        track: internal\"><div></div></button></div></figure></div>\n<p>With this, you should be able to create a release in Shorebird and publish it\nto the Google Play Store via Codemagic.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"add-the-android-patch-workflow\">Add the Android patch workflow</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#add-the-android-patch-workflow\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Add the following workflow to your <code dir=\"auto\">codemagic.yaml</code> file. This has been\nannotated to explain what each part does.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">workflows</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">patch-android-workflow</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Patch Android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># As with the release workflow, this can run on any instance type.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">instance_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">mac_mini_m1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Add the shared_env we defined in the definitions section.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#005CC5\">&lt;&lt;</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Make the keystore available so we can use release signing.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">android_signing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># \"android_keystore\" is the name of the keystore we uploaded</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   to Codemagic.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">android_keystore</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># Add an input to allow us to specify the release version to patch.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># This will make this workflow reusable across releases.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">inputs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">release_version</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">description</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">The release version to patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Run `shorebird patch android` to patch the specified release.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">shorebird patch android \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--release-version=${{ inputs.release_version }}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"workflows:  patch-android-workflow:    name: Patch Android    # As with the release workflow, this can run on any instance type.    instance_type: mac_mini_m1    environment:      # Add the shared_env we defined in the definitions section.      <<: *shared_env      # Make the keystore available so we can use release signing.      android_signing:        # &quot;android_keystore&quot; is the name of the keystore we uploaded        #   to Codemagic.        - android_keystore    # Add an input to allow us to specify the release version to patch.    # This will make this workflow reusable across releases.    inputs:      release_version:        description: The release version to patch    scripts:      - *shorebird_install      - *fetch_dependencies      - name: Shorebird Patch        # Run `shorebird patch android` to patch the specified release.        script: |          shorebird patch android \\            --release-version=${{ inputs.release_version }}\"><div></div></button></div></figure></div>\n<p>With this, you should be able to patch a release in Shorebird via Codemagic.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"set-up-an-ios-workflow\">Set up an iOS workflow</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#set-up-an-ios-workflow\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This section shows you how to set up a Codemagic workflow to create iOS\nreleases, distribute them to TestFlight, and patch them once they’ve been\ndistributed.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"prerequisites-2\">Prerequisites</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#prerequisites-2\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"prepare-your-ios-code-signing\">Prepare your iOS code signing</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#prepare-your-ios-code-signing\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Codemagic has a guide on how to set up code signing for iOS\n<a href=\"https://docs.codemagic.io/yaml-quick-start/building-a-flutter-app/\">here</a>. This\nguide will help you generate the necessary keys, certificates, and provisioning\nprofiles and load them into Codemagic.</p>\n<p>Once you’ve done that, you will need to make these available to your\n<code dir=\"auto\">codemagic.yaml</code> scripts. You will end up with four environment variables to\nsupport this:</p>\n<ul>\n<li><code dir=\"auto\">KEY_ID</code>: This will be copied directly from App Store Connect.</li>\n<li><code dir=\"auto\">ISSUER_ID</code>: This will be copied directly from App Store Connect.</li>\n<li><code dir=\"auto\">APP_STORE_CONNECT_PRIVATE_KEY</code>: This will be the contents of the private key\nfile you downloaded from App Store Connect. An easy way to get this into\nCodemagic is to run <code dir=\"auto\">cat /path/to/AuthKey_12345678.p8 | pbcopy</code> which will\ncopy the contents of the file to your clipboard. You can then paste this into\nCodemagic.</li>\n<li><code dir=\"auto\">CERTIFICATE_PRIVATE_KEY</code>: Follow <a href=\"https://docs.codemagic.io/partials/code-signing-ios-obtain-certificate/\">this\nguide</a>\nto obtain <code dir=\"auto\">ios_distribution_private_key</code> file. You can then paste the contents\nof this file into Codemagic. <code dir=\"auto\">cat ios_distribution_private_key | pbcopy</code> works\nwell for this.</li>\n</ul>\n<p>We put all of these variables into a group named <code dir=\"auto\">app_store</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-shared-configuration\">Create a shared configuration</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#create-a-shared-configuration\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>At the top of our <code dir=\"auto\">codemagic.yaml</code> file, define shared environment variables and\nscripts that will be used by multiple workflows. This has been annotated to\nexplain what each part does.</p>\n\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">definitions</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">shared_env</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">flutter</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.24.1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">groups</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Export the shorebird group to make $SHOREBIRD_TOKEN available to</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   the Shorebird CLI.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Export the app_store group to make the iOS code signing variables</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   available the scripts below.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">app_store</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">vars</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># The bundle ID of this example app.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Replace this with your app's bundle id.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">BUNDLE_ID</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">dev.shorebird.codemagic-demo</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">FLUTTER_VERSION</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#B5CEA8;--1:#005CC5\">3.24.1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># Download the Shorebird CLI and add it to the PATH.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Install Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\"># Install Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\"># Add Shorebird to PATH</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">echo PATH=\"$HOME/.shorebird/bin:$PATH\" &gt;&gt; $CM_ENV</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">ios_initialize_keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Set up the keychain to be used for code signing. Create the keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   at specified path with specified password with given timeout.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Make it default and unlock it for upcoming use.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Set up keychain to be used for codesigning using Codemagic CLI 'keychain' command</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">keychain initialize</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">fetch_signing_files</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Fetch provisioning profiles and code signing certificates for</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   the Bundle ID with given identifier.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Fetch signing files</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">app-store-connect fetch-signing-files \"$BUNDLE_ID\" \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">--type IOS_APP_STORE --create \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">--issuer-id \"$ISSUER_ID\" \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">--key-id \"$KEY_ID\" \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">--private-key=\"$APP_STORE_CONNECT_PRIVATE_KEY\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">add_certs_to_keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Add certs to keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">keychain add-certificates</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">use_profiles</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># This generates an export_options.plist file that tells Xcode</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   how to package our app. We explicitly set</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   manageAppVersionAndBuildNumber so that we can control which</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   version and build number are used for releasing and patching.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Set up code signing settings on Xcode project</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">xcode-project use-profiles --custom-export-options={\\\"manageAppVersionAndBuildNumber\\\":false}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">&amp;</span><span style=\"--0:#4EC9B0;--1:#6F42C1\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Fetch Dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">        </span></span><span style=\"--0:#CE9178;--1:#032F62\">flutter pub get</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"definitions:  environment:    shared_env: &amp;shared_env      flutter: 3.24.1      groups:        # Export the shorebird group to make $SHOREBIRD_TOKEN available to        #   the Shorebird CLI.        - shorebird        # Export the app_store group to make the iOS code signing variables        #   available the scripts below.        - app_store      vars:        # The bundle ID of this example app.        # Replace this with your app's bundle id.        BUNDLE_ID: dev.shorebird.codemagic-demo        FLUTTER_VERSION: 3.24.1  scripts:    # Download the Shorebird CLI and add it to the PATH.    - &amp;shorebird_install      name: Install Shorebird      script: |        # Install Shorebird        curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash        # Add Shorebird to PATH        echo PATH=&quot;$HOME/.shorebird/bin:$PATH&quot; >> $CM_ENV    - &amp;ios_initialize_keychain      # Set up the keychain to be used for code signing. Create the keychain      #   at specified path with specified password with given timeout.      # Make it default and unlock it for upcoming use.      name: Set up keychain to be used for codesigning using Codemagic CLI 'keychain' command      script: |        keychain initialize    - &amp;fetch_signing_files      # Fetch provisioning profiles and code signing certificates for      #   the Bundle ID with given identifier.      name: Fetch signing files      script: |        app-store-connect fetch-signing-files &quot;$BUNDLE_ID&quot; \\          --type IOS_APP_STORE --create \\          --issuer-id &quot;$ISSUER_ID&quot; \\          --key-id &quot;$KEY_ID&quot; \\          --private-key=&quot;$APP_STORE_CONNECT_PRIVATE_KEY&quot;    - &amp;add_certs_to_keychain      name: Add certs to keychain      script: |        keychain add-certificates    - &amp;use_profiles      # This generates an export_options.plist file that tells Xcode      #   how to package our app. We explicitly set      #   manageAppVersionAndBuildNumber so that we can control which      #   version and build number are used for releasing and patching.      name: Set up code signing settings on Xcode project      script: |        xcode-project use-profiles --custom-export-options={\\&quot;manageAppVersionAndBuildNumber\\&quot;:false}    - &amp;fetch_dependencies      name: Fetch Dependencies      script: |        flutter pub get\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"add-the-ios-release-workflow\">Add the iOS release workflow</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#add-the-ios-release-workflow\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Add the following workflow to your <code dir=\"auto\">codemagic.yaml</code> file. This has been\nannotated to explain what each part does.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">workflows</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">release-ios-workflow</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Release iOS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># This needs to run on a Mac instance.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">instance_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">mac_mini_m1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">integrations</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># \"Codemagic\" is the name of our App Store Connect API key name.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">app_store_connect</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Codemagic</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#005CC5\">&lt;&lt;</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Tell Codemagic that we're signing our app for App Store distribution</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   and to use the bundle ID we defined above.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">ios_signing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">distribution_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">app_store</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">bundle_identifier</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"$BUNDLE_ID\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Use the scripts we defined in the definitions section.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_signing_files</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">ios_initialize_keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">add_certs_to_keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">use_profiles</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Run `shorebird release ios` to create a release.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">shorebird release ios \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--flutter-version=\"$FLUTTER_VERSION\" \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--export-options-plist=/Users/builder/export_options.plist</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># Tell Codemagic where to find the artifacts generated by</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\">#   the `shorebird release ios` command.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">artifacts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#CE9178;--1:#032F62\">build/ios/ipa/*.ipa</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">publishing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">app_store_connect</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Use referenced App Store Connect API key to authenticate binary upload.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">auth</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">integration</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Submit the release to TestFlight, where it can be downloaded by beta</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\">#   users and later patched by Shorebird.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">submit_to_testflight</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"workflows:  release-ios-workflow:    name: Release iOS    # This needs to run on a Mac instance.    instance_type: mac_mini_m1    integrations:      # &quot;Codemagic&quot; is the name of our App Store Connect API key name.      app_store_connect: Codemagic    environment:      <<: *shared_env      # Tell Codemagic that we're signing our app for App Store distribution      #   and to use the bundle ID we defined above.      ios_signing:        distribution_type: app_store        bundle_identifier: &quot;$BUNDLE_ID&quot;    scripts:      # Use the scripts we defined in the definitions section.      - *shorebird_install      - *fetch_dependencies      - *fetch_signing_files      - *ios_initialize_keychain      - *add_certs_to_keychain      - *use_profiles      - name: Shorebird Release        # Run `shorebird release ios` to create a release.        script: |          shorebird release ios \\            --flutter-version=&quot;$FLUTTER_VERSION&quot; \\            --export-options-plist=/Users/builder/export_options.plist    # Tell Codemagic where to find the artifacts generated by    #   the `shorebird release ios` command.    artifacts:      - build/ios/ipa/*.ipa    publishing:      app_store_connect:        # Use referenced App Store Connect API key to authenticate binary upload.        auth: integration        # Submit the release to TestFlight, where it can be downloaded by beta        #   users and later patched by Shorebird.        submit_to_testflight: true\"><div></div></button></div></figure></div>\n<p>With this, you should be able to create a release in Shorebird and publish it\nto TestFlight via Codemagic.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"add-the-ios-patch-workflow\">Add the iOS patch workflow</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/codemagic/#add-the-ios-patch-workflow\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Add the following workflow to your <code dir=\"auto\">codemagic.yaml</code> file:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">workflows</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">patch-ios-workflow</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Patch iOS</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># This needs to run on a Mac instance.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">instance_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">mac_mini_m1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">environment</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#005CC5\">&lt;&lt;</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shared_env</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Tell Codemagic that we're signing our app for App Store distribution</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">#   and to use the bundle ID we defined above.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">ios_signing</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">distribution_type</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">app_store</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">bundle_identifier</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"$BUNDLE_ID\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># Add an input to allow us to specify the release version to patch.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#74A061;--1:#616972\"># This will make this workflow reusable across releases.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">inputs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">release_version</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">description</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">The release version to patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">scripts</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">shorebird_install</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_dependencies</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">fetch_signing_files</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">ios_initialize_keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">add_certs_to_keychain</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#C586C0;--1:#BF3441\">*</span><span style=\"--0:#9CDCFE;--1:#24292E\">use_profiles</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#74A061;--1:#616972\"># Run `shorebird patch ios` to patch the specified release.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">script</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#C586C0;--1:#BF3441\">|</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">          </span></span><span style=\"--0:#CE9178;--1:#032F62\">shorebird patch ios \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--release-version=${{ inputs.release_version }} \\</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#CE9178;--1:#032F62\">            </span></span><span style=\"--0:#CE9178;--1:#032F62\">--export-options-plist=/Users/builder/export_options.plist</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"workflows:  patch-ios-workflow:    name: Patch iOS    # This needs to run on a Mac instance.    instance_type: mac_mini_m1    environment:      <<: *shared_env      # Tell Codemagic that we're signing our app for App Store distribution      #   and to use the bundle ID we defined above.      ios_signing:        distribution_type: app_store        bundle_identifier: &quot;$BUNDLE_ID&quot;    # Add an input to allow us to specify the release version to patch.    # This will make this workflow reusable across releases.    inputs:      release_version:        description: The release version to patch    scripts:      - *shorebird_install      - *fetch_dependencies      - *fetch_signing_files      - *ios_initialize_keychain      - *add_certs_to_keychain      - *use_profiles      - name: Shorebird Patch        # Run `shorebird patch ios` to patch the specified release.        script: |          shorebird patch ios \\            --release-version=${{ inputs.release_version }} \\            --export-options-plist=/Users/builder/export_options.plist\"><div></div></button></div></figure></div>\n<p>With this, you should be able to patch a release in Shorebird via Codemagic.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/ci/codemagic/#_top",
      "https://docs.shorebird.dev/ci/codemagic/#codemagic-workflow-integration",
      "https://docs.codemagic.io/yaml-basic-configuration/yaml-getting-started/",
      "https://github.com/shorebirdtech/codemagic_demo",
      "https://docs.shorebird.dev/ci/codemagic/#prerequisites",
      "https://docs.shorebird.dev/#install",
      "https://docs.codemagic.io/yaml-quick-start/building-a-flutter-app/#adding-the-app-to-codemagic",
      "https://docs.shorebird.dev/ci/codemagic/#authentication",
      "https://docs.shorebird.dev/ci/codemagic/#set-up-an-android-workflow",
      "https://docs.shorebird.dev/ci/codemagic/#prerequisites-1",
      "https://docs.shorebird.dev/ci/codemagic/#give-codemagic-permission-to-publish-to-the-play-store",
      "https://docs.codemagic.io/yaml-code-signing/signing-android/#google-play-store-credentials",
      "https://docs.shorebird.dev/ci/codemagic/#set-up-your-android-keystore-in-codemagic",
      "https://docs.codemagic.io/yaml-code-signing/signing-android/",
      "https://docs.shorebird.dev/ci/codemagic/#create-shared-configuration",
      "https://docs.shorebird.dev/ci/codemagic/#add-the-android-release-workflow",
      "https://docs.shorebird.dev/ci/codemagic/#add-the-android-patch-workflow",
      "https://docs.shorebird.dev/ci/codemagic/#set-up-an-ios-workflow",
      "https://docs.shorebird.dev/ci/codemagic/#prerequisites-2",
      "https://docs.shorebird.dev/ci/codemagic/#prepare-your-ios-code-signing",
      "https://docs.codemagic.io/yaml-quick-start/building-a-flutter-app/",
      "https://docs.codemagic.io/partials/code-signing-ios-obtain-certificate/",
      "https://docs.shorebird.dev/ci/codemagic/#create-a-shared-configuration",
      "https://docs.shorebird.dev/ci/codemagic/#add-the-ios-release-workflow",
      "https://docs.shorebird.dev/ci/codemagic/#add-the-ios-patch-workflow"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/ci/codemagic/#_top)\n\n# Codemagic Integration\n\n# Codemagic Workflow Integration\n\nThis guide will help you integrate Shorebird into your Codemagic Workflow using\nthe [Codemagic\\\\\nYAML](https://docs.codemagic.io/yaml-basic-configuration/yaml-getting-started/).\n\nThe reference code is available on GitHub at\n[https://github.com/shorebirdtech/codemagic\\_demo](https://github.com/shorebirdtech/codemagic_demo).\n\n## Prerequisites\n\nThis guide assumes that:\n\n1. Shorebird CLI is installed on your machine ( [guide](https://docs.shorebird.dev/#install)).\n2. Codemagic is connected to your repository ( [guide](https://docs.codemagic.io/yaml-quick-start/building-a-flutter-app/#adding-the-app-to-codemagic)).\n\n## Authentication\n\nMost Shorebird functionality, like creating releases and patches, requires being\nauthenticated. In order to authenticate with Shorebird in CI, you will need to\ngenerate a CI token.\n\n```\n\nshorebird login:ci\n```\n\nYou will be prompted to go through a similar OAuth Flow as when using `shorebird login`, however, `shorebird login:ci` will not store any credentials on your\ndevice. Instead, it will output a base-64 encoded auth token that you will use\nin your CI environment.\n\nThe output of this command should look something like:\n\n```\n\n$ shorebird login:ci\n\nThe Shorebird CLI needs your authorization to manage apps, releases, and patches on your behalf.\n\nIn a browser, visit this URL to log in:\n\nhttps://accounts.google.com/o/oauth2/v2/auth...\n\nWaiting for your authorization...\n\n🎉 Success! Use the following token to login on a CI server:\n\nqwerasdf1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqw==\n\nExample:\n\nexport SHOREBIRD_TOKEN=\"$SHOREBIRD_TOKEN\" && shorebird patch android\n```\n\nNext, copy the generated `SHOREBIRD_TOKEN` and navigate to your Codemagic\nsecrets:\n\n1. Select the “teams” tab on the left sidebar.\n2. Select the team you want to add the secret to.\n3. Select the “Global Variables and Secrets” tab.\n4. Enter `SHOREBIRD_TOKEN` as variable name.\n5. Paste the token into the variable value field.\n6. Add it to a group named `shorebird`.\n7. Ensure “Secure” is checked.\n\n![Screenshot of the \"Environment Variables\" tab in Codemagic](https://github.com/shorebirdtech/docs/assets/24459435/a2f1ee39-686b-4473-8f3e-d720e835824f)\n\n## Set up an Android workflow\n\nThis section shows you how to set up a Codemagic workflow to create Android\nreleases, distribute them to the Play Store, and patch them once they’ve been\ndistributed.\n\nAs a preview, our finished `codemagic.yaml` file will look like this:\n\n```\n\ndefinitions:\n\n  environment:\n\n    shared_env: &shared_env\n\n      flutter: 3.24.1\n\n      groups:\n\n        - shorebird\n\n        - play_store\n\n      vars:\n\n        FLUTTER_VERSION: 3.24.1\n\n  scripts:\n\n    - &shorebird_install\n\n      name: Install Shorebird\n\n      script: |\n\n        # Install Shorebird\n\n        curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\n\n        # Add Shorebird to PATH\n\n        echo PATH=\"$HOME/.shorebird/bin:$PATH\" >> $CM_ENV\n\n    - &fetch_dependencies\n\n      name: Fetch Dependencies\n\n      script: |\n\n        flutter pub get\n\nworkflows:\n\n  release-android-workflow:\n\n    name: Release Android\n\n    instance_type: mac_mini_m1\n\n    environment:\n\n      <<: *shared_env\n\n      android_signing:\n\n        - android_keystore\n\n    scripts:\n\n      - *shorebird_install\n\n      - *fetch_dependencies\n\n      - name: Shorebird Release\n\n        script: |\n\n          shorebird release android \\\n\n            --flutter-version=\"$FLUTTER_VERSION\"\n\n    artifacts:\n\n      - build/**/outputs/**/*.aab\n\n      - build/**/outputs/**/mapping.txt\n\n      - flutter_drive.log\n\n    publishing:\n\n      google_play:\n\n        credentials: $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS\n\n        track: internal\n\n  patch-android-workflow:\n\n    name: Patch Android\n\n    instance_type: mac_mini_m1\n\n    environment:\n\n      <<: *shared_env\n\n      android_signing:\n\n        - android_keystore\n\n    inputs:\n\n      release_version:\n\n        description: The release version to patch\n\n    scripts:\n\n      - *shorebird_install\n\n      - *fetch_dependencies\n\n      - name: Shorebird Patch\n\n        script: |\n\n          shorebird patch android \\\n\n            --release-version=${{ inputs.release_version }}\n```\n\n### Prerequisites\n\n#### Give Codemagic permission to publish to the Play Store\n\nYou can follow the Codemagic guide\n[here](https://docs.codemagic.io/yaml-code-signing/signing-android/#google-play-store-credentials)\nto set this up. We put the `GCLOUD_SERVICE_ACCOUNT_CREDENTIALS` variable in a\ngroup named `play_store`.\n\n#### Set up your Android keystore in Codemagic\n\nYou can follow the Codemagic guide\n[here](https://docs.codemagic.io/yaml-code-signing/signing-android/) to create a\nkeystore and upload it to Codemagic. We used `android_keystore` as the name of\nthe uploaded keystore.\n\nYou will also also need to update your `android/app/build.gradle` file to\nuse this keystore in the Codemagic CI environment:\n\n```\n\nsigningConfigs {\n\n  release {\n\n    if (System.getenv()['CI']) { // CI=true is exported by Codemagic\n\n      storeFile file(System.getenv()['CM_KEYSTORE_PATH'])\n\n      storePassword System.getenv()['CM_KEYSTORE_PASSWORD']\n\n      keyAlias System.getenv()['CM_KEY_ALIAS']\n\n      keyPassword System.getenv()['CM_KEY_PASSWORD']\n\n    } else {\n\n      keyAlias keystoreProperties['keyAlias']\n\n      keyPassword keystoreProperties['keyPassword']\n\n      storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n\n      storePassword keystoreProperties['storePassword']\n\n    }\n\n  }\n\n}\n```\n\n### Create Shared Configuration\n\nAt the top of our `codemagic.yaml` file, define shared environment variables and\nscripts that will be used by multiple workflows. This has been annotated to\nexplain what each part does.\n\n```\n\ndefinitions:\n\n  environment:\n\n    # Use &shared_env to allow us to reference this environment in other\n\n    #   parts of the file\n\n    shared_env: &shared_env\n\n      flutter: 3.24.1\n\n      groups:\n\n        # Add the shorebird group to make $SHOREBIRD_TOKEN available to\n\n        #   the Shorebird CLI.\n\n        - shorebird\n\n        # Add the play_store group to make $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS\n\n        #   available to the Google Play Publishing step.\n\n        - play_store\n\n      vars:\n\n        FLUTTER_VERSION: 3.24.1\n\n  scripts:\n\n    # A step to install Shorebird and add it to the host machine's PATH\n\n    - &shorebird_install\n\n      name: Install Shorebird\n\n      script: |\n\n        # Install Shorebird\n\n        curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\n\n        # Add Shorebird to PATH\n\n        echo PATH=\"$HOME/.shorebird/bin:$PATH\" >> $CM_ENV\n\n    - &fetch_dependencies\n\n      name: Fetch Dependencies\n\n      script: |\n\n        flutter pub get\n```\n\n### Add the Android release workflow\n\nAdd the following workflow to your `codemagic.yaml` file. This has been\nannotated to explain what each part does.\n\n```\n\nworkflows:\n\n  release-android-workflow:\n\n    name: Release Android\n\n    # This can run on any instance type.\n\n    instance_type: mac_mini_m1\n\n    environment:\n\n      # Add the shared_env we defined in the definitions section.\n\n      <<: *shared_env\n\n      # Make the keystore available so we can use release signing.\n\n      android_signing:\n\n        # \"android_keystore\" is the name of the keystore we uploaded\n\n        #   to Codemagic.\n\n        - android_keystore\n\n    scripts:\n\n      - *shorebird_install\n\n      - *fetch_dependencies\n\n      # Run `shorebird release android` to create a release.\n\n      # This will upload the release to Shorebird and generate\n\n      #   the artifacts listed below.\n\n      - name: Shorebird Release\n\n        script: |\n\n          shorebird release android \\\n\n            --flutter-version=\"$FLUTTER_VERSION\"\n\n    # Tell Codemagic where to find the artifacts to publish.\n\n    artifacts:\n\n      - build/**/outputs/**/*.aab\n\n      - build/**/outputs/**/mapping.txt\n\n      - flutter_drive.log\n\n    publishing:\n\n      # Publish to the Google Play Store on the internal track.\n\n      google_play:\n\n        credentials: $GCLOUD_SERVICE_ACCOUNT_CREDENTIALS\n\n        track: internal\n```\n\nWith this, you should be able to create a release in Shorebird and publish it\nto the Google Play Store via Codemagic.\n\n### Add the Android patch workflow\n\nAdd the following workflow to your `codemagic.yaml` file. This has been\nannotated to explain what each part does.\n\n```\n\nworkflows:\n\n  patch-android-workflow:\n\n    name: Patch Android\n\n    # As with the release workflow, this can run on any instance type.\n\n    instance_type: mac_mini_m1\n\n    environment:\n\n      # Add the shared_env we defined in the definitions section.\n\n      <<: *shared_env\n\n      # Make the keystore available so we can use release signing.\n\n      android_signing:\n\n        # \"android_keystore\" is the name of the keystore we uploaded\n\n        #   to Codemagic.\n\n        - android_keystore\n\n    # Add an input to allow us to specify the release version to patch.\n\n    # This will make this workflow reusable across releases.\n\n    inputs:\n\n      release_version:\n\n        description: The release version to patch\n\n    scripts:\n\n      - *shorebird_install\n\n      - *fetch_dependencies\n\n      - name: Shorebird Patch\n\n        # Run `shorebird patch android` to patch the specified release.\n\n        script: |\n\n          shorebird patch android \\\n\n            --release-version=${{ inputs.release_version }}\n```\n\nWith this, you should be able to patch a release in Shorebird via Codemagic.\n\n## Set up an iOS workflow\n\nThis section shows you how to set up a Codemagic workflow to create iOS\nreleases, distribute them to TestFlight, and patch them once they’ve been\ndistributed.\n\n### Prerequisites\n\n#### Prepare your iOS code signing\n\nCodemagic has a guide on how to set up code signing for iOS\n[here](https://docs.codemagic.io/yaml-quick-start/building-a-flutter-app/). This\nguide will help you generate the necessary keys, certificates, and provisioning\nprofiles and load them into Codemagic.\n\nOnce you’ve done that, you will need to make these available to your\n`codemagic.yaml` scripts. You will end up with four environment variables to\nsupport this:\n\n- `KEY_ID`: This will be copied directly from App Store Connect.\n- `ISSUER_ID`: This will be copied directly from App Store Connect.\n- `APP_STORE_CONNECT_PRIVATE_KEY`: This will be the contents of the private key\nfile you downloaded from App Store Connect. An easy way to get this into\nCodemagic is to run `cat /path/to/AuthKey_12345678.p8 | pbcopy` which will\ncopy the contents of the file to your clipboard. You can then paste this into\nCodemagic.\n- `CERTIFICATE_PRIVATE_KEY`: Follow [this\\\\\nguide](https://docs.codemagic.io/partials/code-signing-ios-obtain-certificate/)\nto obtain `ios_distribution_private_key` file. You can then paste the contents\nof this file into Codemagic. `cat ios_distribution_private_key | pbcopy` works\nwell for this.\n\nWe put all of these variables into a group named `app_store`.\n\n### Create a shared configuration\n\nAt the top of our `codemagic.yaml` file, define shared environment variables and\nscripts that will be used by multiple workflows. This has been annotated to\nexplain what each part does.\n\n```\n\ndefinitions:\n\n  environment:\n\n    shared_env: &shared_env\n\n      flutter: 3.24.1\n\n      groups:\n\n        # Export the shorebird group to make $SHOREBIRD_TOKEN available to\n\n        #   the Shorebird CLI.\n\n        - shorebird\n\n        # Export the app_store group to make the iOS code signing variables\n\n        #   available the scripts below.\n\n        - app_store\n\n      vars:\n\n        # The bundle ID of this example app.\n\n        # Replace this with your app's bundle id.\n\n        BUNDLE_ID: dev.shorebird.codemagic-demo\n\n        FLUTTER_VERSION: 3.24.1\n\n  scripts:\n\n    # Download the Shorebird CLI and add it to the PATH.\n\n    - &shorebird_install\n\n      name: Install Shorebird\n\n      script: |\n\n        # Install Shorebird\n\n        curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\n\n        # Add Shorebird to PATH\n\n        echo PATH=\"$HOME/.shorebird/bin:$PATH\" >> $CM_ENV\n\n    - &ios_initialize_keychain\n\n      # Set up the keychain to be used for code signing. Create the keychain\n\n      #   at specified path with specified password with given timeout.\n\n      # Make it default and unlock it for upcoming use.\n\n      name: Set up keychain to be used for codesigning using Codemagic CLI 'keychain' command\n\n      script: |\n\n        keychain initialize\n\n    - &fetch_signing_files\n\n      # Fetch provisioning profiles and code signing certificates for\n\n      #   the Bundle ID with given identifier.\n\n      name: Fetch signing files\n\n      script: |\n\n        app-store-connect fetch-signing-files \"$BUNDLE_ID\" \\\n\n          --type IOS_APP_STORE --create \\\n\n          --issuer-id \"$ISSUER_ID\" \\\n\n          --key-id \"$KEY_ID\" \\\n\n          --private-key=\"$APP_STORE_CONNECT_PRIVATE_KEY\"\n\n    - &add_certs_to_keychain\n\n      name: Add certs to keychain\n\n      script: |\n\n        keychain add-certificates\n\n    - &use_profiles\n\n      # This generates an export_options.plist file that tells Xcode\n\n      #   how to package our app. We explicitly set\n\n      #   manageAppVersionAndBuildNumber so that we can control which\n\n      #   version and build number are used for releasing and patching.\n\n      name: Set up code signing settings on Xcode project\n\n      script: |\n\n        xcode-project use-profiles --custom-export-options={\\\"manageAppVersionAndBuildNumber\\\":false}\n\n    - &fetch_dependencies\n\n      name: Fetch Dependencies\n\n      script: |\n\n        flutter pub get\n```\n\n### Add the iOS release workflow\n\nAdd the following workflow to your `codemagic.yaml` file. This has been\nannotated to explain what each part does.\n\n```\n\nworkflows:\n\n  release-ios-workflow:\n\n    name: Release iOS\n\n    # This needs to run on a Mac instance.\n\n    instance_type: mac_mini_m1\n\n    integrations:\n\n      # \"Codemagic\" is the name of our App Store Connect API key name.\n\n      app_store_connect: Codemagic\n\n    environment:\n\n      <<: *shared_env\n\n      # Tell Codemagic that we're signing our app for App Store distribution\n\n      #   and to use the bundle ID we defined above.\n\n      ios_signing:\n\n        distribution_type: app_store\n\n        bundle_identifier: \"$BUNDLE_ID\"\n\n    scripts:\n\n      # Use the scripts we defined in the definitions section.\n\n      - *shorebird_install\n\n      - *fetch_dependencies\n\n      - *fetch_signing_files\n\n      - *ios_initialize_keychain\n\n      - *add_certs_to_keychain\n\n      - *use_profiles\n\n      - name: Shorebird Release\n\n        # Run `shorebird release ios` to create a release.\n\n        script: |\n\n          shorebird release ios \\\n\n            --flutter-version=\"$FLUTTER_VERSION\" \\\n\n            --export-options-plist=/Users/builder/export_options.plist\n\n    # Tell Codemagic where to find the artifacts generated by\n\n    #   the `shorebird release ios` command.\n\n    artifacts:\n\n      - build/ios/ipa/*.ipa\n\n    publishing:\n\n      app_store_connect:\n\n        # Use referenced App Store Connect API key to authenticate binary upload.\n\n        auth: integration\n\n        # Submit the release to TestFlight, where it can be downloaded by beta\n\n        #   users and later patched by Shorebird.\n\n        submit_to_testflight: true\n```\n\nWith this, you should be able to create a release in Shorebird and publish it\nto TestFlight via Codemagic.\n\n### Add the iOS patch workflow\n\nAdd the following workflow to your `codemagic.yaml` file:\n\n```\n\nworkflows:\n\n  patch-ios-workflow:\n\n    name: Patch iOS\n\n    # This needs to run on a Mac instance.\n\n    instance_type: mac_mini_m1\n\n    environment:\n\n      <<: *shared_env\n\n      # Tell Codemagic that we're signing our app for App Store distribution\n\n      #   and to use the bundle ID we defined above.\n\n      ios_signing:\n\n        distribution_type: app_store\n\n        bundle_identifier: \"$BUNDLE_ID\"\n\n    # Add an input to allow us to specify the release version to patch.\n\n    # This will make this workflow reusable across releases.\n\n    inputs:\n\n      release_version:\n\n        description: The release version to patch\n\n    scripts:\n\n      - *shorebird_install\n\n      - *fetch_dependencies\n\n      - *fetch_signing_files\n\n      - *ios_initialize_keychain\n\n      - *add_certs_to_keychain\n\n      - *use_profiles\n\n      - name: Shorebird Patch\n\n        # Run `shorebird patch ios` to patch the specified release.\n\n        script: |\n\n          shorebird patch ios \\\n\n            --release-version=${{ inputs.release_version }} \\\n\n            --export-options-plist=/Users/builder/export_options.plist\n```\n\nWith this, you should be able to patch a release in Shorebird via Codemagic.",
    "metadata": {
      "url": "https://docs.shorebird.dev/ci/codemagic/",
      "ogUrl": "https://docs.shorebird.dev/ci/codemagic/",
      "title": "Codemagic Integration | Shorebird",
      "og:url": "https://docs.shorebird.dev/ci/codemagic/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Codemagic Integration",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Codemagic Integration",
      "ogLocale": "en",
      "scrapeId": "a2057715-dfc6-4dc9-9a52-780450c518bd",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/ci/codemagic/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Integrate Shorebird into your Codemagic workflow",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Integrate Shorebird into your Codemagic workflow",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Integrate Shorebird into your Codemagic workflow"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/testing-patches/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Testing Patches</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>We recommend that you test your patches with a subset of users before\ndistributing to all users.</p>\n<p>Shorebird’s mechanism to release to a subset of users is “tracks”. By\nconvention the “stable” track is distributed to all users of your app by\ndefault. When you make a patch “live” it goes to “stable” and all users will\nupdate to that patch.</p>\n<p>Today Shorebird supports “staging”, “beta” and “stable” tracks:\n<a href=\"https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/UpdateTrack.html\">https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/UpdateTrack.html</a>\nWe have plans to <a href=\"https://github.com/shorebirdtech/updater/issues/255\">allow additional track names in the future</a>.</p>\n<p>Typically we se customers use “staging” for internal testing (on developers’\nmachines) and “beta” for wider group testing (e.g. QA teams where <code dir=\"auto\">shorebird</code>\ncommands are not available).</p>\n<p>As part of our privacy stance, we <em>never</em> know anything about your users, so\nwe have no way to tell users apart or to specify which users should receive\na patch from within our product. However, we do provide you mechanisms for\ncontrolling updates via Shorebird with user information you have access to\nfrom within your company and your application. See the\n<a href=\"https://docs.shorebird.dev/guides/percentage-based-rollouts\">Percentage Based Rollouts guide</a> for examples.</p>\n<p>We recommend using one of the following three approaches to distribute patches to a subset of\nusers (e.g. your QA team) for testing without affecting your public users in\nproduction.</p>\n<p>All of these options require disabling <code dir=\"auto\">auto_update</code> support, and using\n<a href=\"https://pub.dev/packages/shorebird_code_push\">package:shorebird_code_push</a> for\nmore advanced control over the update process.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"option-1-control-shorebird-track-based-on-the-current-users-account\">Option 1: Control Shorebird track based on the current user’s account.</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/testing-patches/#option-1-control-shorebird-track-based-on-the-current-users-account\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If your app has a login mechanism, this is your best option. If it does not, we\nrecommend option 2.</p>\n<p>Once your user has logged in, you determine whether the user is a tester\nand then change your Shorebird update code to use that information\nwhen updating, e.g.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"dart\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> track </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> user.isTester </span><span style=\"--0:#D4D4D4;--1:#BF3441\">?</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">UpdateTrack</span><span style=\"--0:#D4D4D4;--1:#24292E\">.beta </span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">UpdateTrack</span><span style=\"--0:#D4D4D4;--1:#24292E\">.stable;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">shorebirdUpdater.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">update</span><span style=\"--0:#D4D4D4;--1:#24292E\">(track</span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> track);</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"final track = user.isTester ? UpdateTrack.beta : UpdateTrack.stable;shorebirdUpdater.update(track: track);\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"option-2-control-shorebird-track-with-a-hidden-ui\">Option 2: Control Shorebird track with a hidden UI.</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/testing-patches/#option-2-control-shorebird-track-with-a-hidden-ui\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If your app does not have a login/user-account mechanism, this is your best\noption. If it does, we recommend option 1.</p>\n<p>Some stores discourage hidden UIs; however our customers tell us it is common\npractice. For example, some apps may\nenable a “QA” mode in their app after a certain series of clicks or special\ngestures, etc., similar to how Android enables developer mode when <a href=\"https://developer.android.com/studio/debug/dev-options\">tapping 7 times\non the Android version text in the settings app</a>\nFrom a QA mode, you could allow testers to switch to the “beta”\npatch track, even from your production app. They could similarly switch back to\n“stable” to move back to what production users see today.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"option-3-control-shorebird-track-based-on-how-the-app-was-installed\">Option 3: Control Shorebird Track based on how the app was installed.</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/testing-patches/#option-3-control-shorebird-track-based-on-how-the-app-was-installed\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Other companies provide existing mechanisms for testing mobile apps before\nproduction. Apple TestFlight, Google Release Tracks, Firebase App Distribution\nare all examples of this. Shorebird does not have built-in detection of these\ndistribution mechanisms, but it is typically possible to detect the mechanism\nvia which an App was installed on the user’s device.</p>\n<p>It is then possible to pick the Shorebird track based on the detected install mechanism,\nallowing you to thus distribute patches <em>only</em> to your TestFlight users, etc.</p>\n<p>Because detection of install mechanisms can be unreliable, we recommend option 1\nor 2 for most teams, but include this option for completeness. Most teams who\ndistribute via TestFlight, for example, also have QA-specific accounts and thus\noption 2 is strictly better.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/testing-patches/#_top",
      "https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/UpdateTrack.html",
      "https://github.com/shorebirdtech/updater/issues/255",
      "https://docs.shorebird.dev/guides/percentage-based-rollouts",
      "https://pub.dev/packages/shorebird_code_push",
      "https://docs.shorebird.dev/guides/testing-patches/#option-1-control-shorebird-track-based-on-the-current-users-account",
      "https://docs.shorebird.dev/guides/testing-patches/#option-2-control-shorebird-track-with-a-hidden-ui",
      "https://developer.android.com/studio/debug/dev-options",
      "https://docs.shorebird.dev/guides/testing-patches/#option-3-control-shorebird-track-based-on-how-the-app-was-installed"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/testing-patches/#_top)\n\n# Testing Patches\n\nWe recommend that you test your patches with a subset of users before\ndistributing to all users.\n\nShorebird’s mechanism to release to a subset of users is “tracks”. By\nconvention the “stable” track is distributed to all users of your app by\ndefault. When you make a patch “live” it goes to “stable” and all users will\nupdate to that patch.\n\nToday Shorebird supports “staging”, “beta” and “stable” tracks:\n[https://pub.dev/documentation/shorebird\\_code\\_push/latest/shorebird\\_code\\_push/UpdateTrack.html](https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/UpdateTrack.html)\nWe have plans to [allow additional track names in the future](https://github.com/shorebirdtech/updater/issues/255).\n\nTypically we se customers use “staging” for internal testing (on developers’\nmachines) and “beta” for wider group testing (e.g. QA teams where `shorebird`\ncommands are not available).\n\nAs part of our privacy stance, we _never_ know anything about your users, so\nwe have no way to tell users apart or to specify which users should receive\na patch from within our product. However, we do provide you mechanisms for\ncontrolling updates via Shorebird with user information you have access to\nfrom within your company and your application. See the\n[Percentage Based Rollouts guide](https://docs.shorebird.dev/guides/percentage-based-rollouts) for examples.\n\nWe recommend using one of the following three approaches to distribute patches to a subset of\nusers (e.g. your QA team) for testing without affecting your public users in\nproduction.\n\nAll of these options require disabling `auto_update` support, and using\n[package:shorebird\\_code\\_push](https://pub.dev/packages/shorebird_code_push) for\nmore advanced control over the update process.\n\n### Option 1: Control Shorebird track based on the current user’s account.\n\nIf your app has a login mechanism, this is your best option. If it does not, we\nrecommend option 2.\n\nOnce your user has logged in, you determine whether the user is a tester\nand then change your Shorebird update code to use that information\nwhen updating, e.g.\n\n```\n\nfinal track = user.isTester ? UpdateTrack.beta : UpdateTrack.stable;\n\nshorebirdUpdater.update(track: track);\n```\n\n### Option 2: Control Shorebird track with a hidden UI.\n\nIf your app does not have a login/user-account mechanism, this is your best\noption. If it does, we recommend option 1.\n\nSome stores discourage hidden UIs; however our customers tell us it is common\npractice. For example, some apps may\nenable a “QA” mode in their app after a certain series of clicks or special\ngestures, etc., similar to how Android enables developer mode when [tapping 7 times\\\\\non the Android version text in the settings app](https://developer.android.com/studio/debug/dev-options)\nFrom a QA mode, you could allow testers to switch to the “beta”\npatch track, even from your production app. They could similarly switch back to\n“stable” to move back to what production users see today.\n\n### Option 3: Control Shorebird Track based on how the app was installed.\n\nOther companies provide existing mechanisms for testing mobile apps before\nproduction. Apple TestFlight, Google Release Tracks, Firebase App Distribution\nare all examples of this. Shorebird does not have built-in detection of these\ndistribution mechanisms, but it is typically possible to detect the mechanism\nvia which an App was installed on the user’s device.\n\nIt is then possible to pick the Shorebird track based on the detected install mechanism,\nallowing you to thus distribute patches _only_ to your TestFlight users, etc.\n\nBecause detection of install mechanisms can be unreliable, we recommend option 1\nor 2 for most teams, but include this option for completeness. Most teams who\ndistribute via TestFlight, for example, also have QA-specific accounts and thus\noption 2 is strictly better.",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/testing-patches/",
      "ogUrl": "https://docs.shorebird.dev/guides/testing-patches/",
      "title": "Testing Patches | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/testing-patches/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Testing Patches",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Testing Patches",
      "ogLocale": "en",
      "scrapeId": "a69bbf4d-4e89-4644-818f-3fbc84049b3c",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/testing-patches",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Distribute patches to groups of users via Tracks",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Distribute patches to groups of users via Tracks",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Distribute patches to groups of users via Tracks"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/ci/github/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">GitHub Integration</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n\n<p>The <a href=\"https://github.com/shorebirdtech/setup-shorebird\">Setup Shorebird</a> GitHub Action allows you to integrate Shorebird into your existing GitHub Workflows.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/github/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>✅ Shorebird CLI is installed on your machine</p>\n<p>✅ You are logged into a Shorebird account.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"quick-start\">Quick Start</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/github/#quick-start\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To integrate Shorebird into your CI, use the <code dir=\"auto\">setup-shorebird</code> action. The <code dir=\"auto\">setup-shorebird</code> action downloads Shorebird and adds it to the system path.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Workflow Example</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#005CC5\">on</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">workflow_dispatch</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">jobs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">example</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">defaults</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">shell</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">bash</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ubuntu-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Use the setup-shorebird action to configure Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#74A061;--1:#616972\"># Optionally cache your Shorebird installation</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Now we're able to use Shorebird CLI in our workflow</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🚀 Use Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebird --version</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: Shorebird Workflow Exampleon:  workflow_dispatch:jobs:  example:    defaults:      run:        shell: bash    runs-on: ubuntu-latest    steps:      # Use the setup-shorebird action to configure Shorebird      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true # Optionally cache your Shorebird installation      # Now we're able to use Shorebird CLI in our workflow      - name: 🚀 Use Shorebird        run: shorebird --version\"><div></div></button></div></figure></div>\n<p>In the above workflow, we’re using the <code dir=\"auto\">setup-shorebird</code> action to configure Shorebird in our CI and in subsequent steps we can execute any Shorebird commands.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"authentication\">Authentication</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/github/#authentication\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Most Shorebird functionality, like creating releases and patches, requires being\nauthenticated. In order to authenticate with Shorebird in CI, you will need to\ngenerate a CI token.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">login:ci</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird login:ci\"><div></div></button></div></figure></div>\n<p>You will be prompted to go through a similar OAuth Flow as when using <code dir=\"auto\">shorebird login</code>, however, <code dir=\"auto\">shorebird login:ci</code> will not store any credentials on your\ndevice. Instead, it will output a base-64 encoded auth token that you will use\nin your CI environment.</p>\n<p>The output of this command should look something like:</p>\n\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird login:ci</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">The Shorebird CLI needs your authorization to manage apps, releases, and patches on your behalf.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">In a browser, visit this URL to log in:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">https://accounts.google.com/o/oauth2/v2/auth...</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Waiting for your authorization...</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🎉 Success! Use the following token to login on a CI server:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">qwerasdf1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqw==</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Example:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">export SHOREBIRD_TOKEN=\"$SHOREBIRD_TOKEN\" &amp;&amp; shorebird patch android</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird login:ciThe Shorebird CLI needs your authorization to manage apps, releases, and patches on your behalf.In a browser, visit this URL to log in:https://accounts.google.com/o/oauth2/v2/auth...Waiting for your authorization...🎉 Success! Use the following token to login on a CI server:qwerasdf1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqw==Example:export SHOREBIRD_TOKEN=&quot;$SHOREBIRD_TOKEN&quot; &amp;&amp; shorebird patch android\"><div></div></button></div></figure></div>\n\n\n<p>Next, copy the generated <code dir=\"auto\">SHOREBIRD_TOKEN</code> and navigate to your GitHub repository secrets via:</p>\n<p><code dir=\"auto\">\"Settings\" -&gt; \"Secrets and variables\" -&gt; \"Actions\"</code>.</p>\n<p>Then, click <code dir=\"auto\">\"New repository secret\"</code> and paste your <code dir=\"auto\">SHOREBIRD_TOKEN</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">name: SHOREBIRD_TOKEN</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">secret: &lt;THE GENERATED SHOREBIRD_TOKEN&gt;</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: SHOREBIRD_TOKENsecret: <THE GENERATED SHOREBIRD_TOKEN>\"><div></div></button></div></figure></div>\n<p>Now we can use the <code dir=\"auto\">SHOREBIRD_TOKEN</code> in our GitHub workflow to perform authenticated functions such as creating patches 🎉</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-releases\">Create Releases</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/github/#create-releases\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The simplest way to create a release is using the official Shorebird GitHub Actions:</p>\n<ul>\n<li><a href=\"https://github.com/marketplace/actions/setup-shorebird\">Setup Shorebird GitHub Action</a>.</li>\n<li><a href=\"https://github.com/marketplace/actions/shorebird-release\">Shorebird Release GitHub Action</a>.</li>\n</ul>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#005CC5\">on</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">workflow_dispatch</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">SHOREBIRD_TOKEN</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.SHOREBIRD_TOKEN }}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">jobs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">defaults</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">shell</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">bash</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ubuntu-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v3</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Set up Java</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/setup-java@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">distribution</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">'temurin'</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">java-version</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">'17'</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🚀 Shorebird Release</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/shorebird-release@v0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">platform</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#74A061;--1:#616972\"># or 'ios'</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: Shorebird Releaseon:  workflow_dispatch:env:  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}jobs:  release:    defaults:      run:        shell: bash    runs-on: ubuntu-latest    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v3      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true      - name: Set up Java        uses: actions/setup-java@v4        with:          distribution: 'temurin'          java-version: '17'      - name: 🚀 Shorebird Release        uses: shorebirdtech/shorebird-release@v0        with:          platform: android # or 'ios'\"><div></div></button></div></figure></div>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-patches\">Create Patches</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/ci/github/#create-patches\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#005CC5\">on</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">workflow_dispatch</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">env</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">SHOREBIRD_TOKEN</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">${{ secrets.SHOREBIRD_TOKEN }}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">jobs</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">defaults</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#569CD6;--1:#1E7734\">run</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">shell</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">bash</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">runs-on</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ubuntu-latest</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#569CD6;--1:#1E7734\">steps</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">📚 Git Checkout</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/checkout@v3</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🐦 Setup Shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/setup-shorebird@v1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">cache</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">Set up Java</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">actions/setup-java@v4</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">distribution</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">'temurin'</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">java-version</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">'17'</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># Note: all signing information (key.properties, etc.) must be set up on</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\"># this runner for `shorebird patch android` to work.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">- </span><span style=\"--0:#569CD6;--1:#1E7734\">name</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">🚀 Shorebird Patch</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">uses</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">shorebirdtech/shorebird-patch@v0</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">        </span><span style=\"--0:#569CD6;--1:#1E7734\">with</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">          </span><span style=\"--0:#569CD6;--1:#1E7734\">platform</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#74A061;--1:#616972\"># or 'ios'</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: Shorebird Patchon:  workflow_dispatch:env:  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}jobs:  patch:    defaults:      run:        shell: bash    runs-on: ubuntu-latest    steps:      - name: 📚 Git Checkout        uses: actions/checkout@v3      - name: 🐦 Setup Shorebird        uses: shorebirdtech/setup-shorebird@v1        with:          cache: true      - name: Set up Java        uses: actions/setup-java@v4        with:          distribution: 'temurin'          java-version: '17'      # Note: all signing information (key.properties, etc.) must be set up on      # this runner for `shorebird patch android` to work.      - name: 🚀 Shorebird Patch        uses: shorebirdtech/shorebird-patch@v0        with:          platform: android # or 'ios'\"><div></div></button></div></figure></div>\n\n<p>For an example of a fully automated development workflow, see our <a href=\"https://docs.shorebird.dev/guides/development-workflow\">Development Workflow Guide</a>.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/ci/github/#_top",
      "https://github.com/shorebirdtech/setup-shorebird",
      "https://docs.shorebird.dev/ci/github/#prerequisites",
      "https://docs.shorebird.dev/ci/github/#quick-start",
      "https://docs.shorebird.dev/ci/github/#authentication",
      "https://docs.shorebird.dev/ci/github/#create-releases",
      "https://github.com/marketplace/actions/setup-shorebird",
      "https://github.com/marketplace/actions/shorebird-release",
      "https://docs.shorebird.dev/ci/github/#create-patches",
      "https://docs.shorebird.dev/guides/development-workflow"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/ci/github/#_top)\n\n# GitHub Integration\n\nThe [Setup Shorebird](https://github.com/shorebirdtech/setup-shorebird) GitHub Action allows you to integrate Shorebird into your existing GitHub Workflows.\n\n## Prerequisites\n\n✅ Shorebird CLI is installed on your machine\n\n✅ You are logged into a Shorebird account.\n\n## Quick Start\n\nTo integrate Shorebird into your CI, use the `setup-shorebird` action. The `setup-shorebird` action downloads Shorebird and adds it to the system path.\n\n```\n\nname: Shorebird Workflow Example\n\non:\n\n  workflow_dispatch:\n\njobs:\n\n  example:\n\n    defaults:\n\n      run:\n\n        shell: bash\n\n    runs-on: ubuntu-latest\n\n    steps:\n\n      # Use the setup-shorebird action to configure Shorebird\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true # Optionally cache your Shorebird installation\n\n      # Now we're able to use Shorebird CLI in our workflow\n\n      - name: 🚀 Use Shorebird\n\n        run: shorebird --version\n```\n\nIn the above workflow, we’re using the `setup-shorebird` action to configure Shorebird in our CI and in subsequent steps we can execute any Shorebird commands.\n\n## Authentication\n\nMost Shorebird functionality, like creating releases and patches, requires being\nauthenticated. In order to authenticate with Shorebird in CI, you will need to\ngenerate a CI token.\n\n```\n\nshorebird login:ci\n```\n\nYou will be prompted to go through a similar OAuth Flow as when using `shorebird login`, however, `shorebird login:ci` will not store any credentials on your\ndevice. Instead, it will output a base-64 encoded auth token that you will use\nin your CI environment.\n\nThe output of this command should look something like:\n\n```\n\n$ shorebird login:ci\n\nThe Shorebird CLI needs your authorization to manage apps, releases, and patches on your behalf.\n\nIn a browser, visit this URL to log in:\n\nhttps://accounts.google.com/o/oauth2/v2/auth...\n\nWaiting for your authorization...\n\n🎉 Success! Use the following token to login on a CI server:\n\nqwerasdf1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqwer1234asdfqw==\n\nExample:\n\nexport SHOREBIRD_TOKEN=\"$SHOREBIRD_TOKEN\" && shorebird patch android\n```\n\nNext, copy the generated `SHOREBIRD_TOKEN` and navigate to your GitHub repository secrets via:\n\n`\"Settings\" -> \"Secrets and variables\" -> \"Actions\"`.\n\nThen, click `\"New repository secret\"` and paste your `SHOREBIRD_TOKEN`:\n\n```\n\nname: SHOREBIRD_TOKEN\n\nsecret: <THE GENERATED SHOREBIRD_TOKEN>\n```\n\nNow we can use the `SHOREBIRD_TOKEN` in our GitHub workflow to perform authenticated functions such as creating patches 🎉\n\n## Create Releases\n\nThe simplest way to create a release is using the official Shorebird GitHub Actions:\n\n- [Setup Shorebird GitHub Action](https://github.com/marketplace/actions/setup-shorebird).\n- [Shorebird Release GitHub Action](https://github.com/marketplace/actions/shorebird-release).\n\n```\n\nname: Shorebird Release\n\non:\n\n  workflow_dispatch:\n\nenv:\n\n  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}\n\njobs:\n\n  release:\n\n    defaults:\n\n      run:\n\n        shell: bash\n\n    runs-on: ubuntu-latest\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v3\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true\n\n      - name: Set up Java\n\n        uses: actions/setup-java@v4\n\n        with:\n\n          distribution: 'temurin'\n\n          java-version: '17'\n\n      - name: 🚀 Shorebird Release\n\n        uses: shorebirdtech/shorebird-release@v0\n\n        with:\n\n          platform: android # or 'ios'\n```\n\n## Create Patches\n\n```\n\nname: Shorebird Patch\n\non:\n\n  workflow_dispatch:\n\nenv:\n\n  SHOREBIRD_TOKEN: ${{ secrets.SHOREBIRD_TOKEN }}\n\njobs:\n\n  patch:\n\n    defaults:\n\n      run:\n\n        shell: bash\n\n    runs-on: ubuntu-latest\n\n    steps:\n\n      - name: 📚 Git Checkout\n\n        uses: actions/checkout@v3\n\n      - name: 🐦 Setup Shorebird\n\n        uses: shorebirdtech/setup-shorebird@v1\n\n        with:\n\n          cache: true\n\n      - name: Set up Java\n\n        uses: actions/setup-java@v4\n\n        with:\n\n          distribution: 'temurin'\n\n          java-version: '17'\n\n      # Note: all signing information (key.properties, etc.) must be set up on\n\n      # this runner for `shorebird patch android` to work.\n\n      - name: 🚀 Shorebird Patch\n\n        uses: shorebirdtech/shorebird-patch@v0\n\n        with:\n\n          platform: android # or 'ios'\n```\n\nFor an example of a fully automated development workflow, see our [Development Workflow Guide](https://docs.shorebird.dev/guides/development-workflow).",
    "metadata": {
      "url": "https://docs.shorebird.dev/ci/github/",
      "ogUrl": "https://docs.shorebird.dev/ci/github/",
      "title": "GitHub Integration | Shorebird",
      "og:url": "https://docs.shorebird.dev/ci/github/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "GitHub Integration",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "GitHub Integration",
      "ogLocale": "en",
      "scrapeId": "c98a0132-2797-46c4-b09c-38d37814a268",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/ci/github/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Integrate Shorebird into your GitHub workflow",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Integrate Shorebird into your GitHub workflow",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Integrate Shorebird into your GitHub workflow"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/submitting/play-store/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Releasing to the Google Play Store</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide walks through releasing a code push app to the Google Play Store and applying a patch to that release.</p>\n<p>The app we will be releasing in this guide is <a href=\"https://play.google.com/store/apps/details?id=dev.shorebird.u_shorebird_clock\"><code dir=\"auto\">Time Shift</code></a>, our demo code push app. (<a href=\"https://github.com/shorebirdtech/time_shift/\">source</a>)</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes that you have an existing Shorebird app. If you don’t have one, you can create one by following the <a href=\"https://docs.shorebird.dev/\">code push quickstart</a> guide.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-release\">Creating a release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#creating-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"determine-next-release-version\">Determine next release version</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#determine-next-release-version\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Navigate to your app on the <a href=\"https://console.shorebird.dev/\">Shorebird console</a>\nto see the current set of releases. For our app, we see that the latest release\nversion is <code dir=\"auto\">1.0.2+5</code>, so the version of our next release will be <code dir=\"auto\">1.0.3+6</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"make-code-changes\">Make code changes</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#make-code-changes\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Version <code dir=\"auto\">1.0.3+6</code> of Time Shift will change the default clock face from <code dir=\"auto\">particle</code> to <code dir=\"auto\">generative</code>.</p>\n<p>To make this change, edit <code dir=\"auto\">lib/main.dart</code>:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">final clock = ClockFace.values.firstWhere(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">(clock) =&gt; clock.name == clockName,</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">orElse: () =&gt; ClockFace.particle,</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">orElse: () =&gt; ClockFace.generative,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"final clock = ClockFace.values.firstWhere(  (clock) => clock.name == clockName,  orElse: () => ClockFace.particle,  orElse: () => ClockFace.generative,);\"><div></div></button></div></figure></div>\n<p>Verify that this change does what we expect by running the app with <code dir=\"auto\">shorebird run</code>.</p>\n<p>Once this change has been verified, commit this change and push it to GitHub:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">add</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">lib/main.dart</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">commit</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-m</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"Change default clock face to generative\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add lib/main.dartgit commit -m &quot;Change default clock face to generative&quot;git push\"><div></div></button></div></figure></div>\n<p><a href=\"https://github.com/shorebirdtech/time_shift/commit/d1fe9451aa18a775163bce95dd9dab551aaf6259\">On GitHub</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"update-app-version\">Update app version</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#update-app-version\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, bump the app version in <code dir=\"auto\">pubspec.yaml</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">name: time_shift</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">description: Demo app showing Shorebird updates.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">publish_to: \"none\"</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">version: 1.0.2+5</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">version: 1.0.3+6</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">environment:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">sdk: \"&gt;=2.19.4 &lt;3.0.0\"</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: time_shiftdescription: Demo app showing Shorebird updates.publish_to: &quot;none&quot;version: 1.0.2+5version: 1.0.3+6environment:  sdk: &quot;>=2.19.4 <3.0.0&quot;\"><div></div></button></div></figure></div>\n<p>Commit, tag, and push the change.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">add</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">pubspec.yaml</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">commit</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-m</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"Update app version to 1.0.3+6\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">tag</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#74A061;--1:#616972\"># Push the commit</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--tags</span><span style=\"--0:#D4D4D4;--1:#24292E\">  </span><span style=\"--0:#74A061;--1:#616972\"># Push the tag</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add pubspec.yamlgit commit -m &quot;Update app version to 1.0.3+6&quot;git tag v1.0.3+6git push # Push the commitgit push --tags  # Push the tag\"><div></div></button></div></figure></div>\n<p><a href=\"https://github.com/shorebirdtech/time_shift/commit/3b25df1888c170c2418162ba64a9a5e6363c09af\">On GitHub</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-shorebird-release\">Create a Shorebird release</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#create-a-shorebird-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To create a Shorebird release, run <code dir=\"auto\">shorebird release android</code>. You should see output similar to the following:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird release android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building release (17.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting release version (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to create a new release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: time_shift (51751336-6a7c-4972-b4ec-8fc1591fb2b3)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.3+6</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️ Platform: android (arm64, arm32, x86_64)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (70ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (22ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating release (61ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating artifacts (2.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Your next step is to upload the app bundle to the Play Store.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">./build/app/outputs/bundle/release/app-release.aab</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">See the following link for more information:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">https://support.google.com/googleplay/android-developer/answer/9859152?hl=en</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird release android✓ Building release (17.0s)✓ Fetching apps (0.3s)✓ Detecting release version (0.2s)🚀 Ready to create a new release!📱 App: time_shift (51751336-6a7c-4972-b4ec-8fc1591fb2b3)📦 Release Version: 1.0.3+6🕹️ Platform: android (arm64, arm32, x86_64)Would you like to continue? (y/N) Yes✓ Fetching releases (70ms)✓ Fetching Flutter revision (22ms)✓ Creating release (61ms)✓ Creating artifacts (2.5s)✅ Published Release!Your next step is to upload the app bundle to the Play Store../build/app/outputs/bundle/release/app-release.aabSee the following link for more information:https://support.google.com/googleplay/android-developer/answer/9859152?hl=en\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"upload-to-the-play-store\">Upload to the Play Store</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#upload-to-the-play-store\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>As per the instructions above, we must upload the generated <code dir=\"auto\">.aab</code> to the Play Store.</p>\n<ol>\n<li>Navigate to the <a href=\"https://play.google.com/console/developers\">Play Console</a>.</li>\n<li>Choose your developer account (for us, it’s Shorebird.dev).</li>\n<li>Select the Time Shift app.</li>\n<li>Select “Testing -&gt; Open Testing” from the side bar.</li>\n<li>Click the “Create new release” button.</li>\n</ol>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/90c9c7ed-bc39-4731-bfec-524f89e2baf6\" alt=\"CreateNewRelease\"></p>\n<p>Upload the <code dir=\"auto\">.aab</code> file located at <code dir=\"auto\">./build/app/outputs/bundle/release/app-release.aab</code>.</p>\n<ol>\n<li>From the root directory of the project, run <code dir=\"auto\">open ./build/app/outputs/bundle/release/</code> to open the folder containing the <code dir=\"auto\">.aab</code> in Finder.</li>\n<li>Drag <code dir=\"auto\">app-release.aab</code> into the Play Console to upload.</li>\n</ol>\n<p>Once the upload completes, the Play Store will correctly recognize the new version as <code dir=\"auto\">6 (1.0.3)</code>.</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/1994cb5a-4cd6-4f1b-a88c-f5aaa3d1433d\" alt=\"UploadedBundle\"></p>\n<p>Click “Next” and then “Save” (both in the bottom-right corner) to submit.</p>\n<p>This will take you to the publishing overview page. Click “Submit for review” to submit the release for review.</p>\n<p>You should now see a release in the Play Store console with an “In review” status:</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/4cfdc7fb-2049-4110-b1cd-da99c7a491f7\" alt=\"InReview\"></p>\n<p>Now you must wait for the Play Store to approve the release.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-github-release\">Create a GitHub release</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#create-a-github-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>It’s recommended to create a GitHub release as well.</p>\n<ol>\n<li>Navigate to <a href=\"https://github.com/shorebirdtech/time_shift/releases\">https://github.com/shorebirdtech/time_shift/releases</a>.</li>\n<li>Click “Draft a new release”.</li>\n<li>Choose the tag we created earlier (<code dir=\"auto\">v1.0.3+6</code>).</li>\n<li>Title the release “v1.0.3+6”.</li>\n<li>Add a description of the release (“Changes the default clock face to ‘generative’”).</li>\n<li>Publish the release.</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"after-the-release-is-approved\">After the release is approved</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#after-the-release-is-approved\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Once the release has been approved, you will be able to download it from the Play Store.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-patch\">Creating a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#creating-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patches can be pushed to fix bugs in the <code dir=\"auto\">1.0.3+6</code> release without requiring a new submission to the Play Store.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"make-the-change\">Make the change</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#make-the-change\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Start by checking out the <code dir=\"auto\">v1.0.3+6</code> release tag:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">checkout</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git checkout v1.0.3+6\"><div></div></button></div></figure></div>\n<p>Next, create a branch, as this change will represent a divergence from the <code dir=\"auto\">main</code> branch:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">checkout</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-b</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6-patch1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git checkout -b v1.0.3+6-patch1\"><div></div></button></div></figure></div>\n<p>For the purposes of this guide, we will change the default clock face back to <code dir=\"auto\">particle</code> in <code dir=\"auto\">lib/main.dart</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">(clock) =&gt; clock.name == clockName,</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">orElse: () =&gt; ClockFace.generative,</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">orElse: () =&gt; ClockFace.particle,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  (clock) => clock.name == clockName,  orElse: () => ClockFace.generative,  orElse: () => ClockFace.particle,);\"><div></div></button></div></figure></div>\n<p>Commit the change and push our new patch branch:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">add</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">lib/main.dart</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">commit</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-m</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">\"Change default clock face to particle\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--set-upstream</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">origin</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6-patch1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add lib/main.dartgit commit -m &quot;Change default clock face to particle&quot;git push --set-upstream origin v1.0.3+6-patch1\"><div></div></button></div></figure></div>\n<p>Tag this commit as <code dir=\"auto\">v1.0.3+6-patch1</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">tag</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6-patch1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--tags</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git tag v1.0.3+6-patch1git push --tags\"><div></div></button></div></figure></div>\n<p><a href=\"https://github.com/shorebirdtech/time_shift/commit/cf4054bada74ff1c5ff84fb9aceb3f1e4442203f\">On GitHub</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-shorebird-patch\">Create a Shorebird patch</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#create-a-shorebird-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Finally, push the patch with <code dir=\"auto\">shorebird patch android</code>. You should see output similar to the following:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird patch android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building patch (17.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.7s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting release version (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching release (99ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (13ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching release artifacts (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Downloading release artifacts (1.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating artifacts (1.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to publish a new patch!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: time_shift (51751336-6a7c-4972-b4ec-8fc1591fb2b3)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.3+6</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📺 Channel: stable</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️  Platform: android [arm64 (135 B), arm32 (150 B), x86_64 (135 B)]</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating patch (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Uploading artifacts (0.9s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching channels (90ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Promoting patch to stable (61ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Patch!</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird patch android✓ Building patch (17.2s)✓ Fetching apps (0.7s)✓ Detecting release version (0.2s)✓ Fetching release (99ms)✓ Fetching Flutter revision (13ms)✓ Fetching release artifacts (0.2s)✓ Downloading release artifacts (1.0s)✓ Creating artifacts (1.0s)🚀 Ready to publish a new patch!📱 App: time_shift (51751336-6a7c-4972-b4ec-8fc1591fb2b3)📦 Release Version: 1.0.3+6📺 Channel: stable🕹️  Platform: android [arm64 (135 B), arm32 (150 B), x86_64 (135 B)]Would you like to continue? (y/N) Yes✓ Creating patch (0.1s)✓ Uploading artifacts (0.9s)✓ Fetching channels (90ms)✓ Promoting patch to stable (61ms)✅ Published Patch!\"><div></div></button></div></figure></div>\n<p>This patch will now be available to users with version <code dir=\"auto\">1.0.3+6</code> of the app.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"cleanup\">Cleanup</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/play-store/#cleanup\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Delete the branch to keep the repository tidy:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">checkout</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">main</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">branch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-D</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6-patch1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">push</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">origin</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--delete</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">v1.0.3+6-patch1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git checkout maingit branch -D v1.0.3+6-patch1git push origin --delete v1.0.3+6-patch1\"><div></div></button></div></figure></div>\n  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/submitting/play-store/#_top",
      "https://play.google.com/store/apps/details?id=dev.shorebird.u_shorebird_clock",
      "https://github.com/shorebirdtech/time_shift/",
      "https://docs.shorebird.dev/guides/submitting/play-store/#prerequisites",
      "https://docs.shorebird.dev/",
      "https://docs.shorebird.dev/guides/submitting/play-store/#creating-a-release",
      "https://docs.shorebird.dev/guides/submitting/play-store/#determine-next-release-version",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/guides/submitting/play-store/#make-code-changes",
      "https://github.com/shorebirdtech/time_shift/commit/d1fe9451aa18a775163bce95dd9dab551aaf6259",
      "https://docs.shorebird.dev/guides/submitting/play-store/#update-app-version",
      "https://github.com/shorebirdtech/time_shift/commit/3b25df1888c170c2418162ba64a9a5e6363c09af",
      "https://docs.shorebird.dev/guides/submitting/play-store/#create-a-shorebird-release",
      "https://docs.shorebird.dev/guides/submitting/play-store/#upload-to-the-play-store",
      "https://play.google.com/console/developers",
      "https://docs.shorebird.dev/guides/submitting/play-store/#create-a-github-release",
      "https://github.com/shorebirdtech/time_shift/releases",
      "https://docs.shorebird.dev/guides/submitting/play-store/#after-the-release-is-approved",
      "https://docs.shorebird.dev/guides/submitting/play-store/#creating-a-patch",
      "https://docs.shorebird.dev/guides/submitting/play-store/#make-the-change",
      "https://github.com/shorebirdtech/time_shift/commit/cf4054bada74ff1c5ff84fb9aceb3f1e4442203f",
      "https://docs.shorebird.dev/guides/submitting/play-store/#create-a-shorebird-patch",
      "https://docs.shorebird.dev/guides/submitting/play-store/#cleanup"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/submitting/play-store/#_top)\n\n# Releasing to the Google Play Store\n\nThis guide walks through releasing a code push app to the Google Play Store and applying a patch to that release.\n\nThe app we will be releasing in this guide is [`Time Shift`](https://play.google.com/store/apps/details?id=dev.shorebird.u_shorebird_clock), our demo code push app. ( [source](https://github.com/shorebirdtech/time_shift/))\n\n## Prerequisites\n\nThis guide assumes that you have an existing Shorebird app. If you don’t have one, you can create one by following the [code push quickstart](https://docs.shorebird.dev/) guide.\n\n## Creating a release\n\n### Determine next release version\n\nNavigate to your app on the [Shorebird console](https://console.shorebird.dev/)\nto see the current set of releases. For our app, we see that the latest release\nversion is `1.0.2+5`, so the version of our next release will be `1.0.3+6`.\n\n### Make code changes\n\nVersion `1.0.3+6` of Time Shift will change the default clock face from `particle` to `generative`.\n\nTo make this change, edit `lib/main.dart`:\n\n```\n\nfinal clock = ClockFace.values.firstWhere(\n\n  (clock) => clock.name == clockName,\n\n  orElse: () => ClockFace.particle,\n\n  orElse: () => ClockFace.generative,\n\n);\n```\n\nVerify that this change does what we expect by running the app with `shorebird run`.\n\nOnce this change has been verified, commit this change and push it to GitHub:\n\n```\n\ngit add lib/main.dart\n\ngit commit -m \"Change default clock face to generative\"\n\ngit push\n```\n\n[On GitHub](https://github.com/shorebirdtech/time_shift/commit/d1fe9451aa18a775163bce95dd9dab551aaf6259)\n\n### Update app version\n\nNext, bump the app version in `pubspec.yaml`:\n\n```\n\nname: time_shift\n\ndescription: Demo app showing Shorebird updates.\n\npublish_to: \"none\"\n\nversion: 1.0.2+5\n\nversion: 1.0.3+6\n\nenvironment:\n\n  sdk: \">=2.19.4 <3.0.0\"\n```\n\nCommit, tag, and push the change.\n\n```\n\ngit add pubspec.yaml\n\ngit commit -m \"Update app version to 1.0.3+6\"\n\ngit tag v1.0.3+6\n\ngit push # Push the commit\n\ngit push --tags  # Push the tag\n```\n\n[On GitHub](https://github.com/shorebirdtech/time_shift/commit/3b25df1888c170c2418162ba64a9a5e6363c09af)\n\n### Create a Shorebird release\n\nTo create a Shorebird release, run `shorebird release android`. You should see output similar to the following:\n\n```\n\n$ shorebird release android\n\n✓ Building release (17.0s)\n\n✓ Fetching apps (0.3s)\n\n✓ Detecting release version (0.2s)\n\n🚀 Ready to create a new release!\n\n📱 App: time_shift (51751336-6a7c-4972-b4ec-8fc1591fb2b3)\n\n📦 Release Version: 1.0.3+6\n\n🕹️ Platform: android (arm64, arm32, x86_64)\n\nWould you like to continue? (y/N) Yes\n\n✓ Fetching releases (70ms)\n\n✓ Fetching Flutter revision (22ms)\n\n✓ Creating release (61ms)\n\n✓ Creating artifacts (2.5s)\n\n✅ Published Release!\n\nYour next step is to upload the app bundle to the Play Store.\n\n./build/app/outputs/bundle/release/app-release.aab\n\nSee the following link for more information:\n\nhttps://support.google.com/googleplay/android-developer/answer/9859152?hl=en\n```\n\n### Upload to the Play Store\n\nAs per the instructions above, we must upload the generated `.aab` to the Play Store.\n\n1. Navigate to the [Play Console](https://play.google.com/console/developers).\n2. Choose your developer account (for us, it’s Shorebird.dev).\n3. Select the Time Shift app.\n4. Select “Testing -> Open Testing” from the side bar.\n5. Click the “Create new release” button.\n\n![CreateNewRelease](https://github.com/shorebirdtech/docs/assets/581764/90c9c7ed-bc39-4731-bfec-524f89e2baf6)\n\nUpload the `.aab` file located at `./build/app/outputs/bundle/release/app-release.aab`.\n\n1. From the root directory of the project, run `open ./build/app/outputs/bundle/release/` to open the folder containing the `.aab` in Finder.\n2. Drag `app-release.aab` into the Play Console to upload.\n\nOnce the upload completes, the Play Store will correctly recognize the new version as `6 (1.0.3)`.\n\n![UploadedBundle](https://github.com/shorebirdtech/docs/assets/581764/1994cb5a-4cd6-4f1b-a88c-f5aaa3d1433d)\n\nClick “Next” and then “Save” (both in the bottom-right corner) to submit.\n\nThis will take you to the publishing overview page. Click “Submit for review” to submit the release for review.\n\nYou should now see a release in the Play Store console with an “In review” status:\n\n![InReview](https://github.com/shorebirdtech/docs/assets/581764/4cfdc7fb-2049-4110-b1cd-da99c7a491f7)\n\nNow you must wait for the Play Store to approve the release.\n\n### Create a GitHub release\n\nIt’s recommended to create a GitHub release as well.\n\n1. Navigate to [https://github.com/shorebirdtech/time\\_shift/releases](https://github.com/shorebirdtech/time_shift/releases).\n2. Click “Draft a new release”.\n3. Choose the tag we created earlier ( `v1.0.3+6`).\n4. Title the release “v1.0.3+6”.\n5. Add a description of the release (“Changes the default clock face to ‘generative’”).\n6. Publish the release.\n\n## After the release is approved\n\nOnce the release has been approved, you will be able to download it from the Play Store.\n\n## Creating a patch\n\nPatches can be pushed to fix bugs in the `1.0.3+6` release without requiring a new submission to the Play Store.\n\n### Make the change\n\nStart by checking out the `v1.0.3+6` release tag:\n\n```\n\ngit checkout v1.0.3+6\n```\n\nNext, create a branch, as this change will represent a divergence from the `main` branch:\n\n```\n\ngit checkout -b v1.0.3+6-patch1\n```\n\nFor the purposes of this guide, we will change the default clock face back to `particle` in `lib/main.dart`:\n\n```\n\n  (clock) => clock.name == clockName,\n\n  orElse: () => ClockFace.generative,\n\n  orElse: () => ClockFace.particle,\n\n);\n```\n\nCommit the change and push our new patch branch:\n\n```\n\ngit add lib/main.dart\n\ngit commit -m \"Change default clock face to particle\"\n\ngit push --set-upstream origin v1.0.3+6-patch1\n```\n\nTag this commit as `v1.0.3+6-patch1`:\n\n```\n\ngit tag v1.0.3+6-patch1\n\ngit push --tags\n```\n\n[On GitHub](https://github.com/shorebirdtech/time_shift/commit/cf4054bada74ff1c5ff84fb9aceb3f1e4442203f)\n\n### Create a Shorebird patch\n\nFinally, push the patch with `shorebird patch android`. You should see output similar to the following:\n\n```\n\n$ shorebird patch android\n\n✓ Building patch (17.2s)\n\n✓ Fetching apps (0.7s)\n\n✓ Detecting release version (0.2s)\n\n✓ Fetching release (99ms)\n\n✓ Fetching Flutter revision (13ms)\n\n✓ Fetching release artifacts (0.2s)\n\n✓ Downloading release artifacts (1.0s)\n\n✓ Creating artifacts (1.0s)\n\n🚀 Ready to publish a new patch!\n\n📱 App: time_shift (51751336-6a7c-4972-b4ec-8fc1591fb2b3)\n\n📦 Release Version: 1.0.3+6\n\n📺 Channel: stable\n\n🕹️  Platform: android [arm64 (135 B), arm32 (150 B), x86_64 (135 B)]\n\nWould you like to continue? (y/N) Yes\n\n✓ Creating patch (0.1s)\n\n✓ Uploading artifacts (0.9s)\n\n✓ Fetching channels (90ms)\n\n✓ Promoting patch to stable (61ms)\n\n✅ Published Patch!\n```\n\nThis patch will now be available to users with version `1.0.3+6` of the app.\n\n### Cleanup\n\nDelete the branch to keep the repository tidy:\n\n```\n\ngit checkout main\n\ngit branch -D v1.0.3+6-patch1\n\ngit push origin --delete v1.0.3+6-patch1\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/submitting/play-store/",
      "ogUrl": "https://docs.shorebird.dev/guides/submitting/play-store/",
      "title": "Releasing to the Google Play Store | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/submitting/play-store/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Releasing to the Google Play Store",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Releasing to the Google Play Store",
      "ogLocale": "en",
      "scrapeId": "8d802adf-81df-4eed-85f7-9fd6b4fd847c",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/submitting/play-store/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Release a Code Push App to the Google Play Store",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Release a Code Push App to the Google Play Store",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Release a Code Push App to the Google Play Store"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/update-strategies/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Update Strategies</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"automatic-default\">Automatic (Default)</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/update-strategies/#automatic-default\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>By default, Shorebird checks for and installs new patches in the background on\nlaunch. It does this via a background thread to ensure that it does not affect\nthe launch speed of your application. Patches installed via Shorebird are then\navailable on next launch of the app.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"manual\">Manual</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/update-strategies/#manual\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird also provides you with the ability to control when patches are\napplied. You may want finer-grained control over updates to:</p>\n<ul>\n<li>Control rollout of patches (to only update some accounts at a time to reduce\nyour server load or reduce rollout risk, for example).</li>\n<li>Require users to update to the latest version before they can use the app (see\nnote below).</li>\n</ul>\n<p>To manually manage updates, you can use the\n<a href=\"https://pub.dev/packages/shorebird_code_push\"><code dir=\"auto\">package:shorebird_code_push</code></a>,\nwhich enables programmatic control over when the Shorebird updater checks for\nand downloads patches. See the package documentation for more information and\nusage examples.</p>\n<p>You will also want to disable the default automatic update behavior by adding\nthis line to your <code dir=\"auto\">shorebird.yaml</code> file:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">auto_update</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#569CD6;--1:#005CC5\">false</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"auto_update: false\"><div></div></button></div></figure></div>\n<p>Disabling automatic updates is not required to use <code dir=\"auto\">shorebird_code_push</code>, but\nShorebird will automatically download and apply updates if your shorebird.yaml\nfile does not contain <code dir=\"auto\">auto_update: false</code>.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"triggering-updates-via-notification\">Triggering updates via notification</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/update-strategies/#triggering-updates-via-notification\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>It is possible to trigger updates via push notifications.</p>\n<p>Shorebird does not provide its own notification service, but it’s possible to\nuse others, such as <a href=\"https://firebase.google.com/docs/cloud-messaging\">Firebase Cloud Messaging\n(FCM)</a> to send a notification\nto your app, and then use that notification to trigger an update. Because these\nservices typically allow you to target specific devices, you could use this to\ntrigger updates for specific users.</p>\n<p>Because any notification service which uses Dart (e.g. FCM) will also trigger\nthe launch of the Flutter engine when the notification is delivered, the app\nwill update if it is not already running.</p>\n<p>If you are manually managing updates with the <code dir=\"auto\">shorebird_code_push</code> package, you\ncan check for and trigger updates in your notification handler.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"how-should-shorebird-interact-with-other-update-systems-eg-in_app_update\">How should Shorebird interact with other update systems (e.g. <code dir=\"auto\">in_app_update</code>)?</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/update-strategies/#how-should-shorebird-interact-with-other-update-systems-eg-in_app_update\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>For applications that already ensure users are on the latest version (e.g. with\n<code dir=\"auto\">in_app_update</code>, a system on Android whereby the Play Store will automatically\nprompt users to update your app), you will likely want to write some code to\ncoordinate between Shorebird and your existing update system.</p>\n<p><a href=\"https://pub.dev/packages/shorebird_code_push\"><code dir=\"auto\">package:shorebird_code_push</code></a>\ncan help you here. For example, with <code dir=\"auto\">in_app_update</code>, you could use\n<code dir=\"auto\">package:shorebird_code_push</code> to check if the user has already applied the\nnecessary patch and <em>not</em> then prompt them to update.</p>\n<p>Shorebird patches are typically much smaller than full app downloads (a few KB\non Android, a few hundred KB on iOS), so it is likely better for your users if\nyou can use Shorebird to deliver patches instead of <code dir=\"auto\">in_app_update</code>. However,\nthere are <a href=\"https://docs.shorebird.dev/code-push/overview#what-types-of-changes-can-be-included-in-a-patch\">changes which Shorebird cannot make</a>, so\n<code dir=\"auto\">in_app_update</code> may be the best solution in some cases.</p>\n<p>Shorebird “patches” also do not change the version number of your app, so\n<code dir=\"auto\">in_app_update</code> will not see them as a new version. This is by design – patches\nare applied to releases, rather than being new releases themselves. This can\ncomplicate your analytics/reporting code as you will have the case where e.g.\n<code dir=\"auto\">1.0.1+13, patch 1</code> has identical dart code to <code dir=\"auto\">1.0.1+13, no patches</code>. You can\nget the current booted patch number via <code dir=\"auto\">package:shorebird_code_push</code>’s\n[currentPatchNumber]\n(<a href=\"https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/ShorebirdCodePush/currentPatchNumber.html\">https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/ShorebirdCodePush/currentPatchNumber.html</a>)\nmethod.</p>\n<p>Shorebird also currently makes the guarantee that we do not see or store your\ncode. Implementing “push to deploy” may not be possible without source code\naccess, which is not a change we would make lightly.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h1\"><h1 id=\"can-i-update-my-app-without-starting-it-twice\">Can I update my app without starting it twice?</h1><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/update-strategies/#can-i-update-my-app-without-starting-it-twice\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The short answer, is no.</p>\n<p>There are two things required to update an app:</p>\n<ol>\n<li>Shorebird needs to check for an update and download &amp; install the new code.</li>\n<li>The app needs to restart with the new code.</li>\n</ol>\n<p>By default, Shorebird only checks for updates during launch of the app. This is\nwhy during development, if you already have your app running, you might need to\nrestart the app twice (once to download and install the update, once to launch\nfrom the update code).</p>\n<p>Checking for an installing the update can be triggered at any time using\n<code dir=\"auto\">package:shorebird_code_push</code>. By default, Shorebird only triggers an install\ncheck on launch of your app, but it is possible to trigger on other signals as\nappropriate for your application (e.g. by sending a notification), see above.</p>\n<p>While the Dart VM has the ability to hot-restart, most apps use plugins or call\nout to other native code which would not be aware that the Dart portions have\nrestarted and are likely to end up in in a state that could lead to a crash in\nthe native side of the application. We think it might be interesting to explore\na “hot-restart” feature in the future, in cases where the developer can ensure\nthat the native side of the app is in a safe state to be restarted or we can\nprovide a set of plugins that are safe during a hot-restart.</p>\n<p>Shorebird’s default settings are such that the user should never have to think\nabout an update. If they’re regularly using the app, it will just be always\nup-to-date. (Shorebird will detect and install updates when they launch the app\nwhile connected to the internet.) Modern mobile operating systems are very\naggressive about killing background apps, so the app will be restarted from\nscratch fairly often even if it doesn’t appear to the user as a full restart.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/update-strategies/#_top",
      "https://docs.shorebird.dev/update-strategies/#automatic-default",
      "https://docs.shorebird.dev/update-strategies/#manual",
      "https://pub.dev/packages/shorebird_code_push",
      "https://docs.shorebird.dev/update-strategies/#triggering-updates-via-notification",
      "https://firebase.google.com/docs/cloud-messaging",
      "https://docs.shorebird.dev/update-strategies/#how-should-shorebird-interact-with-other-update-systems-eg-in_app_update",
      "https://docs.shorebird.dev/code-push/overview#what-types-of-changes-can-be-included-in-a-patch",
      "https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/ShorebirdCodePush/currentPatchNumber.html",
      "https://docs.shorebird.dev/update-strategies/#can-i-update-my-app-without-starting-it-twice"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/update-strategies/#_top)\n\n# Update Strategies\n\n## Automatic (Default)\n\nBy default, Shorebird checks for and installs new patches in the background on\nlaunch. It does this via a background thread to ensure that it does not affect\nthe launch speed of your application. Patches installed via Shorebird are then\navailable on next launch of the app.\n\n## Manual\n\nShorebird also provides you with the ability to control when patches are\napplied. You may want finer-grained control over updates to:\n\n- Control rollout of patches (to only update some accounts at a time to reduce\nyour server load or reduce rollout risk, for example).\n- Require users to update to the latest version before they can use the app (see\nnote below).\n\nTo manually manage updates, you can use the\n[`package:shorebird_code_push`](https://pub.dev/packages/shorebird_code_push),\nwhich enables programmatic control over when the Shorebird updater checks for\nand downloads patches. See the package documentation for more information and\nusage examples.\n\nYou will also want to disable the default automatic update behavior by adding\nthis line to your `shorebird.yaml` file:\n\n```\n\nauto_update: false\n```\n\nDisabling automatic updates is not required to use `shorebird_code_push`, but\nShorebird will automatically download and apply updates if your shorebird.yaml\nfile does not contain `auto_update: false`.\n\n# Triggering updates via notification\n\nIt is possible to trigger updates via push notifications.\n\nShorebird does not provide its own notification service, but it’s possible to\nuse others, such as [Firebase Cloud Messaging\\\\\n(FCM)](https://firebase.google.com/docs/cloud-messaging) to send a notification\nto your app, and then use that notification to trigger an update. Because these\nservices typically allow you to target specific devices, you could use this to\ntrigger updates for specific users.\n\nBecause any notification service which uses Dart (e.g. FCM) will also trigger\nthe launch of the Flutter engine when the notification is delivered, the app\nwill update if it is not already running.\n\nIf you are manually managing updates with the `shorebird_code_push` package, you\ncan check for and trigger updates in your notification handler.\n\n# How should Shorebird interact with other update systems (e.g. `in_app_update`)?\n\nFor applications that already ensure users are on the latest version (e.g. with\n`in_app_update`, a system on Android whereby the Play Store will automatically\nprompt users to update your app), you will likely want to write some code to\ncoordinate between Shorebird and your existing update system.\n\n[`package:shorebird_code_push`](https://pub.dev/packages/shorebird_code_push)\ncan help you here. For example, with `in_app_update`, you could use\n`package:shorebird_code_push` to check if the user has already applied the\nnecessary patch and _not_ then prompt them to update.\n\nShorebird patches are typically much smaller than full app downloads (a few KB\non Android, a few hundred KB on iOS), so it is likely better for your users if\nyou can use Shorebird to deliver patches instead of `in_app_update`. However,\nthere are [changes which Shorebird cannot make](https://docs.shorebird.dev/code-push/overview#what-types-of-changes-can-be-included-in-a-patch), so\n`in_app_update` may be the best solution in some cases.\n\nShorebird “patches” also do not change the version number of your app, so\n`in_app_update` will not see them as a new version. This is by design – patches\nare applied to releases, rather than being new releases themselves. This can\ncomplicate your analytics/reporting code as you will have the case where e.g.\n`1.0.1+13, patch 1` has identical dart code to `1.0.1+13, no patches`. You can\nget the current booted patch number via `package:shorebird_code_push`’s\n\\[currentPatchNumber\\]\n( [https://pub.dev/documentation/shorebird\\_code\\_push/latest/shorebird\\_code\\_push/ShorebirdCodePush/currentPatchNumber.html](https://pub.dev/documentation/shorebird_code_push/latest/shorebird_code_push/ShorebirdCodePush/currentPatchNumber.html))\nmethod.\n\nShorebird also currently makes the guarantee that we do not see or store your\ncode. Implementing “push to deploy” may not be possible without source code\naccess, which is not a change we would make lightly.\n\n# Can I update my app without starting it twice?\n\nThe short answer, is no.\n\nThere are two things required to update an app:\n\n1. Shorebird needs to check for an update and download & install the new code.\n2. The app needs to restart with the new code.\n\nBy default, Shorebird only checks for updates during launch of the app. This is\nwhy during development, if you already have your app running, you might need to\nrestart the app twice (once to download and install the update, once to launch\nfrom the update code).\n\nChecking for an installing the update can be triggered at any time using\n`package:shorebird_code_push`. By default, Shorebird only triggers an install\ncheck on launch of your app, but it is possible to trigger on other signals as\nappropriate for your application (e.g. by sending a notification), see above.\n\nWhile the Dart VM has the ability to hot-restart, most apps use plugins or call\nout to other native code which would not be aware that the Dart portions have\nrestarted and are likely to end up in in a state that could lead to a crash in\nthe native side of the application. We think it might be interesting to explore\na “hot-restart” feature in the future, in cases where the developer can ensure\nthat the native side of the app is in a safe state to be restarted or we can\nprovide a set of plugins that are safe during a hot-restart.\n\nShorebird’s default settings are such that the user should never have to think\nabout an update. If they’re regularly using the app, it will just be always\nup-to-date. (Shorebird will detect and install updates when they launch the app\nwhile connected to the internet.) Modern mobile operating systems are very\naggressive about killing background apps, so the app will be restarted from\nscratch fairly often even if it doesn’t appear to the user as a full restart.",
    "metadata": {
      "url": "https://docs.shorebird.dev/update-strategies/",
      "ogUrl": "https://docs.shorebird.dev/update-strategies/",
      "title": "Update Strategies | Shorebird",
      "og:url": "https://docs.shorebird.dev/update-strategies/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Update Strategies",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Update Strategies",
      "ogLocale": "en",
      "scrapeId": "44e5d51d-a2e8-4331-991f-ff31d686b588",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/update-strategies",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Ways to use Shorebird to update your app",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Ways to use Shorebird to update your app",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Ways to use Shorebird to update your app"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/flavors/android/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Android Flavors</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide will walk through how to setup an app in which there are 2 deployment flavors: <code dir=\"auto\">internal</code> and <code dir=\"auto\">stable</code>. It will cover how to validate a patch on the internal flavor and then promote the patch to the stable flavor on Android.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes the Shorebird command-line is installed on your machine and that you are logged into an account. Refer to the <a href=\"https://docs.shorebird.dev/\">getting started</a> instructions for more information.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-project\">Create a Project</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#create-a-project\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n\n<p>Create a new project using <code dir=\"auto\">flutter create flavors</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"configure-flavors\">Configure Flavors</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#configure-flavors\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, edit the <code dir=\"auto\">android/app/build.gradle</code> to contain two productFlavors:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">defaultConfig {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">flavorDimensions \"track\"</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">productFlavors {</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">internal {</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">dimension \"track\"</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">applicationIdSuffix \".internal\"</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">manifestPlaceholders = [applicationLabel: \"[Internal] Shorebird Example\"]</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">stable {</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">dimension \"track\"</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">manifestPlaceholders = [applicationLabel: \"Shorebird Example\"]</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">buildTypes {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"defaultConfig {    ...}    flavorDimensions &quot;track&quot;    productFlavors {        internal {            dimension &quot;track&quot;            applicationIdSuffix &quot;.internal&quot;            manifestPlaceholders = [applicationLabel: &quot;[Internal] Shorebird Example&quot;]        }        stable {            dimension &quot;track&quot;            manifestPlaceholders = [applicationLabel: &quot;Shorebird Example&quot;]        }    }buildTypes {  ...}\"><div></div></button></div></figure></div>\n<p>Lastly, edit <code dir=\"auto\">android/app/src/main/AndroidManifest.xml</code> to use the <code dir=\"auto\">applicationLabel</code> so that we can differentiate the two apps easily:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;application android:label=\"flavors\" android:name=\"${applicationName}\" android:icon=\"@mipmap/ic_launcher\"&gt;</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;application android:label=\"${applicationLabel}\" android:name=\"${applicationName}\" android:icon=\"@mipmap/ic_launcher\"&gt;</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"<manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;>  <application android:label=&quot;flavors&quot; android:name=&quot;${applicationName}&quot; android:icon=&quot;@mipmap/ic_launcher&quot;>  <application android:label=&quot;${applicationLabel}&quot; android:name=&quot;${applicationName}&quot; android:icon=&quot;@mipmap/ic_launcher&quot;>\"><div></div></button></div></figure></div>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"initialize-shorebird\">Initialize Shorebird</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#initialize-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, initialize Shorebird in the current project via <code dir=\"auto\">shorebird init</code>.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<p>The generated <code dir=\"auto\">shorebird.yaml</code> should look something like:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file is used to configure the Shorebird updater used by your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Learn more at https://shorebird.dev</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file should be checked into version control.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This is the unique identifier assigned to your app.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># It is used by your app to request the correct patches from Shorebird servers.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">app_id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">flavors</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">internal</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">stable</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">904bd3d5-3526-4c1c-a832-7ac23c95302d</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"# This file is used to configure the Shorebird updater used by your application.# Learn more at https://shorebird.dev# This file should be checked into version control.# This is the unique identifier assigned to your app.# It is used by your app to request the correct patches from Shorebird servers.app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76flavors:  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d\"><div></div></button></div></figure></div>\n<p>Because the project contains flavors, <code dir=\"auto\">shorebird init</code> generates an app per flavor and you can validate the release flavor by visiting <a href=\"https://console.shorebird.dev/\">Shorebird console</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-release\">Create a release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#create-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that we’ve created our apps on shorebird, we need to create releases (one for each flavor). To create a release, we’ll use the <code dir=\"auto\">shorebird release android</code> command.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for the internal flavor</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">internal</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for the stable flavor</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">stable</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android --flavor internalshorebird release android --flavor stable\"><div></div></button></div></figure></div>\n<p>We can verify the releases were created successfully by visiting <a href=\"https://console.shorebird.dev/\">Shorebird console</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"preview-the-release\">Preview the release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#preview-the-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, preview the app release locally on a device or emulator, use <code dir=\"auto\">shorebird preview</code>.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Preview the release for the internal flavor.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--app-id</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Preview the release for the stable flavor.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--app-id</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">904bd3d5-3526-4c1c-a832-7ac23c95302d</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.0.0+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird preview --app-id ee322dc4-3dc2-4324-90a9-04c40a62ae76 --release-version 1.0.0+1shorebird preview --app-id 904bd3d5-3526-4c1c-a832-7ac23c95302d --release-version 1.0.0+1\"><div></div></button></div></figure></div>\n\n<p>This will download the releases and run them on your device.</p>\n<p>In addition to previewing the releases locally, you should also <a href=\"https://docs.shorebird.dev/guides/submitting/play-store#upload-to-the-play-store\">submit the\ngenerated app bundles to the Play\nStore</a>. In this case, both\napps can be part of the internal test flavor and only the stable variant should\nbe promoted to production.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-patch\">Creating a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#creating-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that we have our internal and stable releases on the Play Store, we can create a patch using <code dir=\"auto\">shorebird patch android</code>. For the sake of this example, let’s adjust the app theme to use <code dir=\"auto\">deepOrange</code> as the seed color in <code dir=\"auto\">lib/main.dart</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">class MyApp extends StatelessWidget {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">const MyApp({super.key});</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This widget is the root of your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">@override</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">Widget build(BuildContext context) {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">return MaterialApp(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">title: 'Flutter Demo',</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">theme: ThemeData(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This is the theme of your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// TRY THIS: Try running your application with \"flutter run\". You'll see</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// the application has a blue toolbar. Then, without quitting the app,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// try changing the seedColor in the colorScheme below to Colors.green</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// and then invoke \"hot reload\" (save your changes or press the \"hot</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// reload\" button in a Flutter-supported IDE, or press \"r\" if you used</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// the command line to start the app).</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// Notice that the counter didn't reset back to zero; the application</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// state is not lost during the reload. To reset the state, use hot</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// restart instead.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This works for code too, not just values: Most code changes can be</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// tested with just a hot reload.</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">useMaterial3: true,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">home: const MyHomePage(title: 'Flutter Demo Home Page'),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"class MyApp extends StatelessWidget {  const MyApp({super.key});  // This widget is the root of your application.  @override  Widget build(BuildContext context) {    return MaterialApp(      title: 'Flutter Demo',      theme: ThemeData(        // This is the theme of your application.        //        // TRY THIS: Try running your application with &quot;flutter run&quot;. You'll see        // the application has a blue toolbar. Then, without quitting the app,        // try changing the seedColor in the colorScheme below to Colors.green        // and then invoke &quot;hot reload&quot; (save your changes or press the &quot;hot        // reload&quot; button in a Flutter-supported IDE, or press &quot;r&quot; if you used        // the command line to start the app).        //        // Notice that the counter didn't reset back to zero; the application        // state is not lost during the reload. To reset the state, use hot        // restart instead.        //        // This works for code too, not just values: Most code changes can be        // tested with just a hot reload.        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),        useMaterial3: true,      ),      home: const MyHomePage(title: 'Flutter Demo Home Page'),    );  }}\"><div></div></button></div></figure></div>\n\n<p>Now that we’ve applied the changes, let’s patch the <code dir=\"auto\">internal</code> variant:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">internal</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android --flavor internal\"><div></div></button></div></figure></div>\n<p>We can validate the patch by visiting <a href=\"https://console.shorebird.dev/\">Shorebird console</a> then select the internal release or re-launching the internal release.</p>\n\n<p>The first time the app is re-launched, we should still see the purple theme and shorebird will detect and install the patch in the background. Kill and re-launch the app a second time to see the applied patch.</p>\n<p>If all went well, you should see the patch was applied after re-launching the app a second time. All devices that have the internal variant of the app installed should also receive the patch 🎉</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"promote-the-patch\">Promote the patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#promote-the-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Once you have validated the patch internally, you can promote the patch to the stable variant via:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">stable</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android --flavor stable\"><div></div></button></div></figure></div>\n<p>At this point, you have a setup which allows you to push patches to internal testers before promoting them to production 🎉</p>\n<p>The full source code for this example can be found <a href=\"https://github.com/shorebirdtech/samples/tree/main/flavors\">here</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"adding-new-flavors\">Adding new flavors</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/android/#adding-new-flavors\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you want to add a new flavor to your project after initializing Shorebird, you can do so by following the same steps as before.</p>\n<p>In build.gradle:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">defaultConfig {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">flavorDimensions \"track\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">productFlavors {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">internal {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">dimension \"track\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">applicationIdSuffix \".internal\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">manifestPlaceholders = [applicationLabel: \"[Internal] Shorebird Example\"]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">beta {</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">dimension \"track\"</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">applicationIdSuffix \".beta\"</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">manifestPlaceholders = [applicationLabel: \"[Beta] Shorebird Example\"]</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">stable {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">dimension \"track\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">            </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">manifestPlaceholders = [applicationLabel: \"Shorebird Example\"]</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">buildTypes {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"defaultConfig {    ...}    flavorDimensions &quot;track&quot;    productFlavors {        internal {            dimension &quot;track&quot;            applicationIdSuffix &quot;.internal&quot;            manifestPlaceholders = [applicationLabel: &quot;[Internal] Shorebird Example&quot;]        }       beta {           dimension &quot;track&quot;           applicationIdSuffix &quot;.beta&quot;           manifestPlaceholders = [applicationLabel: &quot;[Beta] Shorebird Example&quot;]       }        stable {            dimension &quot;track&quot;            manifestPlaceholders = [applicationLabel: &quot;Shorebird Example&quot;]        }    }buildTypes {  ...}\"><div></div></button></div></figure></div>\n<p>Add this to your <code dir=\"auto\">shorebird.yaml</code> by running <code dir=\"auto\">shorebird init</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird init</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting product flavors (0.6s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">New flavors detected: beta</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Flavors added to shorebird.yaml (0.2s)</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird init✓ Detecting product flavors (0.6s)New flavors detected: beta✓ Fetching apps (0.1s)✓ Flavors added to shorebird.yaml (0.2s)\"><div></div></button></div></figure></div>\n<p>The resulting shorebird yaml:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">flavors:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\"> </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">beta: a41f8226-4b46-45d6-9e19-b14d0cf17bdc</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76flavors:  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d beta: a41f8226-4b46-45d6-9e19-b14d0cf17bdc\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/flavors/android/#_top",
      "https://docs.shorebird.dev/guides/flavors/android/#prerequisites",
      "https://docs.shorebird.dev/",
      "https://docs.shorebird.dev/guides/flavors/android/#create-a-project",
      "https://docs.shorebird.dev/guides/flavors/android/#configure-flavors",
      "https://docs.shorebird.dev/guides/flavors/android/#initialize-shorebird",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/guides/flavors/android/#create-a-release",
      "https://docs.shorebird.dev/guides/flavors/android/#preview-the-release",
      "https://docs.shorebird.dev/guides/submitting/play-store#upload-to-the-play-store",
      "https://docs.shorebird.dev/guides/flavors/android/#creating-a-patch",
      "https://docs.shorebird.dev/guides/flavors/android/#promote-the-patch",
      "https://github.com/shorebirdtech/samples/tree/main/flavors",
      "https://docs.shorebird.dev/guides/flavors/android/#adding-new-flavors"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/flavors/android/#_top)\n\n# Android Flavors\n\nThis guide will walk through how to setup an app in which there are 2 deployment flavors: `internal` and `stable`. It will cover how to validate a patch on the internal flavor and then promote the patch to the stable flavor on Android.\n\n## Prerequisites\n\nThis guide assumes the Shorebird command-line is installed on your machine and that you are logged into an account. Refer to the [getting started](https://docs.shorebird.dev/) instructions for more information.\n\n## Create a Project\n\nCreate a new project using `flutter create flavors`.\n\n## Configure Flavors\n\nNext, edit the `android/app/build.gradle` to contain two productFlavors:\n\n```\n\ndefaultConfig {\n\n    ...\n\n}\n\n    flavorDimensions \"track\"\n\n    productFlavors {\n\n        internal {\n\n            dimension \"track\"\n\n            applicationIdSuffix \".internal\"\n\n            manifestPlaceholders = [applicationLabel: \"[Internal] Shorebird Example\"]\n\n        }\n\n        stable {\n\n            dimension \"track\"\n\n            manifestPlaceholders = [applicationLabel: \"Shorebird Example\"]\n\n        }\n\n    }\n\nbuildTypes {\n\n  ...\n\n}\n```\n\nLastly, edit `android/app/src/main/AndroidManifest.xml` to use the `applicationLabel` so that we can differentiate the two apps easily:\n\n```\n\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\">\n\n  <application android:label=\"flavors\" android:name=\"${applicationName}\" android:icon=\"@mipmap/ic_launcher\">\n\n  <application android:label=\"${applicationLabel}\" android:name=\"${applicationName}\" android:icon=\"@mipmap/ic_launcher\">\n```\n\n## Initialize Shorebird\n\nNext, initialize Shorebird in the current project via `shorebird init`.\n\n```\n\nshorebird init\n```\n\nThe generated `shorebird.yaml` should look something like:\n\n```\n\n# This file is used to configure the Shorebird updater used by your application.\n\n# Learn more at https://shorebird.dev\n\n# This file should be checked into version control.\n\n# This is the unique identifier assigned to your app.\n\n# It is used by your app to request the correct patches from Shorebird servers.\n\napp_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\nflavors:\n\n  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\n  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d\n```\n\nBecause the project contains flavors, `shorebird init` generates an app per flavor and you can validate the release flavor by visiting [Shorebird console](https://console.shorebird.dev/).\n\n## Create a release\n\nNow that we’ve created our apps on shorebird, we need to create releases (one for each flavor). To create a release, we’ll use the `shorebird release android` command.\n\n```\n\n# Create a release for the internal flavor\n\nshorebird release android --flavor internal\n\n# Create a release for the stable flavor\n\nshorebird release android --flavor stable\n```\n\nWe can verify the releases were created successfully by visiting [Shorebird console](https://console.shorebird.dev/).\n\n## Preview the release\n\nNext, preview the app release locally on a device or emulator, use `shorebird preview`.\n\n```\n\n# Preview the release for the internal flavor.\n\nshorebird preview --app-id ee322dc4-3dc2-4324-90a9-04c40a62ae76 --release-version 1.0.0+1\n\n# Preview the release for the stable flavor.\n\nshorebird preview --app-id 904bd3d5-3526-4c1c-a832-7ac23c95302d --release-version 1.0.0+1\n```\n\nThis will download the releases and run them on your device.\n\nIn addition to previewing the releases locally, you should also [submit the\\\\\ngenerated app bundles to the Play\\\\\nStore](https://docs.shorebird.dev/guides/submitting/play-store#upload-to-the-play-store). In this case, both\napps can be part of the internal test flavor and only the stable variant should\nbe promoted to production.\n\n## Creating a patch\n\nNow that we have our internal and stable releases on the Play Store, we can create a patch using `shorebird patch android`. For the sake of this example, let’s adjust the app theme to use `deepOrange` as the seed color in `lib/main.dart`:\n\n```\n\nclass MyApp extends StatelessWidget {\n\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n\n  @override\n\n  Widget build(BuildContext context) {\n\n    return MaterialApp(\n\n      title: 'Flutter Demo',\n\n      theme: ThemeData(\n\n        // This is the theme of your application.\n\n        //\n\n        // TRY THIS: Try running your application with \"flutter run\". You'll see\n\n        // the application has a blue toolbar. Then, without quitting the app,\n\n        // try changing the seedColor in the colorScheme below to Colors.green\n\n        // and then invoke \"hot reload\" (save your changes or press the \"hot\n\n        // reload\" button in a Flutter-supported IDE, or press \"r\" if you used\n\n        // the command line to start the app).\n\n        //\n\n        // Notice that the counter didn't reset back to zero; the application\n\n        // state is not lost during the reload. To reset the state, use hot\n\n        // restart instead.\n\n        //\n\n        // This works for code too, not just values: Most code changes can be\n\n        // tested with just a hot reload.\n\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),\n\n        useMaterial3: true,\n\n      ),\n\n      home: const MyHomePage(title: 'Flutter Demo Home Page'),\n\n    );\n\n  }\n\n}\n```\n\nNow that we’ve applied the changes, let’s patch the `internal` variant:\n\n```\n\nshorebird patch android --flavor internal\n```\n\nWe can validate the patch by visiting [Shorebird console](https://console.shorebird.dev/) then select the internal release or re-launching the internal release.\n\nThe first time the app is re-launched, we should still see the purple theme and shorebird will detect and install the patch in the background. Kill and re-launch the app a second time to see the applied patch.\n\nIf all went well, you should see the patch was applied after re-launching the app a second time. All devices that have the internal variant of the app installed should also receive the patch 🎉\n\n## Promote the patch\n\nOnce you have validated the patch internally, you can promote the patch to the stable variant via:\n\n```\n\nshorebird patch android --flavor stable\n```\n\nAt this point, you have a setup which allows you to push patches to internal testers before promoting them to production 🎉\n\nThe full source code for this example can be found [here](https://github.com/shorebirdtech/samples/tree/main/flavors).\n\n## Adding new flavors\n\nIf you want to add a new flavor to your project after initializing Shorebird, you can do so by following the same steps as before.\n\nIn build.gradle:\n\n```\n\ndefaultConfig {\n\n    ...\n\n}\n\n    flavorDimensions \"track\"\n\n    productFlavors {\n\n        internal {\n\n            dimension \"track\"\n\n            applicationIdSuffix \".internal\"\n\n            manifestPlaceholders = [applicationLabel: \"[Internal] Shorebird Example\"]\n\n        }\n\n       beta {\n\n           dimension \"track\"\n\n           applicationIdSuffix \".beta\"\n\n           manifestPlaceholders = [applicationLabel: \"[Beta] Shorebird Example\"]\n\n       }\n\n        stable {\n\n            dimension \"track\"\n\n            manifestPlaceholders = [applicationLabel: \"Shorebird Example\"]\n\n        }\n\n    }\n\nbuildTypes {\n\n  ...\n\n}\n```\n\nAdd this to your `shorebird.yaml` by running `shorebird init`:\n\n```\n\n$ shorebird init\n\n✓ Detecting product flavors (0.6s)\n\nNew flavors detected: beta\n\n✓ Fetching apps (0.1s)\n\n✓ Flavors added to shorebird.yaml (0.2s)\n```\n\nThe resulting shorebird yaml:\n\n```\n\napp_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\nflavors:\n\n  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\n  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d\n\n beta: a41f8226-4b46-45d6-9e19-b14d0cf17bdc\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/flavors/android/",
      "ogUrl": "https://docs.shorebird.dev/guides/flavors/android/",
      "title": "Android Flavors | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/flavors/android/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Android Flavors",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Android Flavors",
      "ogLocale": "en",
      "scrapeId": "7b0f378a-f660-435f-8f59-8a7bfae75f32",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/flavors/android/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Push patches to multiple flavors on Android",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Push patches to multiple flavors on Android",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Push patches to multiple flavors on Android"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Getting Started</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Welcome to Shorebird! 👋</p>\n<p>In this guide, we’ll walk you through setting up Shorebird and integrating it\ninto your app in just a few minutes.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"sign-up\">Sign up</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#sign-up\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The first thing you’ll need to do is sign up for a Shorebird account. This will\nallow you to use the Shorebird CLI to manage your apps.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-an-account\">Create an account</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#create-an-account\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To create an account, head over to the <a href=\"https://console.shorebird.dev/\">Shorebird\nConsole</a> and authenticate with one of the available authentication methods. Once you’ve authenticated, you will have a free Shorebird account.</p>\n<p>Next, let’s install the Shorebird CLI on your machine.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"install\">Install</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#install\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"using-install-script\">Using install script</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#using-install-script\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To install the Shorebird command line interface (CLI):</p>\n<starlight-tabs class=\"astro-esqgolmp\"> <div class=\"tablist-wrapper not-content astro-esqgolmp\"> <ul role=\"tablist\" class=\"astro-esqgolmp\"> <li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-0\" id=\"tab-0\" aria-selected=\"true\" tabindex=\"0\" class=\"astro-esqgolmp\">  Mac/Linux </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-1\" id=\"tab-1\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  Windows </a> </li> </ul> </div> <div id=\"tab-panel-0\" aria-labelledby=\"tab-0\" role=\"tabpanel\"> <p>Open a terminal and run:</p><div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">curl</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--proto</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">'=https'</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--tlsv1.2</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-sSf</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#D4D4D4;--1:#BF3441\">|</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">bash</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-1\" aria-labelledby=\"tab-1\" role=\"tabpanel\" hidden=\"\"> <p>Open a PowerShell terminal and run:</p><div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"powershell\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#005CC5\">Set-ExecutionPolicy</span><span style=\"--0:#D4D4D4;--1:#24292E\"> RemoteSigned </span><span style=\"--0:#D4D4D4;--1:#BF3441\">-</span><span style=\"--0:#D4D4D4;--1:#24292E\">scope CurrentUser </span><span style=\"--0:#74A061;--1:#616972\"># Needed to execute remote scripts</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">iwr </span><span style=\"--0:#D4D4D4;--1:#BF3441\">-</span><span style=\"--0:#D4D4D4;--1:#24292E\">UseBasicParsing </span><span style=\"--0:#CE9178;--1:#032F62\">'https://raw.githubusercontent.com/shorebirdtech/install/main/install.ps1'</span><span style=\"--0:#D4D4D4;--1:#BF3441\">|</span><span style=\"--0:#D4D4D4;--1:#24292E\">iex</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Set-ExecutionPolicy RemoteSigned -scope CurrentUser # Needed to execute remote scriptsiwr -UseBasicParsing 'https://raw.githubusercontent.com/shorebirdtech/install/main/install.ps1'|iex\"><div></div></button></div></figure></div> </div>  </starlight-tabs>  \n\n<p>This installs <code dir=\"auto\">shorebird</code> into <code dir=\"auto\">~/.shorebird/bin</code> and adds it to your <code dir=\"auto\">PATH</code>. It\nalso installs a copy of Flutter and Dart inside\n<code dir=\"auto\">~/.shorebird/bin/cache/flutter</code>. The copy of Flutter is slightly modified to\nadd Shorebird code push and is not intended to be added to your <code dir=\"auto\">PATH</code>. You can\ncontinue to use the versions of Flutter and Dart you already have installed.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"manually-installing\">Manually installing</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#manually-installing\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird can also be manually installed, allowing users to choose where the installation will be placed.</p>\n<p>In order to do so, in a terminal, inside the folder where Shorebird should be installed at, run:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"bash\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">clone</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">-b</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">stable</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">https://github.com/shorebirdtech/shorebird.git</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git clone -b stable https://github.com/shorebirdtech/shorebird.git\"><div></div></button></div></figure></div>\n<p>Add the <code dir=\"auto\">bin</code> folder from the repository you just cloned into your <code dir=\"auto\">PATH</code>.</p>\n\n<p>Once the installation has completed, <code dir=\"auto\">shorebird</code> should be available in your\nterminal:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">The shorebird command-line tool</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Usage: shorebird &lt;command&gt; [arguments]</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Global options:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">-h, --help            Print this usage information.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">--version         Print the current version.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">-v, --[no-]verbose    Noisy logging, including all shell commands executed.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Available commands:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">cache      Manage the Shorebird cache.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">doctor     Show information about the installed tooling.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">flutter    Manage your Shorebird Flutter installation.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">init       Initialize Shorebird.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">login      Login as a new Shorebird user.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">login:ci   Login as a CI user.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">logout     Logout of the current Shorebird user</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">patch      Creates a shorebird patch for the provided target platforms</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">patches    Manage Shorebird patches</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">preview    Preview a specific release on a device.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">release    Creates a shorebird release for the provided target platforms</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">releases   Manage Shorebird releases</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">upgrade    Upgrade your copy of Shorebird.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Run \"shorebird help &lt;command&gt;\" for more information about a command.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebirdThe shorebird command-line toolUsage: shorebird <command> [arguments]Global options:-h, --help            Print this usage information.    --version         Print the current version.-v, --[no-]verbose    Noisy logging, including all shell commands executed.Available commands:  cache      Manage the Shorebird cache.  doctor     Show information about the installed tooling.  flutter    Manage your Shorebird Flutter installation.  init       Initialize Shorebird.  login      Login as a new Shorebird user.  login:ci   Login as a CI user.  logout     Logout of the current Shorebird user  patch      Creates a shorebird patch for the provided target platforms  patches    Manage Shorebird patches  preview    Preview a specific release on a device.  release    Creates a shorebird release for the provided target platforms  releases   Manage Shorebird releases  upgrade    Upgrade your copy of Shorebird.Run &quot;shorebird help <command>&quot; for more information about a command.\"><div></div></button></div></figure></div>\n<p>You can use the <code dir=\"auto\">shorebird doctor</code> to ensure things are setup correctly:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">doctor</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird doctor\"><div></div></button></div></figure></div>\n<p>Example output:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird doctor</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Shorebird 1.5.1 • git@github.com:shorebirdtech/shorebird.git</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Flutter 3.27.0 • revision 1e0e5760eeaf534c280cf59ee0504d0e2ba12a7b</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Engine • revision 59571a1190752bc1740bff652ce5f0ba7c9413f8</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">URL Reachability</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ https://api.shorebird.dev OK (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ https://console.shorebird.dev OK (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ https://oauth2.googleapis.com OK (60ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ https://storage.googleapis.com OK (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ https://cdn.shorebird.cloud OK (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Shorebird is up-to-date (1.4s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Flutter install is correct (0.4s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">No issues detected!</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird doctorShorebird 1.5.1 • git@github.com:shorebirdtech/shorebird.gitFlutter 3.27.0 • revision 1e0e5760eeaf534c280cf59ee0504d0e2ba12a7bEngine • revision 59571a1190752bc1740bff652ce5f0ba7c9413f8URL Reachability✓ https://api.shorebird.dev OK (0.1s)✓ https://console.shorebird.dev OK (0.1s)✓ https://oauth2.googleapis.com OK (60ms)✓ https://storage.googleapis.com OK (0.2s)✓ https://cdn.shorebird.cloud OK (0.1s)✓ Shorebird is up-to-date (1.4s)✓ Flutter install is correct (0.4s)No issues detected!\"><div></div></button></div></figure></div>\n<p>Finally, you can log in to your Shorebird account on your machine:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">login</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird login\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"integrate-shorebird\">Integrate Shorebird</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#integrate-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Once you have registered, installed the CLI, and logged in, you’re ready to use code push!</p>\n<p>Start by creating a new Flutter app:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">flutter</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">create</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">my_shorebird_app</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"flutter create my_shorebird_app\"><div></div></button></div></figure></div>\n<p>As with any Flutter app, you can verify this created the standard Counter app by\nfollowing the instructions printed by <code dir=\"auto\">flutter create</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#005CC5\">cd</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">my_shorebird_app</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">flutter</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">run</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"cd my_shorebird_appflutter run\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"initialize-shorebird\">Initialize Shorebird</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#initialize-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To make this a Shorebird app, run:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<p>This will create a <code dir=\"auto\">shorebird.yaml</code> file in the root of your project. This file\ncontains your Shorebird <code dir=\"auto\">app_id</code>. Your <code dir=\"auto\">app_id</code> is not secret and can be\nchecked into source control and freely shared.</p>\n<p>This will also run <code dir=\"auto\">shorebird doctor</code> to ensure everything is set up correctly.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-release\">Create a release</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#create-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We will create a release using the unmodified Counter app. Run:</p>\n<starlight-tabs class=\"astro-esqgolmp\"> <div class=\"tablist-wrapper not-content astro-esqgolmp\"> <ul role=\"tablist\" class=\"astro-esqgolmp\"> <li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-2\" id=\"tab-2\" aria-selected=\"true\" tabindex=\"0\" class=\"astro-esqgolmp\">  Android </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-3\" id=\"tab-3\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  iOS </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-4\" id=\"tab-4\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  macOS (beta) </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-5\" id=\"tab-5\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  Windows (beta) </a> </li> </ul> </div> <div id=\"tab-panel-2\" aria-labelledby=\"tab-2\" role=\"tabpanel\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-3\" aria-labelledby=\"tab-3\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-4\" aria-labelledby=\"tab-4\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">macos</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release macos\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-5\" aria-labelledby=\"tab-5\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">windows</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release windows\"><div></div></button></div></figure></div> </div>  </starlight-tabs>  \n<p>When prompted, use the suggested version number (<code dir=\"auto\">1.0.0+1</code>), and enter <code dir=\"auto\">y</code> when\nasked if you would like to continue.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"preview-the-release\">Preview the release</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#preview-the-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To run the app created by <code dir=\"auto\">shorebird release</code> on a device or emulator\n(Android-only), use <code dir=\"auto\">shorebird preview</code></p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird preview\"><div></div></button></div></figure></div>\n<p>Now kill the app on your device or emulator.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-patch\">Create a patch</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#create-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We will now make a small change to the Counter app. In <code dir=\"auto\">lib/main.dart</code>, change\nthe app theme’s <code dir=\"auto\">colorScheme</code> from purple to green:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">class MyApp extends StatelessWidget {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">const MyApp({super.key});</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This widget is the root of your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">@override</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">Widget build(BuildContext context) {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">return MaterialApp(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">title: 'Flutter Demo',</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">theme: ThemeData(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This is the theme of your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// TRY THIS: Try running your application with \"flutter run\". You'll see</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// the application has a purple toolbar. Then, without quitting the app,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// try changing the seedColor in the colorScheme below to Colors.green</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// and then invoke \"hot reload\" (save your changes or press the \"hot</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// reload\" button in a Flutter-supported IDE, or press \"r\" if you used</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// the command line to start the app).</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// Notice that the counter didn't reset back to zero; the application</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// state is not lost during the reload. To reset the state, use hot</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// restart instead.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This works for code too, not just values: Most code changes can be</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// tested with just a hot reload.</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">colorScheme: ColorScheme.fromSeed(seedColor: Colors.green),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">useMaterial3: true,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">home: const MyHomePage(title: 'Flutter Demo Home Page'),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"class MyApp extends StatelessWidget {  const MyApp({super.key});  // This widget is the root of your application.  @override  Widget build(BuildContext context) {    return MaterialApp(      title: 'Flutter Demo',      theme: ThemeData(        // This is the theme of your application.        //        // TRY THIS: Try running your application with &quot;flutter run&quot;. You'll see        // the application has a purple toolbar. Then, without quitting the app,        // try changing the seedColor in the colorScheme below to Colors.green        // and then invoke &quot;hot reload&quot; (save your changes or press the &quot;hot        // reload&quot; button in a Flutter-supported IDE, or press &quot;r&quot; if you used        // the command line to start the app).        //        // Notice that the counter didn't reset back to zero; the application        // state is not lost during the reload. To reset the state, use hot        // restart instead.        //        // This works for code too, not just values: Most code changes can be        // tested with just a hot reload.       colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),       colorScheme: ColorScheme.fromSeed(seedColor: Colors.green),        useMaterial3: true,      ),      home: const MyHomePage(title: 'Flutter Demo Home Page'),    );  }}\"><div></div></button></div></figure></div>\n<p>After making this change, save the file and run:</p>\n<starlight-tabs class=\"astro-esqgolmp\"> <div class=\"tablist-wrapper not-content astro-esqgolmp\"> <ul role=\"tablist\" class=\"astro-esqgolmp\"> <li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-6\" id=\"tab-6\" aria-selected=\"true\" tabindex=\"0\" class=\"astro-esqgolmp\">  Android </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-7\" id=\"tab-7\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  iOS </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-8\" id=\"tab-8\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  macOS (beta) </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/#tab-panel-9\" id=\"tab-9\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  Windows (beta) </a> </li> </ul> </div> <div id=\"tab-panel-6\" aria-labelledby=\"tab-6\" role=\"tabpanel\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-7\" aria-labelledby=\"tab-7\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch ios\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-8\" aria-labelledby=\"tab-8\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">macos</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch macos\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-9\" aria-labelledby=\"tab-9\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">windows</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch windows\"><div></div></button></div></figure></div> </div>  </starlight-tabs>  \n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"see-the-patch-in-action\">See the patch in action</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#see-the-patch-in-action\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Launch the app from your device or emulator. The app will still have the\noriginal purple theme, but it will be downloading the patch we just created in the\nbackground. Kill and launch the app again, and the app will be green! 🎉</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"connect-on-discord\">Connect on Discord</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/#connect-on-discord\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird has an active Discord where we’re happy to help you with any questions\n<a href=\"https://discord.gg/shorebird\">https://discord.gg/shorebird</a></p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/#_top",
      "https://docs.shorebird.dev/#sign-up",
      "https://docs.shorebird.dev/#create-an-account",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/#install",
      "https://docs.shorebird.dev/#using-install-script",
      "https://docs.shorebird.dev/#tab-panel-0",
      "https://docs.shorebird.dev/#tab-panel-1",
      "https://docs.shorebird.dev/#manually-installing",
      "https://docs.shorebird.dev/#integrate-shorebird",
      "https://docs.shorebird.dev/#initialize-shorebird",
      "https://docs.shorebird.dev/#create-a-release",
      "https://docs.shorebird.dev/#tab-panel-2",
      "https://docs.shorebird.dev/#tab-panel-3",
      "https://docs.shorebird.dev/#tab-panel-4",
      "https://docs.shorebird.dev/#tab-panel-5",
      "https://docs.shorebird.dev/#preview-the-release",
      "https://docs.shorebird.dev/#create-a-patch",
      "https://docs.shorebird.dev/#tab-panel-6",
      "https://docs.shorebird.dev/#tab-panel-7",
      "https://docs.shorebird.dev/#tab-panel-8",
      "https://docs.shorebird.dev/#tab-panel-9",
      "https://docs.shorebird.dev/#see-the-patch-in-action",
      "https://docs.shorebird.dev/#connect-on-discord",
      "https://discord.gg/shorebird"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/#_top)\n\n# Getting Started\n\nWelcome to Shorebird! 👋\n\nIn this guide, we’ll walk you through setting up Shorebird and integrating it\ninto your app in just a few minutes.\n\n## Sign up\n\nThe first thing you’ll need to do is sign up for a Shorebird account. This will\nallow you to use the Shorebird CLI to manage your apps.\n\n### Create an account\n\nTo create an account, head over to the [Shorebird\\\\\nConsole](https://console.shorebird.dev/) and authenticate with one of the available authentication methods. Once you’ve authenticated, you will have a free Shorebird account.\n\nNext, let’s install the Shorebird CLI on your machine.\n\n## Install\n\n### Using install script\n\nTo install the Shorebird command line interface (CLI):\n\n- [Mac/Linux](https://docs.shorebird.dev/#tab-panel-0)\n- [Windows](https://docs.shorebird.dev/#tab-panel-1)\n\nOpen a terminal and run:\n\n```\n\ncurl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash\n```\n\nOpen a PowerShell terminal and run:\n\n```\n\nSet-ExecutionPolicy RemoteSigned -scope CurrentUser # Needed to execute remote scripts\n\niwr -UseBasicParsing 'https://raw.githubusercontent.com/shorebirdtech/install/main/install.ps1'|iex\n```\n\nThis installs `shorebird` into `~/.shorebird/bin` and adds it to your `PATH`. It\nalso installs a copy of Flutter and Dart inside\n`~/.shorebird/bin/cache/flutter`. The copy of Flutter is slightly modified to\nadd Shorebird code push and is not intended to be added to your `PATH`. You can\ncontinue to use the versions of Flutter and Dart you already have installed.\n\n### Manually installing\n\nShorebird can also be manually installed, allowing users to choose where the installation will be placed.\n\nIn order to do so, in a terminal, inside the folder where Shorebird should be installed at, run:\n\n```\n\ngit clone -b stable https://github.com/shorebirdtech/shorebird.git\n```\n\nAdd the `bin` folder from the repository you just cloned into your `PATH`.\n\nOnce the installation has completed, `shorebird` should be available in your\nterminal:\n\n```\n\n$ shorebird\n\nThe shorebird command-line tool\n\nUsage: shorebird <command> [arguments]\n\nGlobal options:\n\n-h, --help            Print this usage information.\n\n    --version         Print the current version.\n\n-v, --[no-]verbose    Noisy logging, including all shell commands executed.\n\nAvailable commands:\n\n  cache      Manage the Shorebird cache.\n\n  doctor     Show information about the installed tooling.\n\n  flutter    Manage your Shorebird Flutter installation.\n\n  init       Initialize Shorebird.\n\n  login      Login as a new Shorebird user.\n\n  login:ci   Login as a CI user.\n\n  logout     Logout of the current Shorebird user\n\n  patch      Creates a shorebird patch for the provided target platforms\n\n  patches    Manage Shorebird patches\n\n  preview    Preview a specific release on a device.\n\n  release    Creates a shorebird release for the provided target platforms\n\n  releases   Manage Shorebird releases\n\n  upgrade    Upgrade your copy of Shorebird.\n\nRun \"shorebird help <command>\" for more information about a command.\n```\n\nYou can use the `shorebird doctor` to ensure things are setup correctly:\n\n```\n\nshorebird doctor\n```\n\nExample output:\n\n```\n\n$ shorebird doctor\n\nShorebird 1.5.1 • git@github.com:shorebirdtech/shorebird.git\n\nFlutter 3.27.0 • revision 1e0e5760eeaf534c280cf59ee0504d0e2ba12a7b\n\nEngine • revision 59571a1190752bc1740bff652ce5f0ba7c9413f8\n\nURL Reachability\n\n✓ https://api.shorebird.dev OK (0.1s)\n\n✓ https://console.shorebird.dev OK (0.1s)\n\n✓ https://oauth2.googleapis.com OK (60ms)\n\n✓ https://storage.googleapis.com OK (0.2s)\n\n✓ https://cdn.shorebird.cloud OK (0.1s)\n\n✓ Shorebird is up-to-date (1.4s)\n\n✓ Flutter install is correct (0.4s)\n\nNo issues detected!\n```\n\nFinally, you can log in to your Shorebird account on your machine:\n\n```\n\nshorebird login\n```\n\n## Integrate Shorebird\n\nOnce you have registered, installed the CLI, and logged in, you’re ready to use code push!\n\nStart by creating a new Flutter app:\n\n```\n\nflutter create my_shorebird_app\n```\n\nAs with any Flutter app, you can verify this created the standard Counter app by\nfollowing the instructions printed by `flutter create`:\n\n```\n\ncd my_shorebird_app\n\nflutter run\n```\n\n### Initialize Shorebird\n\nTo make this a Shorebird app, run:\n\n```\n\nshorebird init\n```\n\nThis will create a `shorebird.yaml` file in the root of your project. This file\ncontains your Shorebird `app_id`. Your `app_id` is not secret and can be\nchecked into source control and freely shared.\n\nThis will also run `shorebird doctor` to ensure everything is set up correctly.\n\n### Create a release\n\nWe will create a release using the unmodified Counter app. Run:\n\n- [Android](https://docs.shorebird.dev/#tab-panel-2)\n- [iOS](https://docs.shorebird.dev/#tab-panel-3)\n- [macOS (beta)](https://docs.shorebird.dev/#tab-panel-4)\n- [Windows (beta)](https://docs.shorebird.dev/#tab-panel-5)\n\n```\n\nshorebird release android\n```\n\n```\n\nshorebird release ios\n```\n\n```\n\nshorebird release macos\n```\n\n```\n\nshorebird release windows\n```\n\nWhen prompted, use the suggested version number ( `1.0.0+1`), and enter `y` when\nasked if you would like to continue.\n\n### Preview the release\n\nTo run the app created by `shorebird release` on a device or emulator\n(Android-only), use `shorebird preview`\n\n```\n\nshorebird preview\n```\n\nNow kill the app on your device or emulator.\n\n### Create a patch\n\nWe will now make a small change to the Counter app. In `lib/main.dart`, change\nthe app theme’s `colorScheme` from purple to green:\n\n```\n\nclass MyApp extends StatelessWidget {\n\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n\n  @override\n\n  Widget build(BuildContext context) {\n\n    return MaterialApp(\n\n      title: 'Flutter Demo',\n\n      theme: ThemeData(\n\n        // This is the theme of your application.\n\n        //\n\n        // TRY THIS: Try running your application with \"flutter run\". You'll see\n\n        // the application has a purple toolbar. Then, without quitting the app,\n\n        // try changing the seedColor in the colorScheme below to Colors.green\n\n        // and then invoke \"hot reload\" (save your changes or press the \"hot\n\n        // reload\" button in a Flutter-supported IDE, or press \"r\" if you used\n\n        // the command line to start the app).\n\n        //\n\n        // Notice that the counter didn't reset back to zero; the application\n\n        // state is not lost during the reload. To reset the state, use hot\n\n        // restart instead.\n\n        //\n\n        // This works for code too, not just values: Most code changes can be\n\n        // tested with just a hot reload.\n\n       colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n\n       colorScheme: ColorScheme.fromSeed(seedColor: Colors.green),\n\n        useMaterial3: true,\n\n      ),\n\n      home: const MyHomePage(title: 'Flutter Demo Home Page'),\n\n    );\n\n  }\n\n}\n```\n\nAfter making this change, save the file and run:\n\n- [Android](https://docs.shorebird.dev/#tab-panel-6)\n- [iOS](https://docs.shorebird.dev/#tab-panel-7)\n- [macOS (beta)](https://docs.shorebird.dev/#tab-panel-8)\n- [Windows (beta)](https://docs.shorebird.dev/#tab-panel-9)\n\n```\n\nshorebird patch android\n```\n\n```\n\nshorebird patch ios\n```\n\n```\n\nshorebird patch macos\n```\n\n```\n\nshorebird patch windows\n```\n\n### See the patch in action\n\nLaunch the app from your device or emulator. The app will still have the\noriginal purple theme, but it will be downloading the patch we just created in the\nbackground. Kill and launch the app again, and the app will be green! 🎉\n\n## Connect on Discord\n\nShorebird has an active Discord where we’re happy to help you with any questions\n[https://discord.gg/shorebird](https://discord.gg/shorebird)",
    "metadata": {
      "url": "https://docs.shorebird.dev/",
      "ogUrl": "https://docs.shorebird.dev/",
      "title": "Getting Started | Shorebird",
      "og:url": "https://docs.shorebird.dev/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Getting Started",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Getting Started",
      "ogLocale": "en",
      "scrapeId": "1b777576-89ae-4873-a8d1-b42b01934f6b",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "The official documentation site for Shorebird.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "The official documentation site for Shorebird.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "The official documentation site for Shorebird."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/code-push/patch/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Create a Patch</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Once you have published a release of your app, you can push updates using one\nof the <code dir=\"auto\">shorebird patch</code> commands.</p>\n<starlight-tabs class=\"astro-esqgolmp\"> <div class=\"tablist-wrapper not-content astro-esqgolmp\"> <ul role=\"tablist\" class=\"astro-esqgolmp\"> <li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/patch/#tab-panel-10\" id=\"tab-10\" aria-selected=\"true\" tabindex=\"0\" class=\"astro-esqgolmp\">  Android </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/patch/#tab-panel-11\" id=\"tab-11\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  iOS </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/patch/#tab-panel-12\" id=\"tab-12\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  macOS (beta) </a> </li><li role=\"presentation\" class=\"tab astro-esqgolmp\"> <a role=\"tab\" href=\"https://docs.shorebird.dev/code-push/patch/#tab-panel-13\" id=\"tab-13\" aria-selected=\"false\" tabindex=\"-1\" class=\"astro-esqgolmp\">  Windows (beta) </a> </li> </ul> </div> <div id=\"tab-panel-10\" aria-labelledby=\"tab-10\" role=\"tabpanel\"> <div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch android</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-11\" aria-labelledby=\"tab-11\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch ios</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch ios\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-12\" aria-labelledby=\"tab-12\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch macos</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch macos\"><div></div></button></div></figure></div> </div><div id=\"tab-panel-13\" aria-labelledby=\"tab-13\" role=\"tabpanel\" hidden=\"\"> <div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch windows</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch windows\"><div></div></button></div></figure></div> </div>  </starlight-tabs>  \n<p>This will do several things:</p>\n<ol>\n<li>Builds the artifacts for the update.</li>\n<li>Downloads the corresponding release artifacts.</li>\n<li>Generates a patch using the diff between the release and the current changes.</li>\n<li>Uploads the patch artifacts to the Shorebird backend</li>\n<li>Promotes the patch to the stable channel.</li>\n</ol>\n<p>Example output:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird patch android</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building patch (3.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting release version (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching release (77ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (15ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching release artifacts (0.3s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Downloading release artifacts (1.9s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating artifacts (4.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to publish a new patch!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: My App (61fc9c16)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 0.1.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📺 Channel: stable</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️  Platform: android [arm64 (166.20 KB), arm32 (161.78 KB), x86_64 (161.51 KB)]</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating patch (93ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Uploading artifacts (1.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching channels (86ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Promoting patch to stable (78ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Patch!</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird patch android✓ Building patch (3.0s)✓ Fetching apps (0.2s)✓ Detecting release version (0.3s)✓ Fetching release (77ms)✓ Fetching Flutter revision (15ms)✓ Fetching release artifacts (0.3s)✓ Downloading release artifacts (1.9s)✓ Creating artifacts (4.1s)🚀 Ready to publish a new patch!📱 App: My App (61fc9c16)📦 Release Version: 0.1.0+1📺 Channel: stable🕹️  Platform: android [arm64 (166.20 KB), arm32 (161.78 KB), x86_64 (161.51 KB)]Would you like to continue? (y/N) Yes✓ Creating patch (93ms)✓ Uploading artifacts (1.5s)✓ Fetching channels (86ms)✓ Promoting patch to stable (78ms)✅ Published Patch!\"><div></div></button></div></figure></div>\n<p>By default, this uses the release version that the app is currently on. If you\nwant to patch a different release version, you can use the <code dir=\"auto\">--release-version</code>\noption. For example:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch android --release-version 0.1.0+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch android --release-version 0.1.0+1\"><div></div></button></div></figure></div>\n<p>If your application supports flavors or multiple release targets, you can specify the flavor and target using the <code dir=\"auto\">--flavor</code> and <code dir=\"auto\">--target</code> options:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">shorebird patch [android|ios] --target lib/main_development.dart --flavor development</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch [android|ios] --target lib/main_development.dart --flavor development\"><div></div></button></div></figure></div>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"patch-performance\">Patch Performance</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/patch/#patch-performance\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"android\">Android</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/patch/#android\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patching an application on Android has no effect on performance.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"ios-and-macos\">iOS and macOS</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/code-push/patch/#ios-and-macos\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patching an application on iOS and macOS typically does not affect an application\nperformance. However the patching mechanism on iOS and macOS is different from Android.\nUnchanged code runs as normal (on the CPU), changed (or added) code will run in\na Dart interpreter (slower than the CPU). Typically this change is\nundetectable, but if you are changing particularly performance-sensitive Dart\ncode (e.g. code for processing images, or large data) you may see a performance\ndifference after patching.</p>\n<p>You can always test your patches before sending them to users using by\n<a href=\"https://docs.shorebird.dev/guides/staging-patches\">staging patches</a>.</p>\n<p>If you ever see unexpected performance changes when patching, please <a href=\"mailto:contact@shorebird.dev\">contact\nus</a> we would love to help!</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/code-push/patch/#_top",
      "https://docs.shorebird.dev/code-push/patch/#tab-panel-10",
      "https://docs.shorebird.dev/code-push/patch/#tab-panel-11",
      "https://docs.shorebird.dev/code-push/patch/#tab-panel-12",
      "https://docs.shorebird.dev/code-push/patch/#tab-panel-13",
      "https://docs.shorebird.dev/code-push/patch/#patch-performance",
      "https://docs.shorebird.dev/code-push/patch/#android",
      "https://docs.shorebird.dev/code-push/patch/#ios-and-macos",
      "https://docs.shorebird.dev/guides/staging-patches",
      "mailto:contact@shorebird.dev"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/code-push/patch/#_top)\n\n# Create a Patch\n\nOnce you have published a release of your app, you can push updates using one\nof the `shorebird patch` commands.\n\n- [Android](https://docs.shorebird.dev/code-push/patch/#tab-panel-10)\n- [iOS](https://docs.shorebird.dev/code-push/patch/#tab-panel-11)\n- [macOS (beta)](https://docs.shorebird.dev/code-push/patch/#tab-panel-12)\n- [Windows (beta)](https://docs.shorebird.dev/code-push/patch/#tab-panel-13)\n\n```\n\nshorebird patch android\n```\n\n```\n\nshorebird patch ios\n```\n\n```\n\nshorebird patch macos\n```\n\n```\n\nshorebird patch windows\n```\n\nThis will do several things:\n\n1. Builds the artifacts for the update.\n2. Downloads the corresponding release artifacts.\n3. Generates a patch using the diff between the release and the current changes.\n4. Uploads the patch artifacts to the Shorebird backend\n5. Promotes the patch to the stable channel.\n\nExample output:\n\n```\n\n$ shorebird patch android\n\n✓ Building patch (3.0s)\n\n✓ Fetching apps (0.2s)\n\n✓ Detecting release version (0.3s)\n\n✓ Fetching release (77ms)\n\n✓ Fetching Flutter revision (15ms)\n\n✓ Fetching release artifacts (0.3s)\n\n✓ Downloading release artifacts (1.9s)\n\n✓ Creating artifacts (4.1s)\n\n🚀 Ready to publish a new patch!\n\n📱 App: My App (61fc9c16)\n\n📦 Release Version: 0.1.0+1\n\n📺 Channel: stable\n\n🕹️  Platform: android [arm64 (166.20 KB), arm32 (161.78 KB), x86_64 (161.51 KB)]\n\nWould you like to continue? (y/N) Yes\n\n✓ Creating patch (93ms)\n\n✓ Uploading artifacts (1.5s)\n\n✓ Fetching channels (86ms)\n\n✓ Promoting patch to stable (78ms)\n\n✅ Published Patch!\n```\n\nBy default, this uses the release version that the app is currently on. If you\nwant to patch a different release version, you can use the `--release-version`\noption. For example:\n\n```\n\nshorebird patch android --release-version 0.1.0+1\n```\n\nIf your application supports flavors or multiple release targets, you can specify the flavor and target using the `--flavor` and `--target` options:\n\n```\n\nshorebird patch [android|ios] --target lib/main_development.dart --flavor development\n```\n\n### Patch Performance\n\n#### Android\n\nPatching an application on Android has no effect on performance.\n\n#### iOS and macOS\n\nPatching an application on iOS and macOS typically does not affect an application\nperformance. However the patching mechanism on iOS and macOS is different from Android.\nUnchanged code runs as normal (on the CPU), changed (or added) code will run in\na Dart interpreter (slower than the CPU). Typically this change is\nundetectable, but if you are changing particularly performance-sensitive Dart\ncode (e.g. code for processing images, or large data) you may see a performance\ndifference after patching.\n\nYou can always test your patches before sending them to users using by\n[staging patches](https://docs.shorebird.dev/guides/staging-patches).\n\nIf you ever see unexpected performance changes when patching, please [contact\\\\\nus](mailto:contact@shorebird.dev) we would love to help!",
    "metadata": {
      "url": "https://docs.shorebird.dev/code-push/patch/",
      "ogUrl": "https://docs.shorebird.dev/code-push/patch/",
      "title": "Create a Patch | Shorebird",
      "og:url": "https://docs.shorebird.dev/code-push/patch/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Create a Patch",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Create a Patch",
      "ogLocale": "en",
      "scrapeId": "d23d12b5-3b23-4b10-8042-1ce70cc4218d",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/code-push/patch/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to push updates to an app with Shorebird.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to push updates to an app with Shorebird.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to push updates to an app with Shorebird."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/submitting/app-store/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Releasing to the Apple App Store</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n<p>This guide walks through releasing a code push app to the Apple App Store and applying a patch to that release.</p>\n<p>The app we will be releasing in this guide is Shorebird Clock, our demo code push app. (<a href=\"https://github.com/shorebirdtech/time_shift/\">source</a>)</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To follow along with this guide, you will need the following:</p>\n<ol>\n<li>An existing Shorebird app. If you don’t have one, you can create one by following the <a href=\"https://docs.shorebird.dev/\">code push quickstart</a> guide.</li>\n<li>Access to hardware running macOS. This is required to build iOS apps.</li>\n<li>A valid Apple Developer account. This is required to release iOS apps.</li>\n<li>An app in <a href=\"https://appstoreconnect.apple.com/\">App Store Connect</a>. See the <a href=\"https://developer.apple.com/help/app-store-connect/create-an-app-record/add-a-new-app\">official documentation</a> for more information about how to create one.</li>\n<li>An iOS Distribution certificate. You can create one at <a href=\"https://developer.apple.com/account/resources/certificates/add\">https://developer.apple.com/account/resources/certificates/add</a>.</li>\n<li>An iOS App Store provisioning profile. See the <a href=\"https://developer.apple.com/help/account/manage-provisioning-profiles/create-an-app-store-provisioning-profile\">official documentation</a> for instructions on how to create one.</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"specify-a-development-team-in-xcode\">Specify a development team in Xcode</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#specify-a-development-team-in-xcode\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To build an iOS app for distribution, we need to specify a development team in Xcode. Open <code dir=\"auto\">ios/Runner.xcworkspace</code> in Xcode and select the <code dir=\"auto\">Runner</code> target:</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/786b1def-6198-4be0-90ac-d307e9b1a289\" alt=\"Xcode development team\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-release\">Creating a release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#creating-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"determine-the-release-version\">Determine the release version</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#determine-the-release-version\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Navigate to your app on the <a href=\"https://console.shorebird.dev/\">Shorebird console</a>\nto see the current set of releases. For our app, we see that the latest release\nversion is <code dir=\"auto\">1.0.3+1</code>, so the version of our next release will be <code dir=\"auto\">1.0.4+1</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-release-in-app-store-connect\">Create a release in App Store Connect</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#create-a-release-in-app-store-connect\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Because the App Store does not include the build number (the <code dir=\"auto\">+1</code> part of <code dir=\"auto\">1.0.4+1</code>) in app versions, this will show up in the App Store as <code dir=\"auto\">1.0.4</code>. Follow the instructions in the <a href=\"https://developer.apple.com/help/app-store-connect/update-your-app/create-a-new-version\">official documentation</a> to create a new version in App Store Connect.</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/549a42ac-0202-4c72-a9a9-d0196a0308b6\" alt=\"App Store Connect version\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"update-the-version-in-pubspecyaml\">Update the version in <code dir=\"auto\">pubspec.yaml</code></h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#update-the-version-in-pubspecyaml\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Update the version in <code dir=\"auto\">pubspec.yaml</code> to <code dir=\"auto\">1.0.4+1</code>:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">name: shorebird_clock</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">description: A demo app for Shorebird</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\"> </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">version: 1.0.3+1</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\"> </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">version: 1.0.4+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"name: shorebird_clockdescription: A demo app for Shorebird version: 1.0.3+1 version: 1.0.4+1\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-shorebird-release\">Create a Shorebird release</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#create-a-shorebird-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Create a Shorebird release by running the <code dir=\"auto\">shorebird release ios</code> command:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird release ios</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building release (56.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Getting release version (37ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to create a new release!</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: time_shift (f2184ee6-9a85-498c-bfeb-114d638c462e)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.4+1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️ Platform: ios</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (36ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating release (0.2s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating artifacts (8.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Updating release status (57ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Release!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Your next step is to upload your app to App Store Connect.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">To upload to the App Store, do one of the following:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">1. Open build/ios/archive/Runner.xcarchive in Xcode and use the \"Distribute App\" flow.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">2. Drag and drop the build/ios/ipa/time_shift.ipa bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784).</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">3. Run xcrun altool --upload-app --type ios -f build/ios/ipa/time_shift.ipa --apiKey your_api_key --apiIssuer your_issuer_id.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">       </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">See \"man altool\" for details about how to authenticate with the App Store Connect API key.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird release ios✓ Fetching apps (0.1s)✓ Building release (56.2s)✓ Getting release version (37ms)✓ Fetching releases (0.1s)🚀 Ready to create a new release!📱 App: time_shift (f2184ee6-9a85-498c-bfeb-114d638c462e)📦 Release Version: 1.0.4+1🕹️ Platform: iosWould you like to continue? (y/N) Yes✓ Fetching Flutter revision (36ms)✓ Creating release (0.2s)✓ Creating artifacts (8.0s)✓ Updating release status (57ms)✅ Published Release!Your next step is to upload your app to App Store Connect.To upload to the App Store, do one of the following:    1. Open build/ios/archive/Runner.xcarchive in Xcode and use the &quot;Distribute App&quot; flow.    2. Drag and drop the build/ios/ipa/time_shift.ipa bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784).    3. Run xcrun altool --upload-app --type ios -f build/ios/ipa/time_shift.ipa --apiKey your_api_key --apiIssuer your_issuer_id.       See &quot;man altool&quot; for details about how to authenticate with the App Store Connect API key.\"><div></div></button></div></figure></div>\n\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"upload-to-the-app-store\">Upload to the App Store</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#upload-to-the-app-store\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Open the .xcarchive in Xcode and use the “Distribute App” flow:</p>\n<p><img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/eafebdee-0e26-410a-8997-4eed056d4b6d\" alt=\"Xcode Organizer\"></p>\n<p>As of Xcode 15, you will make the following choices:</p>\n<ol>\n<li>“Custom” as the distribution method.\n<img src=\"https://github.com/shorebirdtech/docs/assets/581764/8b049b0b-d6f5-419e-a91f-511923997f50\" alt=\"Xcode distribution method 1\"></li>\n<li>“App Store Connect” as the distribution method.\n<img src=\"https://github.com/shorebirdtech/docs/assets/581764/4fd6821a-80b4-4a35-b081-e8f97c59b8a2\" alt=\"Xcode distribution method 2\"></li>\n<li>“Upload” as the destination.\n<img src=\"https://github.com/shorebirdtech/docs/assets/581764/f05c3603-c045-4662-84ad-c0a218e7145b\" alt=\"Upload destination\"></li>\n<li>A few distribution options that are up to you. Importantly, <strong>Manage Version and Build Number must be unchecked for Shorebird to work</strong>. Because Shorebird targets patches at specific release versions, changing the version or build number will prevent your app from receiving patches.\n<img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/c6ae0857-7ad8-4a8f-ae8b-55d05d52f3b3\" alt=\"Xcode distribution options\"></li>\n<li>Automatically manage signing or manually manage signing. This is up to you. If you choose to manually manage signing, you will need to select the appropriate development team, provisioning profile, and signing certificate for your app.</li>\n<li>Confirm the upload.</li>\n</ol>\n<p>Xcode will upload your archive, and if no issues are found, will show a message telling you that the upload was successful:</p>\n<p><img src=\"https://github.com/shorebirdtech/shorebird/assets/581764/678354e5-a445-4c55-94fc-7608ff0b241d\" alt=\"Xcode upload succeeded\"></p>\n<p>After a short delay (usually a minute or two), you will see the build listed as “Processing” in App Store Connect:</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/a87cdb31-9f8d-4838-b21b-38a3dbf9dcd1\" alt=\"App Store Connect Processing\"></p>\n<p>Once the app has finished processing, we can add it to our release:</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/da2f1253-610b-4ee5-abb4-7c088da1631c\" alt=\"App Store Connect add build\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"submit-the-app-for-review\">Submit the app for review</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#submit-the-app-for-review\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>When we attempt to submit the app for review, App Store Connect will list the issues we need to resolve before we can submit the app:</p>\n<p><img src=\"https://github.com/shorebirdtech/docs/assets/581764/576459e0-3212-4ead-8388-eabb3b01c68a\" alt=\"App Store Connect review issues\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"after-the-release-is-approved\">After the release is approved</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#after-the-release-is-approved\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Once the release has been approved, you will be able to download it from the App Store.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-patch\">Creating a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#creating-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patches can be pushed to fix bugs in the <code dir=\"auto\">App Store</code> release without requiring a new submission to the App Store.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"make-code-changes\">Make code changes</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#make-code-changes\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>For the purposes of this guide, we will change the default clock face to <code dir=\"auto\">generative</code> in <code dir=\"auto\">lib/main.dart</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">(clock) =&gt; clock.name == clockName,</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">orElse: () =&gt; ClockFace.particle,</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">orElse: () =&gt; ClockFace.generative,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  (clock) => clock.name == clockName,  orElse: () => ClockFace.particle,  orElse: () => ClockFace.generative,);\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"create-a-shorebird-patch\">Create a Shorebird patch</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/submitting/app-store/#create-a-shorebird-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To make this patch available to your users, run <code dir=\"auto\">shorebird patch ios</code>.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird patch ios</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.4s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Building release (61.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detected release version 1.0.4+1 (44ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching releases (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching Flutter revision (23ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🚀 Ready to publish a new patch!</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📱 App: time_shift (f2184ee6-9a85-498c-bfeb-114d638c462e)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📦 Release Version: 1.0.4+1</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">📺 Channel: stable</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">🕹️ Platform: ios [aarch64 (4.17 MB)]</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Would you like to continue? (y/N) Yes</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Creating patch (72ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Uploading artifacts (0.5s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching channels (58ms)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Promoting patch to stable (61ms)</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✅ Published Patch!</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird patch ios✓ Fetching apps (0.4s)✓ Building release (61.5s)✓ Detected release version 1.0.4+1 (44ms)✓ Fetching releases (0.1s)✓ Fetching Flutter revision (23ms)🚀 Ready to publish a new patch!📱 App: time_shift (f2184ee6-9a85-498c-bfeb-114d638c462e)📦 Release Version: 1.0.4+1📺 Channel: stable🕹️ Platform: ios [aarch64 (4.17 MB)]Would you like to continue? (y/N) Yes✓ Creating patch (72ms)✓ Uploading artifacts (0.5s)✓ Fetching channels (58ms)✓ Promoting patch to stable (61ms)✅ Published Patch!\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/submitting/app-store/#_top",
      "https://github.com/shorebirdtech/time_shift/",
      "https://docs.shorebird.dev/guides/submitting/app-store/#prerequisites",
      "https://docs.shorebird.dev/",
      "https://appstoreconnect.apple.com/",
      "https://developer.apple.com/help/app-store-connect/create-an-app-record/add-a-new-app",
      "https://developer.apple.com/account/resources/certificates/add",
      "https://developer.apple.com/help/account/manage-provisioning-profiles/create-an-app-store-provisioning-profile",
      "https://docs.shorebird.dev/guides/submitting/app-store/#specify-a-development-team-in-xcode",
      "https://docs.shorebird.dev/guides/submitting/app-store/#creating-a-release",
      "https://docs.shorebird.dev/guides/submitting/app-store/#determine-the-release-version",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/guides/submitting/app-store/#create-a-release-in-app-store-connect",
      "https://developer.apple.com/help/app-store-connect/update-your-app/create-a-new-version",
      "https://docs.shorebird.dev/guides/submitting/app-store/#update-the-version-in-pubspecyaml",
      "https://docs.shorebird.dev/guides/submitting/app-store/#create-a-shorebird-release",
      "https://docs.shorebird.dev/guides/submitting/app-store/#upload-to-the-app-store",
      "https://docs.shorebird.dev/guides/submitting/app-store/#submit-the-app-for-review",
      "https://docs.shorebird.dev/guides/submitting/app-store/#after-the-release-is-approved",
      "https://docs.shorebird.dev/guides/submitting/app-store/#creating-a-patch",
      "https://docs.shorebird.dev/guides/submitting/app-store/#make-code-changes",
      "https://docs.shorebird.dev/guides/submitting/app-store/#create-a-shorebird-patch"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/submitting/app-store/#_top)\n\n# Releasing to the Apple App Store\n\nThis guide walks through releasing a code push app to the Apple App Store and applying a patch to that release.\n\nThe app we will be releasing in this guide is Shorebird Clock, our demo code push app. ( [source](https://github.com/shorebirdtech/time_shift/))\n\n## Prerequisites\n\nTo follow along with this guide, you will need the following:\n\n1. An existing Shorebird app. If you don’t have one, you can create one by following the [code push quickstart](https://docs.shorebird.dev/) guide.\n2. Access to hardware running macOS. This is required to build iOS apps.\n3. A valid Apple Developer account. This is required to release iOS apps.\n4. An app in [App Store Connect](https://appstoreconnect.apple.com/). See the [official documentation](https://developer.apple.com/help/app-store-connect/create-an-app-record/add-a-new-app) for more information about how to create one.\n5. An iOS Distribution certificate. You can create one at [https://developer.apple.com/account/resources/certificates/add](https://developer.apple.com/account/resources/certificates/add).\n6. An iOS App Store provisioning profile. See the [official documentation](https://developer.apple.com/help/account/manage-provisioning-profiles/create-an-app-store-provisioning-profile) for instructions on how to create one.\n\n### Specify a development team in Xcode\n\nTo build an iOS app for distribution, we need to specify a development team in Xcode. Open `ios/Runner.xcworkspace` in Xcode and select the `Runner` target:\n\n![Xcode development team](https://github.com/shorebirdtech/docs/assets/581764/786b1def-6198-4be0-90ac-d307e9b1a289)\n\n## Creating a release\n\n### Determine the release version\n\nNavigate to your app on the [Shorebird console](https://console.shorebird.dev/)\nto see the current set of releases. For our app, we see that the latest release\nversion is `1.0.3+1`, so the version of our next release will be `1.0.4+1`.\n\n### Create a release in App Store Connect\n\nBecause the App Store does not include the build number (the `+1` part of `1.0.4+1`) in app versions, this will show up in the App Store as `1.0.4`. Follow the instructions in the [official documentation](https://developer.apple.com/help/app-store-connect/update-your-app/create-a-new-version) to create a new version in App Store Connect.\n\n![App Store Connect version](https://github.com/shorebirdtech/docs/assets/581764/549a42ac-0202-4c72-a9a9-d0196a0308b6)\n\n### Update the version in `pubspec.yaml`\n\nUpdate the version in `pubspec.yaml` to `1.0.4+1`:\n\n```\n\nname: shorebird_clock\n\ndescription: A demo app for Shorebird\n\n version: 1.0.3+1\n\n version: 1.0.4+1\n```\n\n### Create a Shorebird release\n\nCreate a Shorebird release by running the `shorebird release ios` command:\n\n```\n\n$ shorebird release ios\n\n✓ Fetching apps (0.1s)\n\n✓ Building release (56.2s)\n\n✓ Getting release version (37ms)\n\n✓ Fetching releases (0.1s)\n\n🚀 Ready to create a new release!\n\n📱 App: time_shift (f2184ee6-9a85-498c-bfeb-114d638c462e)\n\n📦 Release Version: 1.0.4+1\n\n🕹️ Platform: ios\n\nWould you like to continue? (y/N) Yes\n\n✓ Fetching Flutter revision (36ms)\n\n✓ Creating release (0.2s)\n\n✓ Creating artifacts (8.0s)\n\n✓ Updating release status (57ms)\n\n✅ Published Release!\n\nYour next step is to upload your app to App Store Connect.\n\nTo upload to the App Store, do one of the following:\n\n    1. Open build/ios/archive/Runner.xcarchive in Xcode and use the \"Distribute App\" flow.\n\n    2. Drag and drop the build/ios/ipa/time_shift.ipa bundle into the Apple Transporter macOS app (https://apps.apple.com/us/app/transporter/id1450874784).\n\n    3. Run xcrun altool --upload-app --type ios -f build/ios/ipa/time_shift.ipa --apiKey your_api_key --apiIssuer your_issuer_id.\n\n       See \"man altool\" for details about how to authenticate with the App Store Connect API key.\n```\n\n## Upload to the App Store\n\nOpen the .xcarchive in Xcode and use the “Distribute App” flow:\n\n![Xcode Organizer](https://github.com/shorebirdtech/shorebird/assets/581764/eafebdee-0e26-410a-8997-4eed056d4b6d)\n\nAs of Xcode 15, you will make the following choices:\n\n1. “Custom” as the distribution method.\n![Xcode distribution method 1](https://github.com/shorebirdtech/docs/assets/581764/8b049b0b-d6f5-419e-a91f-511923997f50)\n2. “App Store Connect” as the distribution method.\n![Xcode distribution method 2](https://github.com/shorebirdtech/docs/assets/581764/4fd6821a-80b4-4a35-b081-e8f97c59b8a2)\n3. “Upload” as the destination.\n![Upload destination](https://github.com/shorebirdtech/docs/assets/581764/f05c3603-c045-4662-84ad-c0a218e7145b)\n4. A few distribution options that are up to you. Importantly, **Manage Version and Build Number must be unchecked for Shorebird to work**. Because Shorebird targets patches at specific release versions, changing the version or build number will prevent your app from receiving patches.\n![Xcode distribution options](https://github.com/shorebirdtech/shorebird/assets/581764/c6ae0857-7ad8-4a8f-ae8b-55d05d52f3b3)\n5. Automatically manage signing or manually manage signing. This is up to you. If you choose to manually manage signing, you will need to select the appropriate development team, provisioning profile, and signing certificate for your app.\n6. Confirm the upload.\n\nXcode will upload your archive, and if no issues are found, will show a message telling you that the upload was successful:\n\n![Xcode upload succeeded](https://github.com/shorebirdtech/shorebird/assets/581764/678354e5-a445-4c55-94fc-7608ff0b241d)\n\nAfter a short delay (usually a minute or two), you will see the build listed as “Processing” in App Store Connect:\n\n![App Store Connect Processing](https://github.com/shorebirdtech/docs/assets/581764/a87cdb31-9f8d-4838-b21b-38a3dbf9dcd1)\n\nOnce the app has finished processing, we can add it to our release:\n\n![App Store Connect add build](https://github.com/shorebirdtech/docs/assets/581764/da2f1253-610b-4ee5-abb4-7c088da1631c)\n\n## Submit the app for review\n\nWhen we attempt to submit the app for review, App Store Connect will list the issues we need to resolve before we can submit the app:\n\n![App Store Connect review issues](https://github.com/shorebirdtech/docs/assets/581764/576459e0-3212-4ead-8388-eabb3b01c68a)\n\n## After the release is approved\n\nOnce the release has been approved, you will be able to download it from the App Store.\n\n## Creating a patch\n\nPatches can be pushed to fix bugs in the `App Store` release without requiring a new submission to the App Store.\n\n### Make code changes\n\nFor the purposes of this guide, we will change the default clock face to `generative` in `lib/main.dart`:\n\n```\n\n  (clock) => clock.name == clockName,\n\n  orElse: () => ClockFace.particle,\n\n  orElse: () => ClockFace.generative,\n\n);\n```\n\n### Create a Shorebird patch\n\nTo make this patch available to your users, run `shorebird patch ios`.\n\n```\n\n$ shorebird patch ios\n\n✓ Fetching apps (0.4s)\n\n✓ Building release (61.5s)\n\n✓ Detected release version 1.0.4+1 (44ms)\n\n✓ Fetching releases (0.1s)\n\n✓ Fetching Flutter revision (23ms)\n\n🚀 Ready to publish a new patch!\n\n📱 App: time_shift (f2184ee6-9a85-498c-bfeb-114d638c462e)\n\n📦 Release Version: 1.0.4+1\n\n📺 Channel: stable\n\n🕹️ Platform: ios [aarch64 (4.17 MB)]\n\nWould you like to continue? (y/N) Yes\n\n✓ Creating patch (72ms)\n\n✓ Uploading artifacts (0.5s)\n\n✓ Fetching channels (58ms)\n\n✓ Promoting patch to stable (61ms)\n\n✅ Published Patch!\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/submitting/app-store/",
      "ogUrl": "https://docs.shorebird.dev/guides/submitting/app-store/",
      "title": "Releasing to the Apple App Store | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/submitting/app-store/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Releasing to the Apple App Store",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Releasing to the Apple App Store",
      "ogLocale": "en",
      "scrapeId": "9c473fb2-ce76-46f5-b8c8-8a5ac3da1991",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/submitting/app-store/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Release a Code Push App to the Apple App Store",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Release a Code Push App to the Apple App Store",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Release a Code Push App to the Apple App Store"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/troubleshooting/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Troubleshooting</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Find help for issues with Shorebird.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"i-created-a-patch-but-its-not-showing-up-in-my-app\">I created a patch, but it’s not showing up in my app</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#i-created-a-patch-but-its-not-showing-up-in-my-app\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Your first step in debugging should be to check your app’s logs. Instructions\nfor this can be found at <a href=\"https://shorebird.dev/blog/viewing-logs/\">https://shorebird.dev/blog/viewing-logs/</a>.</p>\n<p>You should see logs prefixed with <code dir=\"auto\">[shorebird]</code>. If you do not see <code dir=\"auto\">[shorebird]</code>\nin your logs, the app you are running was not built using <code dir=\"auto\">shorebird release</code>\nand cannot receive patches. You will need to redistribute your app using a\nbinary created by <code dir=\"auto\">shorebird release</code>.</p>\n<p>If you do see Shorebird in your logs, you’ll want to look for a a line that\nincludes the patch check request being made. It looks like:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Sending patch check request: PatchCheckRequest {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">app_id: \"&lt;your app id&gt;\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">channel: \"stable\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">release_version: \"1.0.3+16\", &lt;-- this is the release version</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">patch_number: &lt;some patch number&gt;,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">platform: \"android\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">arch: \"aarch64\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Sending patch check request: PatchCheckRequest {  app_id: &quot;<your app id>&quot;,  channel: &quot;stable&quot;,  release_version: &quot;1.0.3+16&quot;, <-- this is the release version  patch_number: <some patch number>,  platform: &quot;android&quot;,  arch: &quot;aarch64&quot;}\"><div></div></button></div></figure></div>\n<p>If the release version is the version you expect to see, check the <a href=\"https://console.shorebird.dev/\">Shorebird\nConsole</a> to ensure that this release exists for\nthe given app id and that it has a patch. Please contact us on Discord if such\na patch exists and is not being applied.</p>\n<p>Common issues:</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"the-patch-was-created-for-a-different-release-version-than-the-one-running-on-your-deviceemulator\">The patch was created for a different release version than the one running on your device/emulator.</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#the-patch-was-created-for-a-different-release-version-than-the-one-running-on-your-deviceemulator\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Patches are only compatible with the release version they were created for. If\nyou create a patch for version <code dir=\"auto\">1.0.0+1</code>, it will not work on version <code dir=\"auto\">1.0.0+2</code>.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"how-to-tell-if-this-is-the-problem\">How to tell if this is the problem</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#how-to-tell-if-this-is-the-problem\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You will see <code dir=\"auto\">Shorebird updater: no active patch</code> in your device logs.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h4\"><h4 id=\"how-to-fix-it\">How to fix it</h4><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#how-to-fix-it\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Ensure that the version of your app on your device/emulator matches the version\nof the release you patched. You can see what release version your app is running\nby looking in the device logs for a patch check request:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Sending patch check request: PatchCheckRequest {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">app_id: \"&lt;your app id&gt;\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">channel: \"stable\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">release_version: \"1.0.3+16\", &lt;-- this is the release version</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">patch_number: &lt;some patch number&gt;,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">platform: \"android\",</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">  </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">arch: \"aarch64\"</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Sending patch check request: PatchCheckRequest {  app_id: &quot;<your app id>&quot;,  channel: &quot;stable&quot;,  release_version: &quot;1.0.3+16&quot;, <-- this is the release version  patch_number: <some patch number>,  platform: &quot;android&quot;,  arch: &quot;aarch64&quot;}\"><div></div></button></div></figure></div>\n<p>Only patches created for this release version will be compatible with your app.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"i-installed-shorebird-and-now-i-cant-run-my-app-in-vs-code\">I installed Shorebird, and now I can’t run my app in VS Code</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#i-installed-shorebird-and-now-i-cant-run-my-app-in-vs-code\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you see error output like the following when using the Run or Debug button in\nVS Code:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">FAILURE: Build failed with an exception.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">* What went wrong:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Execution failed for task ':app:checkDebugAarMetadata'.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">   </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">&gt; Could not find io.flutter:arm64_v8a_debug:1.0.0-4a5e8142f3e7368a48e4f6151cb7b1a684d6dd83.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">     </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">Searched in the following locations:</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"FAILURE: Build failed with an exception.* What went wrong:Execution failed for task ':app:checkDebugAarMetadata'.> Could not resolve all files for configuration ':app:debugRuntimeClasspath'.   > Could not find io.flutter:arm64_v8a_debug:1.0.0-4a5e8142f3e7368a48e4f6151cb7b1a684d6dd83.     Searched in the following locations:\"><div></div></button></div></figure></div>\n<p>It’s possible that VS Code is incorrectly using Shorebird’s version of Flutter\ninstead of the Flutter on your path (see\n<a href=\"https://github.com/Dart-Code/Dart-Code/issues/4607\">https://github.com/Dart-Code/Dart-Code/issues/4607</a>). You can fix this by\nexplicitly providing VS Code with the path to your Flutter installation. In your\n<code dir=\"auto\">settings.json</code> file, add the line:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"json\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#CE9178;--1:#032F62\">\"dart.flutterSdkPath\"</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">\"/path/to/flutter\"</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"&quot;dart.flutterSdkPath&quot;: &quot;/path/to/flutter&quot;\"><div></div></button></div></figure></div>\n<p>Where “/path/to/flutter” is the path to your Flutter installation. You can get\nthis by running <code dir=\"auto\">which flutter</code> in your terminal (or <code dir=\"auto\">where.exe flutter</code> on\nWindows) and removing the <code dir=\"auto\">/bin/flutter</code> from the end of that path.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"could-not-find-an-option-named-dart-define-when-using-the----separator\">Could not find an option named “dart define” when using the <code dir=\"auto\">--</code> separator</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#could-not-find-an-option-named-dart-define-when-using-the----separator\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Powershell handles the <code dir=\"auto\">--</code> separator differently than other shells (see\n<a href=\"https://stackoverflow.com/a/15788023\">this StackOverflow answer</a> for more\ninfo). To work around this, you can quote the <code dir=\"auto\">--</code> separator. For example:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">android</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">'--'</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--dart-define=foo=bar</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release android '--' --dart-define=foo=bar\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"shorebird-fails-to-install\">Shorebird fails to install</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#shorebird-fails-to-install\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>There are a number of reasons this might happen. Common causes are:</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"i-see-a-message-saying-that-git-stat-failed-because-a-file-was-too-long\">I see a message saying that <code dir=\"auto\">git stat</code> failed because a file was too long</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#i-see-a-message-saying-that-git-stat-failed-because-a-file-was-too-long\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This can happen on Windows due to Windows’ limit of 260 characters for a filename.</p>\n<p>You can fix this by running:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">git</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">config</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--system</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">core.longpaths</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">true</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git config --system core.longpaths true\"><div></div></button></div></figure></div>\n<p>You may need to run this as an administrator, and you will need to restart your\nterminal after running this command.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"my-ios-build-number-increments-when-i-try-to-make-a-release-or-patch\">My iOS build number increments when I try to make a release or patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#my-ios-build-number-increments-when-i-try-to-make-a-release-or-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This is likely because you are providing an export options .plist file that\nsets <code dir=\"auto\">manageAppVersionAndBuildNumber</code> to true. This is incompatible with\nShorebird because Shorebird requires that you maintain control over your app’s\nversion and build numbers in order to target patches at specific releases. You\ncan fix this problem by either setting <code dir=\"auto\">manageAppVersionAndBuildNumber</code> to false\nor removing the value from your export options .plist file.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"i-see-a-your-app-contains-asset-changes-warning-when-running-shorebird-patch\">I see a <code dir=\"auto\">Your app contains asset changes</code> warning when running <code dir=\"auto\">shorebird patch</code></h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#i-see-a-your-app-contains-asset-changes-warning-when-running-shorebird-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <code dir=\"auto\">shorebird patch</code> command will print a warning if it detects changes to\nfiles in your compiled app that correspond to asset changes (e.g. added or\nremoved images, fonts, etc.). This does not always mean that your patch will not\nwork, but shorebird cannot be sure that the changes are safe.</p>\n<p>Shorebird does not (yet) have the\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/318\">ability to patch assets</a>\nbut intends to add such in the future, at which time this warning may go away.</p>\n<p>An example of this warning:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Verifying patch can be applied to release (4.0s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">[WARN] The release artifact contains asset changes, which will not be included in the patch.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">Added files:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">        </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">base/assets/flutter_assets/assets/images/bg_button_disable.png</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">Changed files:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">        </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">base/assets/flutter_assets/AssetManifest.bin</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">        </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">base/assets/flutter_assets/AssetManifest.json</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">        </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">base/assets/flutter_assets/fonts/MaterialIcons-Regular.otf</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Continue anyways? (y/N)</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"✓ Verifying patch can be applied to release (4.0s)[WARN] The release artifact contains asset changes, which will not be included in the patch.    Added files:        base/assets/flutter_assets/assets/images/bg_button_disable.png    Changed files:        base/assets/flutter_assets/AssetManifest.bin        base/assets/flutter_assets/AssetManifest.json        base/assets/flutter_assets/fonts/MaterialIcons-Regular.otfContinue anyways? (y/N)\"><div></div></button></div></figure></div>\n<p>So what does this mean? In this case, it means I added a new image to my app.\nThe warning is because my patched Dart code could <em>depend</em> on those new assets\nwhich will not be present when the patch is applied in the wild. It can be safe\nto ignore this kind of warning if you’re removing an asset that is not used by\nyour code, or your Dart code knows how to handle the asset being missing.</p>\n<p>Also included in the above changes are the <code dir=\"auto\">AssetManifest</code> files. These files\nchange any time you add or remove an asset from your app, and are generally\na symptom rather than the cause of the warning.</p>\n<p>The final file changed above is the <code dir=\"auto\">MaterialIcons-Regular.otf</code> font file,\nwhich can happen if your app uses more or fewer icons from the Dart code.\nFlutter will automatically “tree shake” your fonts, so if you don’t use an icon\nin your Dart code, it will not be included in the final app. You can\ndisable this behavior with <code dir=\"auto\">--no-tree-shake-icons</code> at the risk of increasing\nyour app size. This type of warning will also go away once we add\n[<a href=\"https://github.com/shorebirdtech/shorebird/issues/318%5D(asset\">https://github.com/shorebirdtech/shorebird/issues/318](asset</a> patching).</p>\n<p>A type of change not shown above is one which changes .dex files on Android or\nthe <code dir=\"auto\">Runner.app</code> directory on iOS. These changes represent changes to the\nnative code of your app, and are not patchable by Shorebird. If you see this\nwarning, you should be very careful about publishing your patch, as it may\ncause your app to crash when the Dart code tries to call into native code\nwhich operates differently than expected. See</p>\n\n<p><a href=\"https://docs.shorebird.dev/troubleshooting/#i-see-a-your-app-contains-native-changes-warning-when-running-shorebird-patch-even-though-i-havent-changed-swiftobjective-ckotlinjava-code\">the next section</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-happens-if-i-ignore-this-warning\">What happens if I ignore this warning?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#what-happens-if-i-ignore-this-warning\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You can bypass this warning by passing the <code dir=\"auto\">--allow-asset-diffs</code> flag to the\n<code dir=\"auto\">shorebird patch</code> command.</p>\n<p>The consequences of ignoring this warning depend on the changes that were made.\nIn the tree-shaking example above, if you ignore the warning, your app will\nrender incorrectly if you use an icon that was not included in the release\nbuild. Any assets introduced in a patch will fail to load and your app may crash\nif it depends on them.</p>\n<p>If you are not sure whether your change is safe, you can\n<a href=\"https://docs.shorebird.dev/guides/staging-patches\">stage your patch</a> and test locally before deploying it\nto users.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"i-see-a-your-app-contains-native-changes-warning-when-running-shorebird-patch-even-though-i-havent-changed-swiftobjective-ckotlinjava-code\">I see a <code dir=\"auto\">Your app contains native changes</code> warning when running <code dir=\"auto\">shorebird patch</code>, even though I haven’t changed Swift/Objective-C/Kotlin/Java code</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#i-see-a-your-app-contains-native-changes-warning-when-running-shorebird-patch-even-though-i-havent-changed-swiftobjective-ckotlinjava-code\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The <code dir=\"auto\">shorebird patch</code> command will print a warning if it detects changes to\nfiles in your compiled app that correspond to native code changes (<code dir=\"auto\">.dex</code> files\non Android, files in the <code dir=\"auto\">Runner.app</code> directory on iOS). This does not always\nmean that your patch will not work, but because shorebird cannot be sure that\nthe changes are safe, and because shorebird can’t patch non-Dart code, it prints\na warning.</p>\n\n<p>This can be caused by a number of things. The most common causes are:</p>\n<ol>\n<li>\n<p>A dependency/plugin you are using has changed its native code. <strong>You should\nuse caution when publishing patches that include changes to native code from\nplugins. In the worst case, these changes may cause your patched app to\ncrash.</strong></p>\n\n</li>\n<li>\n<p>A dependency/plugin produces a different output on every build. This can\nhappen if the dependency it includes a timestamp indicating when it was\nbuilt, for example. This kind of change is usually safe to publish, but you\nshould be sure this is the only reason you are seeing this warning.</p>\n</li>\n<li>\n<p>(iOS only) The release was built with a different version of Xcode than the\npatch. This can be fixed by ensuring that you are using the same\nversion of Xcode to build the release and the patch. If you’ve upgraded to a\nnewer version of Xcode since building the release, you can download older\nversions of Xcode from\n<a href=\"https://developer.apple.com/download/all/\">Apple’s developer downloads page</a>.</p>\n</li>\n<li>\n<p>(iOS only) You are building with an old version of Xcode. Specifically, we’ve\nseen this warning when building with Xcode 14.1. If you are using a version\nof Xcode that is not the latest, try upgrading to the latest version.</p>\n</li>\n<li>\n<p>The version and build number of the patch do not match that of the release.\nFor example, if the release was built with version <code dir=\"auto\">1.0.0+1</code>, but the patch\nwas generated with version <code dir=\"auto\">1.0.0+2</code>, you might see this warning. We have\nimplemented some safeguards to make this less likely, but it’s worth\nverifying if you’re seeing this warning and you don’t know why.</p>\n</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-happens-if-i-ignore-this-warning-1\">What happens if I ignore this warning?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#what-happens-if-i-ignore-this-warning-1\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n\n<p>If the native code that changed does not interact with your Dart code or Flutter\nat all, the patch should run without issue.</p>\n<p>If you are not sure whether your change is safe, you can\n<a href=\"https://docs.shorebird.dev/guides/staging-patches\">stage your patch</a> and test locally before deploying it\nto users.</p>\n<p>If you are sure the changes are safe, you can bypass this warning by passing the\n<code dir=\"auto\">--allow-native-diffs</code> flag to the <code dir=\"auto\">shorebird patch</code> command.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"invalid-podfile-file-cannot-load-such-file-when-running-pod-install\">”Invalid <code dir=\"auto\">Podfile</code> file: cannot load such file” when running <code dir=\"auto\">pod install</code></h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#invalid-podfile-file-cannot-load-such-file-when-running-pod-install\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You might see this error message if the <code dir=\"auto\">FLUTTER_ROOT</code> definition in your\nproject’s <code dir=\"auto\">ios/Flutter/Generated.xcconfig</code> points to a Shorebird Flutter\ninstallation. This can be fixed by running any of:</p>\n<ol>\n<li><code dir=\"auto\">flutter clean</code>, or</li>\n<li><code dir=\"auto\">flutter build ios</code> in your project’s root directory, or</li>\n<li><code dir=\"auto\">flutter run</code> in your project’s root directory and targeting an iOS\nsimulator/device.</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"unsupported-class-file-major-version-65\">Unsupported class file major version 65</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#unsupported-class-file-major-version-65\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The error <code dir=\"auto\">Unsupported class file major version 65</code> (or 66—the number varies sometimes)\nhappens when gradle is being executed with an incompatible Java version.</p>\n<p>You can check the specific Gradle version that your app is using by running\n<code dir=\"auto\">shorebird doctor -v</code> inside the project folder. This command will also print the java version that\nshorebird is using.</p>\n<p>Refer to the <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\">official Gradle documentation</a>\nto check which Java version works with which Gradle release.</p>\n<ul>\n<li><a href=\"https://developer.android.com/studio\">Android Studio</a> comes with a bundled JDK which should be auto\ndetected by Shorebird and might be the easiest way of solving the issue.</li>\n<li>If in a GitHub Action, the <a href=\"https://github.com/actions/setup-java\">setup-java</a> action can help.</li>\n<li>Or try Installing the required Java version for your project’s Gradle release and set\nthe path where it was installed in the <code dir=\"auto\">JAVA_HOME</code> environment variable.</li>\n</ul>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"when-creating-an-ios-release-i-see-an-error-saying-that-im-missing-a-provisioning-profile-or-that-no-signing-team-was-found\">When creating an iOS release, I see an error saying that I’m missing a provisioning profile or that no signing team was found.</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#when-creating-an-ios-release-i-see-an-error-saying-that-im-missing-a-provisioning-profile-or-that-no-signing-team-was-found\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We address this issue in our <a href=\"https://docs.shorebird.dev/code-push/release\">releasing guide</a>. Take a look\nat the iOS section for more information.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"have-a-problem-thats-not-addressed-here\">Have a problem that’s not addressed here?</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/troubleshooting/#have-a-problem-thats-not-addressed-here\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We’re happy to help on <a href=\"https://discord.gg/shorebird\">Discord</a>!</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/troubleshooting/#_top",
      "https://docs.shorebird.dev/troubleshooting/#i-created-a-patch-but-its-not-showing-up-in-my-app",
      "https://shorebird.dev/blog/viewing-logs/",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/troubleshooting/#the-patch-was-created-for-a-different-release-version-than-the-one-running-on-your-deviceemulator",
      "https://docs.shorebird.dev/troubleshooting/#how-to-tell-if-this-is-the-problem",
      "https://docs.shorebird.dev/troubleshooting/#how-to-fix-it",
      "https://docs.shorebird.dev/troubleshooting/#i-installed-shorebird-and-now-i-cant-run-my-app-in-vs-code",
      "https://github.com/Dart-Code/Dart-Code/issues/4607",
      "https://docs.shorebird.dev/troubleshooting/#could-not-find-an-option-named-dart-define-when-using-the----separator",
      "https://stackoverflow.com/a/15788023",
      "https://docs.shorebird.dev/troubleshooting/#shorebird-fails-to-install",
      "https://docs.shorebird.dev/troubleshooting/#i-see-a-message-saying-that-git-stat-failed-because-a-file-was-too-long",
      "https://docs.shorebird.dev/troubleshooting/#my-ios-build-number-increments-when-i-try-to-make-a-release-or-patch",
      "https://docs.shorebird.dev/troubleshooting/#i-see-a-your-app-contains-asset-changes-warning-when-running-shorebird-patch",
      "https://github.com/shorebirdtech/shorebird/issues/318",
      "https://github.com/shorebirdtech/shorebird/issues/318%5D(asset",
      "https://docs.shorebird.dev/troubleshooting/#i-see-a-your-app-contains-native-changes-warning-when-running-shorebird-patch-even-though-i-havent-changed-swiftobjective-ckotlinjava-code",
      "https://docs.shorebird.dev/troubleshooting/#what-happens-if-i-ignore-this-warning",
      "https://docs.shorebird.dev/guides/staging-patches",
      "https://developer.apple.com/download/all/",
      "https://docs.shorebird.dev/troubleshooting/#what-happens-if-i-ignore-this-warning-1",
      "https://docs.shorebird.dev/troubleshooting/#invalid-podfile-file-cannot-load-such-file-when-running-pod-install",
      "https://docs.shorebird.dev/troubleshooting/#unsupported-class-file-major-version-65",
      "https://docs.gradle.org/current/userguide/compatibility.html",
      "https://developer.android.com/studio",
      "https://github.com/actions/setup-java",
      "https://docs.shorebird.dev/troubleshooting/#when-creating-an-ios-release-i-see-an-error-saying-that-im-missing-a-provisioning-profile-or-that-no-signing-team-was-found",
      "https://docs.shorebird.dev/code-push/release",
      "https://docs.shorebird.dev/troubleshooting/#have-a-problem-thats-not-addressed-here",
      "https://discord.gg/shorebird"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/troubleshooting/#_top)\n\n# Troubleshooting\n\nFind help for issues with Shorebird.\n\n## I created a patch, but it’s not showing up in my app\n\nYour first step in debugging should be to check your app’s logs. Instructions\nfor this can be found at [https://shorebird.dev/blog/viewing-logs/](https://shorebird.dev/blog/viewing-logs/).\n\nYou should see logs prefixed with `[shorebird]`. If you do not see `[shorebird]`\nin your logs, the app you are running was not built using `shorebird release`\nand cannot receive patches. You will need to redistribute your app using a\nbinary created by `shorebird release`.\n\nIf you do see Shorebird in your logs, you’ll want to look for a a line that\nincludes the patch check request being made. It looks like:\n\n```\n\nSending patch check request: PatchCheckRequest {\n\n  app_id: \"<your app id>\",\n\n  channel: \"stable\",\n\n  release_version: \"1.0.3+16\", <-- this is the release version\n\n  patch_number: <some patch number>,\n\n  platform: \"android\",\n\n  arch: \"aarch64\"\n\n}\n```\n\nIf the release version is the version you expect to see, check the [Shorebird\\\\\nConsole](https://console.shorebird.dev/) to ensure that this release exists for\nthe given app id and that it has a patch. Please contact us on Discord if such\na patch exists and is not being applied.\n\nCommon issues:\n\n### The patch was created for a different release version than the one running on your device/emulator.\n\nPatches are only compatible with the release version they were created for. If\nyou create a patch for version `1.0.0+1`, it will not work on version `1.0.0+2`.\n\n#### How to tell if this is the problem\n\nYou will see `Shorebird updater: no active patch` in your device logs.\n\n#### How to fix it\n\nEnsure that the version of your app on your device/emulator matches the version\nof the release you patched. You can see what release version your app is running\nby looking in the device logs for a patch check request:\n\n```\n\nSending patch check request: PatchCheckRequest {\n\n  app_id: \"<your app id>\",\n\n  channel: \"stable\",\n\n  release_version: \"1.0.3+16\", <-- this is the release version\n\n  patch_number: <some patch number>,\n\n  platform: \"android\",\n\n  arch: \"aarch64\"\n\n}\n```\n\nOnly patches created for this release version will be compatible with your app.\n\n## I installed Shorebird, and now I can’t run my app in VS Code\n\nIf you see error output like the following when using the Run or Debug button in\nVS Code:\n\n```\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\n\nExecution failed for task ':app:checkDebugAarMetadata'.\n\n> Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n\n   > Could not find io.flutter:arm64_v8a_debug:1.0.0-4a5e8142f3e7368a48e4f6151cb7b1a684d6dd83.\n\n     Searched in the following locations:\n```\n\nIt’s possible that VS Code is incorrectly using Shorebird’s version of Flutter\ninstead of the Flutter on your path (see\n[https://github.com/Dart-Code/Dart-Code/issues/4607](https://github.com/Dart-Code/Dart-Code/issues/4607)). You can fix this by\nexplicitly providing VS Code with the path to your Flutter installation. In your\n`settings.json` file, add the line:\n\n```\n\n\"dart.flutterSdkPath\": \"/path/to/flutter\"\n```\n\nWhere “/path/to/flutter” is the path to your Flutter installation. You can get\nthis by running `which flutter` in your terminal (or `where.exe flutter` on\nWindows) and removing the `/bin/flutter` from the end of that path.\n\n## Could not find an option named “dart define” when using the `--` separator\n\nPowershell handles the `--` separator differently than other shells (see\n[this StackOverflow answer](https://stackoverflow.com/a/15788023) for more\ninfo). To work around this, you can quote the `--` separator. For example:\n\n```\n\nshorebird release android '--' --dart-define=foo=bar\n```\n\n## Shorebird fails to install\n\nThere are a number of reasons this might happen. Common causes are:\n\n### I see a message saying that `git stat` failed because a file was too long\n\nThis can happen on Windows due to Windows’ limit of 260 characters for a filename.\n\nYou can fix this by running:\n\n```\n\ngit config --system core.longpaths true\n```\n\nYou may need to run this as an administrator, and you will need to restart your\nterminal after running this command.\n\n## My iOS build number increments when I try to make a release or patch\n\nThis is likely because you are providing an export options .plist file that\nsets `manageAppVersionAndBuildNumber` to true. This is incompatible with\nShorebird because Shorebird requires that you maintain control over your app’s\nversion and build numbers in order to target patches at specific releases. You\ncan fix this problem by either setting `manageAppVersionAndBuildNumber` to false\nor removing the value from your export options .plist file.\n\n## I see a `Your app contains asset changes` warning when running `shorebird patch`\n\nThe `shorebird patch` command will print a warning if it detects changes to\nfiles in your compiled app that correspond to asset changes (e.g. added or\nremoved images, fonts, etc.). This does not always mean that your patch will not\nwork, but shorebird cannot be sure that the changes are safe.\n\nShorebird does not (yet) have the\n[ability to patch assets](https://github.com/shorebirdtech/shorebird/issues/318)\nbut intends to add such in the future, at which time this warning may go away.\n\nAn example of this warning:\n\n```\n\n✓ Verifying patch can be applied to release (4.0s)\n\n[WARN] The release artifact contains asset changes, which will not be included in the patch.\n\n    Added files:\n\n        base/assets/flutter_assets/assets/images/bg_button_disable.png\n\n    Changed files:\n\n        base/assets/flutter_assets/AssetManifest.bin\n\n        base/assets/flutter_assets/AssetManifest.json\n\n        base/assets/flutter_assets/fonts/MaterialIcons-Regular.otf\n\nContinue anyways? (y/N)\n```\n\nSo what does this mean? In this case, it means I added a new image to my app.\nThe warning is because my patched Dart code could _depend_ on those new assets\nwhich will not be present when the patch is applied in the wild. It can be safe\nto ignore this kind of warning if you’re removing an asset that is not used by\nyour code, or your Dart code knows how to handle the asset being missing.\n\nAlso included in the above changes are the `AssetManifest` files. These files\nchange any time you add or remove an asset from your app, and are generally\na symptom rather than the cause of the warning.\n\nThe final file changed above is the `MaterialIcons-Regular.otf` font file,\nwhich can happen if your app uses more or fewer icons from the Dart code.\nFlutter will automatically “tree shake” your fonts, so if you don’t use an icon\nin your Dart code, it will not be included in the final app. You can\ndisable this behavior with `--no-tree-shake-icons` at the risk of increasing\nyour app size. This type of warning will also go away once we add\n\\[ [https://github.com/shorebirdtech/shorebird/issues/318\\](asset](https://github.com/shorebirdtech/shorebird/issues/318%5D(asset) patching).\n\nA type of change not shown above is one which changes .dex files on Android or\nthe `Runner.app` directory on iOS. These changes represent changes to the\nnative code of your app, and are not patchable by Shorebird. If you see this\nwarning, you should be very careful about publishing your patch, as it may\ncause your app to crash when the Dart code tries to call into native code\nwhich operates differently than expected. See\n\n[the next section](https://docs.shorebird.dev/troubleshooting/#i-see-a-your-app-contains-native-changes-warning-when-running-shorebird-patch-even-though-i-havent-changed-swiftobjective-ckotlinjava-code).\n\n### What happens if I ignore this warning?\n\nYou can bypass this warning by passing the `--allow-asset-diffs` flag to the\n`shorebird patch` command.\n\nThe consequences of ignoring this warning depend on the changes that were made.\nIn the tree-shaking example above, if you ignore the warning, your app will\nrender incorrectly if you use an icon that was not included in the release\nbuild. Any assets introduced in a patch will fail to load and your app may crash\nif it depends on them.\n\nIf you are not sure whether your change is safe, you can\n[stage your patch](https://docs.shorebird.dev/guides/staging-patches) and test locally before deploying it\nto users.\n\n## I see a `Your app contains native changes` warning when running `shorebird patch`, even though I haven’t changed Swift/Objective-C/Kotlin/Java code\n\nThe `shorebird patch` command will print a warning if it detects changes to\nfiles in your compiled app that correspond to native code changes ( `.dex` files\non Android, files in the `Runner.app` directory on iOS). This does not always\nmean that your patch will not work, but because shorebird cannot be sure that\nthe changes are safe, and because shorebird can’t patch non-Dart code, it prints\na warning.\n\nThis can be caused by a number of things. The most common causes are:\n\n1. A dependency/plugin you are using has changed its native code. **You should**\n**use caution when publishing patches that include changes to native code from**\n**plugins. In the worst case, these changes may cause your patched app to**\n**crash.**\n\n2. A dependency/plugin produces a different output on every build. This can\nhappen if the dependency it includes a timestamp indicating when it was\nbuilt, for example. This kind of change is usually safe to publish, but you\nshould be sure this is the only reason you are seeing this warning.\n\n3. (iOS only) The release was built with a different version of Xcode than the\npatch. This can be fixed by ensuring that you are using the same\nversion of Xcode to build the release and the patch. If you’ve upgraded to a\nnewer version of Xcode since building the release, you can download older\nversions of Xcode from\n[Apple’s developer downloads page](https://developer.apple.com/download/all/).\n\n4. (iOS only) You are building with an old version of Xcode. Specifically, we’ve\nseen this warning when building with Xcode 14.1. If you are using a version\nof Xcode that is not the latest, try upgrading to the latest version.\n\n5. The version and build number of the patch do not match that of the release.\nFor example, if the release was built with version `1.0.0+1`, but the patch\nwas generated with version `1.0.0+2`, you might see this warning. We have\nimplemented some safeguards to make this less likely, but it’s worth\nverifying if you’re seeing this warning and you don’t know why.\n\n\n### What happens if I ignore this warning?\n\nIf the native code that changed does not interact with your Dart code or Flutter\nat all, the patch should run without issue.\n\nIf you are not sure whether your change is safe, you can\n[stage your patch](https://docs.shorebird.dev/guides/staging-patches) and test locally before deploying it\nto users.\n\nIf you are sure the changes are safe, you can bypass this warning by passing the\n`--allow-native-diffs` flag to the `shorebird patch` command.\n\n## ”Invalid `Podfile` file: cannot load such file” when running `pod install`\n\nYou might see this error message if the `FLUTTER_ROOT` definition in your\nproject’s `ios/Flutter/Generated.xcconfig` points to a Shorebird Flutter\ninstallation. This can be fixed by running any of:\n\n1. `flutter clean`, or\n2. `flutter build ios` in your project’s root directory, or\n3. `flutter run` in your project’s root directory and targeting an iOS\nsimulator/device.\n\n## Unsupported class file major version 65\n\nThe error `Unsupported class file major version 65` (or 66—the number varies sometimes)\nhappens when gradle is being executed with an incompatible Java version.\n\nYou can check the specific Gradle version that your app is using by running\n`shorebird doctor -v` inside the project folder. This command will also print the java version that\nshorebird is using.\n\nRefer to the [official Gradle documentation](https://docs.gradle.org/current/userguide/compatibility.html)\nto check which Java version works with which Gradle release.\n\n- [Android Studio](https://developer.android.com/studio) comes with a bundled JDK which should be auto\ndetected by Shorebird and might be the easiest way of solving the issue.\n- If in a GitHub Action, the [setup-java](https://github.com/actions/setup-java) action can help.\n- Or try Installing the required Java version for your project’s Gradle release and set\nthe path where it was installed in the `JAVA_HOME` environment variable.\n\n## When creating an iOS release, I see an error saying that I’m missing a provisioning profile or that no signing team was found.\n\nWe address this issue in our [releasing guide](https://docs.shorebird.dev/code-push/release). Take a look\nat the iOS section for more information.\n\n## Have a problem that’s not addressed here?\n\nWe’re happy to help on [Discord](https://discord.gg/shorebird)!",
    "metadata": {
      "url": "https://docs.shorebird.dev/troubleshooting/",
      "ogUrl": "https://docs.shorebird.dev/troubleshooting/",
      "title": "Troubleshooting | Shorebird",
      "og:url": "https://docs.shorebird.dev/troubleshooting/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Troubleshooting",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Troubleshooting",
      "ogLocale": "en",
      "scrapeId": "16ad9e42-25cf-45e0-9ec0-5e324e2da12e",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/troubleshooting",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Fixes for common Shorebird issues",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Fixes for common Shorebird issues",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Fixes for common Shorebird issues"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/status/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Status</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>There are no known major issues with Shorebird on iOS or Android.</p>\n<p>Issues affecting some customers:</p>\n<ul>\n<li><code dir=\"auto\">--obfuscate</code> does not work with iOS builds on Shorebird.\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/1619\">https://github.com/shorebirdtech/shorebird/issues/1619</a></li>\n</ul>\n<p>A full list of reported issues and feature requests is available on GitHub:\n<a href=\"https://github.com/shorebirdtech/shorebird/\">https://github.com/shorebirdtech/shorebird/</a></p>\n<p>You can see our project boards with scheduled work on GitHub:\n<a href=\"https://github.com/orgs/shorebirdtech/projects/\">https://github.com/orgs/shorebirdtech/projects/</a></p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/status/#_top",
      "https://github.com/shorebirdtech/shorebird/issues/1619",
      "https://github.com/shorebirdtech/shorebird/",
      "https://github.com/orgs/shorebirdtech/projects/"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/status/#_top)\n\n# Status\n\nThere are no known major issues with Shorebird on iOS or Android.\n\nIssues affecting some customers:\n\n- `--obfuscate` does not work with iOS builds on Shorebird.\n[https://github.com/shorebirdtech/shorebird/issues/1619](https://github.com/shorebirdtech/shorebird/issues/1619)\n\nA full list of reported issues and feature requests is available on GitHub:\n[https://github.com/shorebirdtech/shorebird/](https://github.com/shorebirdtech/shorebird/)\n\nYou can see our project boards with scheduled work on GitHub:\n[https://github.com/orgs/shorebirdtech/projects/](https://github.com/orgs/shorebirdtech/projects/)",
    "metadata": {
      "url": "https://docs.shorebird.dev/status/",
      "ogUrl": "https://docs.shorebird.dev/status/",
      "title": "Status | Shorebird",
      "og:url": "https://docs.shorebird.dev/status/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Status",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Status",
      "ogLocale": "en",
      "scrapeId": "27440a00-bc5f-41a9-989a-def215b3611f",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/status",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Status of the Shorebird project.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Status of the Shorebird project.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Status of the Shorebird project."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/faq/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">FAQ</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  \n<p>If you have questions not answered here, please ask! Both filing an issue\nor asking on <a href=\"https://discord.gg/shorebird\">Discord</a> work.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-is-the-difference-between-a-patch-and-a-release\">What is the difference between a patch and a release?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-is-the-difference-between-a-patch-and-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We use the term “release” to mean preparing a binary for the app stores. In\norder to later generate a patch Shorebird needs to know the exact binary that\nwas shipped to the app stores. The <code dir=\"auto\">shorebird release</code> command is used to\nprepare a binary for the app stores which includes the Shorebird updater.</p>\n<p>We use the term “patch” to mean a binary that can be applied to a release to\nupdate it to new code. The <code dir=\"auto\">shorebird patch</code> command is used to generate\na patch from your new local code which is then diffed with the release binary\nto generate a patch which is then shipped to your users.</p>\n<p>We explain more of these terms in <a href=\"https://docs.shorebird.dev/code-push/overview\">Overview</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-use-shorebird-in-my-country\">Can I use Shorebird in my country?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-use-shorebird-in-my-country\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We have not attempted to restrict access to Shorebird from any country.</p>\n<p>We recognize that some countries have restrictions on what urls can be accessed\nfrom within the country. Shorebird currently uses Google Cloud for hosting,\nincluding Google Cloud Storage and Google Cloud Run.</p>\n<p>The following URLs are used by Shorebird:</p>\n<ul>\n<li><a href=\"https://console.shorebird.dev/\">https://console.shorebird.dev</a> — used to interact with Shorebird’s services\nvia the web.</li>\n<li><a href=\"https://api.shorebird.dev/\">https://api.shorebird.dev</a> — used by the <code dir=\"auto\">shorebird</code> command line tools to\ninteract with the Shorebird servers as well as the Shorebird updater on users’\ndevices to check for updates.</li>\n<li><a href=\"https://download.shorebird.dev/\">https://download.shorebird.dev</a> — used by the <code dir=\"auto\">shorebird</code> command line tool to\ndownload Flutter artifacts for building releases and patches.</li>\n<li><a href=\"https://storage.googleapis.com/\">https://storage.googleapis.com</a> — used by the <code dir=\"auto\">shorebird</code> command line tool to\nupload and download release and patch artifacts, and by the Shorebird updater\non user’s devices to download the patches.</li>\n<li><a href=\"https://cdn.shorebird.cloud/\">https://cdn.shorebird.cloud/</a> — used by the Shorebird updater when downloading\npatches to a user’s device.</li>\n</ul>\n<p>Shorebird also uses Microsoft or Google OAuth login, which have their own\nrequired urls for login (e.g. login.microsoftonline.com or oauth.google.com).</p>\n<p>All traffic to and from Shorebird servers travels over https (port 443) and is\nencrypted using standard Transport Security Layer / Secure Sockets Layer\n(TSL/SSL) protocols.</p>\n<p>If all of those URLs are accessible from your country, then Shorebird should work.</p>\n<p>If your region requires use of\n<a href=\"https://docs.flutter.dev/community/china\">FLUTTER_STORAGE_BASE_URL</a> Shorebird\nmay not work for you at this time as we also use that environment variable as\npart of our implementation. We have plans to <a href=\"https://github.com/shorebirdtech/shorebird/issues/435\">remove this\nrestriction</a>, let us know\nif this is important to you.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-shorebird-comply-with-play-store-guidelines\">Does Shorebird comply with Play Store guidelines?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-shorebird-comply-with-play-store-guidelines\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes.</p>\n<p>The Play Store offers two restrictions relating to update tools.</p>\n<ol>\n<li>Updates must use an interpreter or virtual machine (Shorebird\nuses the Dart Virtual Machine).\n<a href=\"https://support.google.com/googleplay/android-developer/answer/9888379?hl=en\">https://support.google.com/googleplay/android-developer/answer/9888379?hl=en</a></li>\n</ol>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">An app distributed via Google Play may not modify, replace, or update itself</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">using any method other than Google Play's update mechanism. Likewise, an app</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">may not download executable code (such as dex, JAR, .so files) from a</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">source other than Google Play. *This restriction does not apply to code</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">that runs in a virtual machine or an interpreter* where either provides</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">indirect access to Android APIs (such as JavaScript in a webview or</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">browser).</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">Apps or third-party code, like SDKs, with interpreted languages (JavaScript,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">Python, Lua, etc.) loaded at run time (for example, not packaged with the</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#d4d4d4;--1:#24292e\">    </span></span><span style=\"--0:#d4d4d4;--1:#24292e\">app) must not allow potential violations of Google Play policies.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"    An app distributed via Google Play may not modify, replace, or update itself    using any method other than Google Play's update mechanism. Likewise, an app    may not download executable code (such as dex, JAR, .so files) from a    source other than Google Play. *This restriction does not apply to code    that runs in a virtual machine or an interpreter* where either provides    indirect access to Android APIs (such as JavaScript in a webview or    browser).    Apps or third-party code, like SDKs, with interpreted languages (JavaScript,    Python, Lua, etc.) loaded at run time (for example, not packaged with the    app) must not allow potential violations of Google Play policies.\"><div></div></button></div></figure></div>\n<ol start=\"2\">\n<li>Changes to the app must not be deceptive (e.g. changing the purpose of\nthe app via update).\n<a href=\"https://support.google.com/googleplay/android-developer/answer/9888077\">https://support.google.com/googleplay/android-developer/answer/9888077</a>\nPlease be clear with your users about what you are providing with your\napplication and do not violate their expectations with\nsignificant behavioral changes through the use of Shorebird.</li>\n</ol>\n<p>Shorebird is designed to be compatible with the Play Store guidelines. However\nShorebird is a tool, and as with any tool, can be abused. Deliberately abusing\nShorebird to violate Play Store guidelines is in violation of the Shorebird\n<a href=\"https://shorebird.dev/terms\">Terms of Service</a> and can result in termination of\nyour account.</p>\n<p>Code push services are widely used in the industry (all of the large\napps I’m aware of use them) and there are multiple other code push services\npublicly available (e.g. expo.dev &amp; appcenter.ms). This is a well trodden path.</p>\n<p>Microsoft also publishes a guide on how their React Native “codepush” library\ncomplies with the app stores:\n<a href=\"https://github.com/microsoft/react-native-code-push#store-guideline-compliance\">https://github.com/microsoft/react-native-code-push#store-guideline-compliance</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-shorebird-comply-with-app-store-guidelines\">Does Shorebird comply with App Store guidelines?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-shorebird-comply-with-app-store-guidelines\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes.</p>\n<p>Similar to the Play Store, the App Store offers both technical and policy\nrestrictions.</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">3.2.2</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">... interpreted code may be downloaded to an Application but only so long as</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">such code:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">(a) does not change the primary purpose of the Application by providing</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">features or functionality that are inconsistent with the intended and</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">advertised purpose of the Application as submitted to the App Store,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">(b) does not create a store or storefront for other code or applications, and</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">(c) does not bypass signing, sandbox, or other security features of the OS.</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"3.2.2... interpreted code may be downloaded to an Application but only so long assuch code:(a) does not change the primary purpose of the Application by providingfeatures or functionality that are inconsistent with the intended andadvertised purpose of the Application as submitted to the App Store,(b) does not create a store or storefront for other code or applications, and(c) does not bypass signing, sandbox, or other security features of the OS.\"><div></div></button></div></figure></div>\n<p>Shorebird uses a custom Dart interpreter to comply with the interpreter-only\nrestriction for updates on iOS. So long as your application is not engaging\nin deceptive behavior via updates (e.g. changing the purpose of the app via\nupdate), updating via Shorebird (or any other code push solution) is standard\nindustry practice and compliant with App Store guidelines.</p>\n<p>Deliberately abusing Shorebird to violate App Store guidelines is in violation\nof the Shorebird <a href=\"https://shorebird.dev/terms\">Terms of Service</a> and can result\nin termination of your account.</p>\n<p>Microsoft also publishes a guide on how their react native “codepush” library\ncomplies with the app stores:\n<a href=\"https://github.com/microsoft/react-native-code-push#store-guideline-compliance\">https://github.com/microsoft/react-native-code-push#store-guideline-compliance</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-is-the-roadmap\">What is the roadmap?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-is-the-roadmap\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We try to keep: <a href=\"https://docs.shorebird.dev/status\">https://docs.shorebird.dev/status</a> up to date with the status\nof the project.</p>\n<p>Our project boards are also public an found at:\n<a href=\"https://github.com/orgs/shorebirdtech/projects\">https://github.com/orgs/shorebirdtech/projects</a></p>\n<p>Our team also operates in the public, so you can see what we’re working\non at any time. We’re happy to answer any questions you have about our roadmap\nor priorities via GitHub issues or <a href=\"https://discord.gg/shorebird\">Discord</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-self-host-shorebird\">Can I self-host Shorebird?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-self-host-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>No. Shorebird has no current plans to offer on-prem, self-host or cloud-prem\nofferings. We would be happy to discuss with you any and all ways in which we\ncan improve our centrally hosted solution to best match your needs.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-use-shorebird-with-my-team\">Can I use Shorebird with my team?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-use-shorebird-with-my-team\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes! The Shorebird free “Hobby” tier only supports a single developer, but all\nother plans support unlimited developers.</p>\n<p>See <a href=\"https://docs.shorebird.dev/orgs\">Organizations</a> for more information.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-shorebird-store-my-source-code\">Does Shorebird store my source code?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-shorebird-store-my-source-code\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>No. Shorebird servers never see your source code. When you run\n<code dir=\"auto\">shorebird release</code> or <code dir=\"auto\">shorebird patch</code> the <code dir=\"auto\">shorebird</code> tool only uploads the\nsame compiled app binary that you send to the app stores. Shorebird servers\nnever store your source code at any time.</p>\n<p>See also our privacy policy: <a href=\"https://shorebird.dev/privacy\">https://shorebird.dev/privacy</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-use-shorebird-from-my-ci-system\">Can I use Shorebird from my CI system?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-use-shorebird-from-my-ci-system\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes. Shorebird is intended to be used from CI systems. We’ve published a\nguide for <a href=\"https://docs.shorebird.dev/ci/github\">GitHub Actions</a>, other CI systems should be similar.</p>\n<p>Please don’t hesitate to reach out over GitHub issues or Discord if you\nencounter any issues.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-does-this-relate-to-firebase-remote-config-or-launch-darkly\">How does this relate to Firebase Remote Config or Launch Darkly?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-does-this-relate-to-firebase-remote-config-or-launch-darkly\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Code push allows adding new code / replacing code on the device. Firebase\nRemote Config and Launch Darkly are both configuration systems. They allow you\nto change the configuration of your app without having to ship a new version.\nThey are not intended to replace code.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-big-of-a-dependency-footprint-does-this-add\">How big of a dependency footprint does this add?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-big-of-a-dependency-footprint-does-this-add\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>I haven’t measured recently, but I expect the code push library to add less than\none megabyte to Flutter apps. <code dir=\"auto\">flutter build apk --release</code> vs.\n<code dir=\"auto\">shorebird build apk --release</code> should give you a rough idea. We know of ways\nwe can make this smaller when that becomes a priority. If size is a blocker\nfor you, please let us know!</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-code-push-work-with-large-applications\">Does code push work with large applications?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-code-push-work-with-large-applications\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes. There is no limit on the size of the application that can be patched with\ncode push. As noted in\n<a href=\"https://docs.shorebird.dev/code-push/overview#what-types-of-changes-can-be-included-in-a-patch\">Overview</a>,\nShorebird can change any Dart code in your application no matter of size.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-can-i-use-shorebird-code-push-for\">What can I use Shorebird code push for?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-can-i-use-shorebird-code-push-for\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We’ve seen a variety of uses, including:</p>\n<ul>\n<li>Emergency fixes to production apps.</li>\n<li>Shipping bug fixes to users on older versions of your app.</li>\n<li>Shipping constantly (e.g. every hour).</li>\n</ul>\n<p>Note that most app stores prohibit shipping code that changes the behavior of\nthe app in a significant way. Please see\n<a href=\"https://docs.shorebird.dev/faq/#does-shorebird-comply-with-play-store-guidelines\">below</a>\nfor more information.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-cant-we-use-shorebird-code-push-for\">What can’t we use Shorebird code push for?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-cant-we-use-shorebird-code-push-for\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>As above, Shorebird should not be used to violate app store polices. Please see\n<a href=\"https://docs.shorebird.dev/faq/#does-shorebird-comply-with-play-store-guidelines\">below</a> for more information.</p>\n<p>Also Shorebird does not support changing native code (e.g. Java/Kotlin on\nAndroid or Objective-C/Swift on iOS). The tool will warn you during an\nattempted patch if you have changed native code.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-use-shorebird-for-all-my-dart-changes\">Can I use Shorebird for all my Dart changes?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-use-shorebird-for-all-my-dart-changes\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird can be used to update any Dart code including pure Dart packages. Note\nthat depending on how you distribute your apps, some store agreements expect\nfeature changes to go through store review. Notably Apple’s App Store requires\nthat an update “does not change the primary purpose of the Application by\nproviding features or functionality that are inconsistent with the intended and\nadvertised purpose of the Application.” Also note that patch sizes correlate\nwith the total amount of Dart changed from the original released app. Each patch\nis a diff against the released dart code, not a diff to the previous patch.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-does-the-shorebird-updater-store-on-disk\">What does the Shorebird updater store on disk?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-does-the-shorebird-updater-store-on-disk\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The Shorebird updater (included in your application when you build your app with\nShorebird) caches the latest downloaded patch in the same cache directory that\nFlutter uses for caching compiled shaders or compiled Dart code. On Android,\nthis is located in <code dir=\"auto\">/data/user/0/com.example.app/code_cache/shorebird_updater</code>\nalthough the base of that path is provided by the Android system and can change\ndynamically at runtime. On iOS devices, data is stored under\n<code dir=\"auto\">Library/Application Support/shorebird</code>.</p>\n<p>Shorebird stores only a few files, one is <code dir=\"auto\">state.json</code> which contains the state\ninformation for the updater. When a patch is downloaded a directory will be\ncreated for that patch. These directories contain the inflated copies of the\npatches, which will be about the same size as the compiled Dart code in your\napplication (e.g. ~10 mb each). There will only be at most 2 patches downloaded\non the device at a given time. When a new patch is successfully installed and\nlaunched, the previous patch is deleted.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-do-the-shorebird-tools-store-on-disk\">What do the Shorebird tools store on disk?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-do-the-shorebird-tools-store-on-disk\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The Shorebird command line tools (e.g. <code dir=\"auto\">shorebird patch</code>) are installed on disk\nin <code dir=\"auto\">$HOME/.shorebird</code>, including bringing a copy of Flutter and Dart as well as\nthe Shorebird release tools themselves. This is similar to how the <code dir=\"auto\">flutter</code>\ncommand works.</p>\n<p>These copies of Flutter can be 100s of megabytes each. Shorebird will keep a\ncopy of Flutter <code dir=\"auto\">$HOME/.shorebird/bin/cache/</code> for each version of Flutter you\nhave used. Currently this number is unbounded. These can be removed at any time\nwith <code dir=\"auto\">shorebird cache clear</code>.</p>\n<p><a href=\"https://docs.shorebird.dev/uninstall\">Uninstall</a> has details on how to remove Shorebird from your\nsystem should you choose.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-does-this-relate-to-flutter-hot-reload\">How does this relate to Flutter Hot Reload?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-does-this-relate-to-flutter-hot-reload\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Flutter’s Hot reload is a development-time-only feature. Code push is for\nproduction.</p>\n<p>Hot reload is a feature of Flutter that allows you to change code on the device\nduring development. It requires building the Flutter engine with a debug-mode\nDart VM which includes a just-in-time (JIT) Dart compiler.</p>\n<p>Code push is a feature that allows you to change code on the device in\nproduction. We will use a variety of different techniques to make this possible\ndepending on the platform. Current demos execute ahead-of-time compiled Dart\ncode and do not require a JIT Dart compiler.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-shorebird-support-flutter-web\">Does Shorebird support Flutter Web?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-shorebird-support-flutter-web\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Code push isn’t needed for Flutter web. When a user opens a web app it downloads\nthe latest version from the server if needed.</p>\n<p>If you have a use case for code push with Fluter web, we’d\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/new?assignees=&amp;labels=feature&amp;template=feature_request.md&amp;title=feat%3A+\">love to know</a>!</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-platforms-does-shorebird-support\">What platforms does Shorebird support?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-platforms-does-shorebird-support\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird supports iOS and Android today. We plan to support all other Flutter\nplatforms over time.</p>\n<p>Use of Shorebird on each platform is an independent decision. For example You can\nuse <code dir=\"auto\">shorebird release</code> to ship to Google Play and an ipa built with\n<code dir=\"auto\">flutter build</code> to the App Store or vice versa.</p>\n<p>Shorebird can (relatively easily) be made to support\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/397\">desktop</a> or embedded\ntargets. If those are important to you, please let us know.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-os-versions-does-shorebird-support\">What OS versions does Shorebird support?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-os-versions-does-shorebird-support\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird supports the same versions of Android that Flutter supports.</p>\n<p>Flutter currently supports Android API level 21+ and iOS 16.0+:\n<a href=\"https://docs.flutter.dev/reference/supported-platforms\">https://docs.flutter.dev/reference/supported-platforms</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-versions-of-flutter-does-shorebird-support\">What versions of Flutter does Shorebird support?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-versions-of-flutter-does-shorebird-support\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Android is supported on Flutter 3.10.0 or later.</p>\n<p>iOS is supported on Flutter 3.16.9 or later.</p>\n<p>See <a href=\"https://docs.shorebird.dev/flutter-version\">https://docs.shorebird.dev/flutter-version</a> for more information.</p>\n<p>Shorebird tracks Flutter stable and generally updates within a few hours of\nany stable release. Our system for doing these updates is automated takes\na few minutes to run. We then do an extra manual verification step before\npublishing to our servers.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-code-push-require-the-internet-to-work\">Does code push require the internet to work?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-code-push-require-the-internet-to-work\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes. One could imagine running a server to distribute the updates separately\nfrom the general internet, but some form of network connectivity is required to\ntransport updates to the devices.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-is-shorebird-affected-by-lack-of-network-connectivity\">How is Shorebird affected by lack of network connectivity?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-is-shorebird-affected-by-lack-of-network-connectivity\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird updater (included in your application when you build your app with\nShorebird) is designed to be resilient to network connectivity issues.</p>\n<p>In the default update behavior, when the\napplication launches it alerts the Shorebird updater, which spawns a separate\nthread to make a network request to Shorebird’s servers and ask for an update.\nWe intentionally use a separate thread to avoid affecting blocking anything else\nthe application might be doing. If the network request fails or times out, the\nupdater will simply try to check again next time the application launches.</p>\n<p>Shorebird command line tools (e.g. <code dir=\"auto\">shorebird patch</code>) require network\nconnectivity to function. If you are using Shorebird to distribute your app,\nyou should ensure that your CI system has network connectivity.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-happens-if-a-user-doesnt-update-for-a-long-time\">What happens if a user doesn’t update for a long time?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-happens-if-a-user-doesnt-update-for-a-long-time\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>A user will always get the latest patch available for their version of the app,\nregardless of which patch (if any) they currently have installed. A patch will\nalways reflect the state of the codebase at the time when the patch was built so\nas long as newer patches also contain the changes from older patches, users will\nalways be up to date and there is no need to worry about users “missing”\npatches.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-does-shorebird-relate-to-flutter\">How does Shorebird relate to Flutter?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-does-shorebird-relate-to-flutter\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird is a fork of Flutter that adds code push. Shorebird is not a\nreplacement for Flutter, but rather a replacement for the Flutter engine. You\ncan continue to use the Flutter tooling you already know and love.</p>\n<p><code dir=\"auto\">shorebird</code> uses a fork of Flutter that includes the Shorebird updater. We track\nthe latest stable release of Flutter and replace a few of the Flutter engine\nfiles with our modified copies.</p>\n<p>To implement our fork, we use <code dir=\"auto\">FLUTTER_STORAGE_BASE_URL</code> to point to\n<code dir=\"auto\">https://download.shorebird.dev</code> instead of download.flutter.dev. We pass\nthrough unmodified output from the <code dir=\"auto\">flutter</code> tool so you will see a warning from\nFlutter:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">Flutter assets will be downloaded from http://download.shorebird.dev. Make sure you trust this source!</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Flutter assets will be downloaded from http://download.shorebird.dev. Make sure you trust this source!\"><div></div></button></div></figure></div>\n<p>For more information about why we had to fork Flutter see\n<a href=\"https://docs.shorebird.dev/architecture\">architecture.md</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"when-do-updates-happen\">When do updates happen?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#when-do-updates-happen\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>By default, the Shorebird updater checks for updates on app startup. It runs on\na background thread and does not block the UI thread. Any updates will be\ninstalled while the user is using the app and will be applied the next time the\napp is restarted.</p>\n<p>It is also possible to run the Shorebird updater manually using\n<a href=\"https://pub.dev/packages/shorebird_code_push\">package:shorebird_code_push</a>,\nthrough which it is possible to trigger updates at any time, including via\na push notification.</p>\n<p>See <a href=\"https://docs.shorebird.dev/update-strategies\">update-strategies</a> for more information about how\nto configure this behavior.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"do-i-need-to-keep-my-app_id-secret\">Do I need to keep my app_id secret?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#do-i-need-to-keep-my-app_id-secret\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>No. The <code dir=\"auto\">app_id</code> is included in your app and is safe to be public. You can\ncheck it into version control (even publicly) and not worry about someone\nelse accessing it.</p>\n<p>Someone who has your <code dir=\"auto\">app_id</code> can fetch the latest version of your app from\nShorebird servers, but they cannot push updates to your app or access any\nother aspect of your Shorebird account.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-use-dart-defines-with-shorebird\">Can I use Dart defines with Shorebird?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-use-dart-defines-with-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes. The <code dir=\"auto\">shorebird</code> command line tool passes through all Dart defines to the\n<code dir=\"auto\">flutter</code> tool. For example,\n<code dir=\"auto\">shorebird release android -- --dart-define=MY_DEFINE=foo</code> and\n<code dir=\"auto\">shorebird release android -- --dart-define-from-file=config.json</code> will both\nwork as expected. Because Dart defines are compiled into your app’s Dart code,\nthey can be updated via patches.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-information-is-sent-to-shorebird-servers\">What information is sent to Shorebird servers?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-information-is-sent-to-shorebird-servers\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Although Shorebird connects to the network, it does not send any personally\nidentifiable information. Including Shorebird should not affect your\ndeclarations for the Play Store or App Store.</p>\n<p>See also our privacy policy: <a href=\"https://shorebird.dev/privacy\">https://shorebird.dev/privacy</a></p>\n<p>Requests sent from the app to Shorebird servers include:</p>\n<ul>\n<li>app_id (specified <code dir=\"auto\">shorebird.yaml</code>)</li>\n<li>channel (optional in <code dir=\"auto\">shorebird.yaml</code>)</li>\n<li>release_version (versionName from AndroidManifest.xml)</li>\n<li>patch_number (generated as part of <code dir=\"auto\">shorebird patch android</code>)</li>\n<li>arch (e.g. ‘aarch64’, needed to send down the right patch)</li>\n<li>platform (e.g. ‘android’, needed to send down the right patch)</li>\n</ul>\n<p>That’s it. The code for this is in:\n<a href=\"https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs\">https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-does-shorebird-interact-with-play-testing-tracks-or-apple-testflight\">How does Shorebird interact with Play Testing Tracks or Apple TestFlight?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-does-shorebird-interact-with-play-testing-tracks-or-apple-testflight\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Each of the app stores have separate mechanisms for distributing apps to limited\ngroups of users (e.g. “internal testing”, “closed beta”, etc.). These are all\nmechanisms for segmenting your users into groups and distributing specific\nversions of your apps to each.</p>\n<p>Unfortunately, these not all of these mechanisms allow 3rd parties to detect\nwhen apps are installed in any specific Test Track or via TestFlight. Thus, we\ndo not have reliable visibility into composition of these groups, and cannot\nreliably gate access to Shorebird patches based on these groups.\n<a href=\"https://stackoverflow.com/questions/53291007/can-an-android-application-identify-the-test-track-within-google-play\">https://stackoverflow.com/questions/53291007/can-an-android-application-identify-the-test-track-within-google-play</a>\n<a href=\"https://stackoverflow.com/questions/26081543/how-to-tell-at-runtime-whether-an-ios-app-is-running-through-a-testflight-beta-i\">https://stackoverflow.com/questions/26081543/how-to-tell-at-runtime-whether-an-ios-app-is-running-through-a-testflight-beta-i</a></p>\n<p>If you’d like to segment availability of Shorebird patches, there are 4 potential options:</p>\n<ol>\n<li>Use separate binaries / bundle ids for each group. This is the most\nstraightforward approach, but requires you to manage multiple binaries.\nOn Android the easy way to accomplish this is through flavors. You may\nalready have a dev flavor and prod flavor with different availability. You\ncan thus patch your dev flavor, verify it and then separately patch your\nprod flavor. We recommend using branches / tags in your version control\nto help keep track of the sources associated with each release.</li>\n<li>Track your own set of opt-in users, disable automatic updates, and trigger\nupdates only for certain users via package:shorebird_code_push. This works\ntoday, but requires you to manage your own opt-in list.</li>\n<li>Shorebird could create its own opt-in mechanism on a per-device basis\n(similar to Test Tracks or TestFlight, just platform agnostic). This\ncould allow your QA team to opt-in to patches before they’re promoted to\nthe general public. If this is important to you, please let us know:\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/498\">https://github.com/shorebirdtech/shorebird/issues/498</a></li>\n<li>Shorebird plans to add percentage based rollouts. This does not let you\nchoose which devices to send to, but can help you roll out incrementally\nand roll-back on sight of any problems.\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/497\">https://github.com/shorebirdtech/shorebird/issues/497</a></li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"will-my-app-still-work-if-i-cancel-my-shorebird-subscription\">Will my app still work if I cancel my Shorebird subscription?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#will-my-app-still-work-if-i-cancel-my-shorebird-subscription\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes. Apps built with Shorebird will continue to function normally (as if they had been built without Shorebird), including those that have had patches installed.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"now-that-im-using-shorebird-do-i-still-need-to-send-my-app-to-the-stores\">Now that I’m using Shorebird, do I still need to send my app to the stores?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#now-that-im-using-shorebird-do-i-still-need-to-send-my-app-to-the-stores\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Yes. We recommend customers continue to release their app through the stores in\naddition to using Shorebird. Even if this now means that there can be less\npressure on your app release process.</p>\n<p>This is for two reasons:</p>\n<ol>\n<li>Stores have policy restrictions that “major new features” go through store\nreview to avoid “deceiving users”. Since apps are likely to change over\ntime, periodic releases (to update store screenshots, etc.) is still good\npractice.</li>\n<li>New users install from the stores, not Shorebird. Shorebird can only update\nyour application after launch, so for users to get the best first-launch\nexperience, we recommend that you continue to periodic releases to the\nstores.</li>\n</ol>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"does-shorebird-submit-to-the-stores-for-me\">Does Shorebird submit to the stores for me?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#does-shorebird-submit-to-the-stores-for-me\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Shorebird does not currently support submitting to the app stores on your\nbehalf. We have plans to add this in the future, but for now you will need to\ncontinue to use your existing processes to submit to the app stores.\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/257\">https://github.com/shorebirdtech/shorebird/issues/257</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"when-should-i-create-a-patch-vs-a-release\">When should I create a patch vs a release?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#when-should-i-create-a-patch-vs-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Because patching and releasing are independent operations, it is possible to\ncreate both a patch and a release with the same code changes.</p>\n\n<p>Different customers have used different policies to decide whether to create a release, a patch, or both. I’ll enumerate a few of these here:</p>\n<ol>\n<li>\n<p>Push a patch immediately to update all existing users, while\nalso simultaneously submitting a release to the stores so that new users to\ntheir product will get the latest code on first launch after a store\ninstall.</p>\n</li>\n<li>\n<p>Use patching as a mechanism to ship changes on a high\nfrequency (e.g. daily or weekly) and only go through a full release process\non a lower cadence (e.g. monthly).</p>\n</li>\n<li>\n<p>Continue to only use releases for shipping code changes, and only patch to fix critical bugs or make other emergency changes.</p>\n</li>\n</ol>\n<p>In the end, it comes down to what works for your business. We see most of our current customers choosing option 2.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"do-i-need-to-distribute-my-app-through-a-store\">Do I need to distribute my app through a store?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#do-i-need-to-distribute-my-app-through-a-store\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>No. Shorebird can be used with any app distribution method, including\nside-loading or carrier provided stores.</p>\n<p>Shorebird is not itself a store. Your users will need to install your app\ninitially through some method other than Shorebird, but Shorebird can then\nbe used to patch (update) your app after that initial install.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"billing\">Billing</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#billing\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-do-i-upgrade-or-downgrade-my-plan\">How do I upgrade or downgrade my plan?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-do-i-upgrade-or-downgrade-my-plan\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To upgrade your plan, you can\n<a href=\"https://console.shorebird.dev/subscriptions/create\">subscribe via the\nShorebird console</a>.</p>\n<p>To cancel your subscription, you can view your\n<a href=\"https://console.shorebird.dev/account\">account</a> and click “Edit” -&gt; “Cancel\nSubscription”.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"when-does-my-billing-period-reset\">When does my billing period reset?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#when-does-my-billing-period-reset\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Billing periods are reset automatically every month on the month you first\nsubscribed to Shorebird. For example, if you subscribed on the 15th of the\nmonth, your billing period will reset on the 15th of every month.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"how-do-i-cancel-my-subscription\">How do I cancel my subscription?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#how-do-i-cancel-my-subscription\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To cancel your subscription, you can view your\n<a href=\"https://console.shorebird.dev/account\">account</a> and click “Edit” -&gt; “Cancel\nSubscription”.</p>\n<p>You will continue to have all the features of a paid account until the end of\nyour billing period.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"can-i-pay-for-a-year-in-advance\">Can I pay for a year in advance?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#can-i-pay-for-a-year-in-advance\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Currently we have not yet implemented yearly billing. We don’t expect it\nwill be hard, we just aren’t quite sure what customers expect in terms\nof overage charges on a yearly plan. If you have thoughts on this, please\nlet us know:\n<a href=\"https://github.com/shorebirdtech/shorebird/issues/733\">https://github.com/shorebirdtech/shorebird/issues/733</a></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"what-counts-as-a-patch-install-for-shorebird\">What counts as a “patch install” for Shorebird?</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/faq/#what-counts-as-a-patch-install-for-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>A “patch install” is counted when a patch is successfully installed on a\nuser’s device.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/faq/#_top",
      "https://discord.gg/shorebird",
      "https://docs.shorebird.dev/faq/#what-is-the-difference-between-a-patch-and-a-release",
      "https://docs.shorebird.dev/code-push/overview",
      "https://docs.shorebird.dev/faq/#can-i-use-shorebird-in-my-country",
      "https://console.shorebird.dev/",
      "https://api.shorebird.dev/",
      "https://download.shorebird.dev/",
      "https://storage.googleapis.com/",
      "https://cdn.shorebird.cloud/",
      "https://docs.flutter.dev/community/china",
      "https://github.com/shorebirdtech/shorebird/issues/435",
      "https://docs.shorebird.dev/faq/#does-shorebird-comply-with-play-store-guidelines",
      "https://support.google.com/googleplay/android-developer/answer/9888379?hl=en",
      "https://support.google.com/googleplay/android-developer/answer/9888077",
      "https://shorebird.dev/terms",
      "https://github.com/microsoft/react-native-code-push#store-guideline-compliance",
      "https://docs.shorebird.dev/faq/#does-shorebird-comply-with-app-store-guidelines",
      "https://docs.shorebird.dev/faq/#what-is-the-roadmap",
      "https://docs.shorebird.dev/status",
      "https://github.com/orgs/shorebirdtech/projects",
      "https://docs.shorebird.dev/faq/#can-i-self-host-shorebird",
      "https://docs.shorebird.dev/faq/#can-i-use-shorebird-with-my-team",
      "https://docs.shorebird.dev/orgs",
      "https://docs.shorebird.dev/faq/#does-shorebird-store-my-source-code",
      "https://shorebird.dev/privacy",
      "https://docs.shorebird.dev/faq/#can-i-use-shorebird-from-my-ci-system",
      "https://docs.shorebird.dev/ci/github",
      "https://docs.shorebird.dev/faq/#how-does-this-relate-to-firebase-remote-config-or-launch-darkly",
      "https://docs.shorebird.dev/faq/#how-big-of-a-dependency-footprint-does-this-add",
      "https://docs.shorebird.dev/faq/#does-code-push-work-with-large-applications",
      "https://docs.shorebird.dev/code-push/overview#what-types-of-changes-can-be-included-in-a-patch",
      "https://docs.shorebird.dev/faq/#what-can-i-use-shorebird-code-push-for",
      "https://docs.shorebird.dev/faq/#what-cant-we-use-shorebird-code-push-for",
      "https://docs.shorebird.dev/faq/#can-i-use-shorebird-for-all-my-dart-changes",
      "https://docs.shorebird.dev/faq/#what-does-the-shorebird-updater-store-on-disk",
      "https://docs.shorebird.dev/faq/#what-do-the-shorebird-tools-store-on-disk",
      "https://docs.shorebird.dev/uninstall",
      "https://docs.shorebird.dev/faq/#how-does-this-relate-to-flutter-hot-reload",
      "https://docs.shorebird.dev/faq/#does-shorebird-support-flutter-web",
      "https://github.com/shorebirdtech/shorebird/issues/new?assignees=&labels=feature&template=feature_request.md&title=feat%3A+",
      "https://docs.shorebird.dev/faq/#what-platforms-does-shorebird-support",
      "https://github.com/shorebirdtech/shorebird/issues/397",
      "https://docs.shorebird.dev/faq/#what-os-versions-does-shorebird-support",
      "https://docs.flutter.dev/reference/supported-platforms",
      "https://docs.shorebird.dev/faq/#what-versions-of-flutter-does-shorebird-support",
      "https://docs.shorebird.dev/flutter-version",
      "https://docs.shorebird.dev/faq/#does-code-push-require-the-internet-to-work",
      "https://docs.shorebird.dev/faq/#how-is-shorebird-affected-by-lack-of-network-connectivity",
      "https://docs.shorebird.dev/faq/#what-happens-if-a-user-doesnt-update-for-a-long-time",
      "https://docs.shorebird.dev/faq/#how-does-shorebird-relate-to-flutter",
      "https://docs.shorebird.dev/architecture",
      "https://docs.shorebird.dev/faq/#when-do-updates-happen",
      "https://pub.dev/packages/shorebird_code_push",
      "https://docs.shorebird.dev/update-strategies",
      "https://docs.shorebird.dev/faq/#do-i-need-to-keep-my-app_id-secret",
      "https://docs.shorebird.dev/faq/#can-i-use-dart-defines-with-shorebird",
      "https://docs.shorebird.dev/faq/#what-information-is-sent-to-shorebird-servers",
      "https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs",
      "https://docs.shorebird.dev/faq/#how-does-shorebird-interact-with-play-testing-tracks-or-apple-testflight",
      "https://stackoverflow.com/questions/53291007/can-an-android-application-identify-the-test-track-within-google-play",
      "https://stackoverflow.com/questions/26081543/how-to-tell-at-runtime-whether-an-ios-app-is-running-through-a-testflight-beta-i",
      "https://github.com/shorebirdtech/shorebird/issues/498",
      "https://github.com/shorebirdtech/shorebird/issues/497",
      "https://docs.shorebird.dev/faq/#will-my-app-still-work-if-i-cancel-my-shorebird-subscription",
      "https://docs.shorebird.dev/faq/#now-that-im-using-shorebird-do-i-still-need-to-send-my-app-to-the-stores",
      "https://docs.shorebird.dev/faq/#does-shorebird-submit-to-the-stores-for-me",
      "https://github.com/shorebirdtech/shorebird/issues/257",
      "https://docs.shorebird.dev/faq/#when-should-i-create-a-patch-vs-a-release",
      "https://docs.shorebird.dev/faq/#do-i-need-to-distribute-my-app-through-a-store",
      "https://docs.shorebird.dev/faq/#billing",
      "https://docs.shorebird.dev/faq/#how-do-i-upgrade-or-downgrade-my-plan",
      "https://console.shorebird.dev/subscriptions/create",
      "https://console.shorebird.dev/account",
      "https://docs.shorebird.dev/faq/#when-does-my-billing-period-reset",
      "https://docs.shorebird.dev/faq/#how-do-i-cancel-my-subscription",
      "https://docs.shorebird.dev/faq/#can-i-pay-for-a-year-in-advance",
      "https://github.com/shorebirdtech/shorebird/issues/733",
      "https://docs.shorebird.dev/faq/#what-counts-as-a-patch-install-for-shorebird"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/faq/#_top)\n\n# FAQ\n\nIf you have questions not answered here, please ask! Both filing an issue\nor asking on [Discord](https://discord.gg/shorebird) work.\n\n### What is the difference between a patch and a release?\n\nWe use the term “release” to mean preparing a binary for the app stores. In\norder to later generate a patch Shorebird needs to know the exact binary that\nwas shipped to the app stores. The `shorebird release` command is used to\nprepare a binary for the app stores which includes the Shorebird updater.\n\nWe use the term “patch” to mean a binary that can be applied to a release to\nupdate it to new code. The `shorebird patch` command is used to generate\na patch from your new local code which is then diffed with the release binary\nto generate a patch which is then shipped to your users.\n\nWe explain more of these terms in [Overview](https://docs.shorebird.dev/code-push/overview).\n\n### Can I use Shorebird in my country?\n\nWe have not attempted to restrict access to Shorebird from any country.\n\nWe recognize that some countries have restrictions on what urls can be accessed\nfrom within the country. Shorebird currently uses Google Cloud for hosting,\nincluding Google Cloud Storage and Google Cloud Run.\n\nThe following URLs are used by Shorebird:\n\n- [https://console.shorebird.dev](https://console.shorebird.dev/) — used to interact with Shorebird’s services\nvia the web.\n- [https://api.shorebird.dev](https://api.shorebird.dev/) — used by the `shorebird` command line tools to\ninteract with the Shorebird servers as well as the Shorebird updater on users’\ndevices to check for updates.\n- [https://download.shorebird.dev](https://download.shorebird.dev/) — used by the `shorebird` command line tool to\ndownload Flutter artifacts for building releases and patches.\n- [https://storage.googleapis.com](https://storage.googleapis.com/) — used by the `shorebird` command line tool to\nupload and download release and patch artifacts, and by the Shorebird updater\non user’s devices to download the patches.\n- [https://cdn.shorebird.cloud/](https://cdn.shorebird.cloud/) — used by the Shorebird updater when downloading\npatches to a user’s device.\n\nShorebird also uses Microsoft or Google OAuth login, which have their own\nrequired urls for login (e.g. login.microsoftonline.com or oauth.google.com).\n\nAll traffic to and from Shorebird servers travels over https (port 443) and is\nencrypted using standard Transport Security Layer / Secure Sockets Layer\n(TSL/SSL) protocols.\n\nIf all of those URLs are accessible from your country, then Shorebird should work.\n\nIf your region requires use of\n[FLUTTER\\_STORAGE\\_BASE\\_URL](https://docs.flutter.dev/community/china) Shorebird\nmay not work for you at this time as we also use that environment variable as\npart of our implementation. We have plans to [remove this\\\\\nrestriction](https://github.com/shorebirdtech/shorebird/issues/435), let us know\nif this is important to you.\n\n### Does Shorebird comply with Play Store guidelines?\n\nYes.\n\nThe Play Store offers two restrictions relating to update tools.\n\n1. Updates must use an interpreter or virtual machine (Shorebird\nuses the Dart Virtual Machine).\n[https://support.google.com/googleplay/android-developer/answer/9888379?hl=en](https://support.google.com/googleplay/android-developer/answer/9888379?hl=en)\n\n```\n\n    An app distributed via Google Play may not modify, replace, or update itself\n\n    using any method other than Google Play's update mechanism. Likewise, an app\n\n    may not download executable code (such as dex, JAR, .so files) from a\n\n    source other than Google Play. *This restriction does not apply to code\n\n    that runs in a virtual machine or an interpreter* where either provides\n\n    indirect access to Android APIs (such as JavaScript in a webview or\n\n    browser).\n\n    Apps or third-party code, like SDKs, with interpreted languages (JavaScript,\n\n    Python, Lua, etc.) loaded at run time (for example, not packaged with the\n\n    app) must not allow potential violations of Google Play policies.\n```\n\n2. Changes to the app must not be deceptive (e.g. changing the purpose of\nthe app via update).\n[https://support.google.com/googleplay/android-developer/answer/9888077](https://support.google.com/googleplay/android-developer/answer/9888077)\nPlease be clear with your users about what you are providing with your\napplication and do not violate their expectations with\nsignificant behavioral changes through the use of Shorebird.\n\nShorebird is designed to be compatible with the Play Store guidelines. However\nShorebird is a tool, and as with any tool, can be abused. Deliberately abusing\nShorebird to violate Play Store guidelines is in violation of the Shorebird\n[Terms of Service](https://shorebird.dev/terms) and can result in termination of\nyour account.\n\nCode push services are widely used in the industry (all of the large\napps I’m aware of use them) and there are multiple other code push services\npublicly available (e.g. expo.dev & appcenter.ms). This is a well trodden path.\n\nMicrosoft also publishes a guide on how their React Native “codepush” library\ncomplies with the app stores:\n[https://github.com/microsoft/react-native-code-push#store-guideline-compliance](https://github.com/microsoft/react-native-code-push#store-guideline-compliance)\n\n### Does Shorebird comply with App Store guidelines?\n\nYes.\n\nSimilar to the Play Store, the App Store offers both technical and policy\nrestrictions.\n\n```\n\n3.2.2\n\n... interpreted code may be downloaded to an Application but only so long as\n\nsuch code:\n\n(a) does not change the primary purpose of the Application by providing\n\nfeatures or functionality that are inconsistent with the intended and\n\nadvertised purpose of the Application as submitted to the App Store,\n\n(b) does not create a store or storefront for other code or applications, and\n\n(c) does not bypass signing, sandbox, or other security features of the OS.\n```\n\nShorebird uses a custom Dart interpreter to comply with the interpreter-only\nrestriction for updates on iOS. So long as your application is not engaging\nin deceptive behavior via updates (e.g. changing the purpose of the app via\nupdate), updating via Shorebird (or any other code push solution) is standard\nindustry practice and compliant with App Store guidelines.\n\nDeliberately abusing Shorebird to violate App Store guidelines is in violation\nof the Shorebird [Terms of Service](https://shorebird.dev/terms) and can result\nin termination of your account.\n\nMicrosoft also publishes a guide on how their react native “codepush” library\ncomplies with the app stores:\n[https://github.com/microsoft/react-native-code-push#store-guideline-compliance](https://github.com/microsoft/react-native-code-push#store-guideline-compliance)\n\n### What is the roadmap?\n\nWe try to keep: [https://docs.shorebird.dev/status](https://docs.shorebird.dev/status) up to date with the status\nof the project.\n\nOur project boards are also public an found at:\n[https://github.com/orgs/shorebirdtech/projects](https://github.com/orgs/shorebirdtech/projects)\n\nOur team also operates in the public, so you can see what we’re working\non at any time. We’re happy to answer any questions you have about our roadmap\nor priorities via GitHub issues or [Discord](https://discord.gg/shorebird).\n\n### Can I self-host Shorebird?\n\nNo. Shorebird has no current plans to offer on-prem, self-host or cloud-prem\nofferings. We would be happy to discuss with you any and all ways in which we\ncan improve our centrally hosted solution to best match your needs.\n\n### Can I use Shorebird with my team?\n\nYes! The Shorebird free “Hobby” tier only supports a single developer, but all\nother plans support unlimited developers.\n\nSee [Organizations](https://docs.shorebird.dev/orgs) for more information.\n\n### Does Shorebird store my source code?\n\nNo. Shorebird servers never see your source code. When you run\n`shorebird release` or `shorebird patch` the `shorebird` tool only uploads the\nsame compiled app binary that you send to the app stores. Shorebird servers\nnever store your source code at any time.\n\nSee also our privacy policy: [https://shorebird.dev/privacy](https://shorebird.dev/privacy)\n\n### Can I use Shorebird from my CI system?\n\nYes. Shorebird is intended to be used from CI systems. We’ve published a\nguide for [GitHub Actions](https://docs.shorebird.dev/ci/github), other CI systems should be similar.\n\nPlease don’t hesitate to reach out over GitHub issues or Discord if you\nencounter any issues.\n\n### How does this relate to Firebase Remote Config or Launch Darkly?\n\nCode push allows adding new code / replacing code on the device. Firebase\nRemote Config and Launch Darkly are both configuration systems. They allow you\nto change the configuration of your app without having to ship a new version.\nThey are not intended to replace code.\n\n### How big of a dependency footprint does this add?\n\nI haven’t measured recently, but I expect the code push library to add less than\none megabyte to Flutter apps. `flutter build apk --release` vs.\n`shorebird build apk --release` should give you a rough idea. We know of ways\nwe can make this smaller when that becomes a priority. If size is a blocker\nfor you, please let us know!\n\n### Does code push work with large applications?\n\nYes. There is no limit on the size of the application that can be patched with\ncode push. As noted in\n[Overview](https://docs.shorebird.dev/code-push/overview#what-types-of-changes-can-be-included-in-a-patch),\nShorebird can change any Dart code in your application no matter of size.\n\n### What can I use Shorebird code push for?\n\nWe’ve seen a variety of uses, including:\n\n- Emergency fixes to production apps.\n- Shipping bug fixes to users on older versions of your app.\n- Shipping constantly (e.g. every hour).\n\nNote that most app stores prohibit shipping code that changes the behavior of\nthe app in a significant way. Please see\n[below](https://docs.shorebird.dev/faq/#does-shorebird-comply-with-play-store-guidelines)\nfor more information.\n\n### What can’t we use Shorebird code push for?\n\nAs above, Shorebird should not be used to violate app store polices. Please see\n[below](https://docs.shorebird.dev/faq/#does-shorebird-comply-with-play-store-guidelines) for more information.\n\nAlso Shorebird does not support changing native code (e.g. Java/Kotlin on\nAndroid or Objective-C/Swift on iOS). The tool will warn you during an\nattempted patch if you have changed native code.\n\n### Can I use Shorebird for all my Dart changes?\n\nShorebird can be used to update any Dart code including pure Dart packages. Note\nthat depending on how you distribute your apps, some store agreements expect\nfeature changes to go through store review. Notably Apple’s App Store requires\nthat an update “does not change the primary purpose of the Application by\nproviding features or functionality that are inconsistent with the intended and\nadvertised purpose of the Application.” Also note that patch sizes correlate\nwith the total amount of Dart changed from the original released app. Each patch\nis a diff against the released dart code, not a diff to the previous patch.\n\n### What does the Shorebird updater store on disk?\n\nThe Shorebird updater (included in your application when you build your app with\nShorebird) caches the latest downloaded patch in the same cache directory that\nFlutter uses for caching compiled shaders or compiled Dart code. On Android,\nthis is located in `/data/user/0/com.example.app/code_cache/shorebird_updater`\nalthough the base of that path is provided by the Android system and can change\ndynamically at runtime. On iOS devices, data is stored under\n`Library/Application Support/shorebird`.\n\nShorebird stores only a few files, one is `state.json` which contains the state\ninformation for the updater. When a patch is downloaded a directory will be\ncreated for that patch. These directories contain the inflated copies of the\npatches, which will be about the same size as the compiled Dart code in your\napplication (e.g. ~10 mb each). There will only be at most 2 patches downloaded\non the device at a given time. When a new patch is successfully installed and\nlaunched, the previous patch is deleted.\n\n### What do the Shorebird tools store on disk?\n\nThe Shorebird command line tools (e.g. `shorebird patch`) are installed on disk\nin `$HOME/.shorebird`, including bringing a copy of Flutter and Dart as well as\nthe Shorebird release tools themselves. This is similar to how the `flutter`\ncommand works.\n\nThese copies of Flutter can be 100s of megabytes each. Shorebird will keep a\ncopy of Flutter `$HOME/.shorebird/bin/cache/` for each version of Flutter you\nhave used. Currently this number is unbounded. These can be removed at any time\nwith `shorebird cache clear`.\n\n[Uninstall](https://docs.shorebird.dev/uninstall) has details on how to remove Shorebird from your\nsystem should you choose.\n\n### How does this relate to Flutter Hot Reload?\n\nFlutter’s Hot reload is a development-time-only feature. Code push is for\nproduction.\n\nHot reload is a feature of Flutter that allows you to change code on the device\nduring development. It requires building the Flutter engine with a debug-mode\nDart VM which includes a just-in-time (JIT) Dart compiler.\n\nCode push is a feature that allows you to change code on the device in\nproduction. We will use a variety of different techniques to make this possible\ndepending on the platform. Current demos execute ahead-of-time compiled Dart\ncode and do not require a JIT Dart compiler.\n\n### Does Shorebird support Flutter Web?\n\nCode push isn’t needed for Flutter web. When a user opens a web app it downloads\nthe latest version from the server if needed.\n\nIf you have a use case for code push with Fluter web, we’d\n[love to know](https://github.com/shorebirdtech/shorebird/issues/new?assignees=&labels=feature&template=feature_request.md&title=feat%3A+)!\n\n### What platforms does Shorebird support?\n\nShorebird supports iOS and Android today. We plan to support all other Flutter\nplatforms over time.\n\nUse of Shorebird on each platform is an independent decision. For example You can\nuse `shorebird release` to ship to Google Play and an ipa built with\n`flutter build` to the App Store or vice versa.\n\nShorebird can (relatively easily) be made to support\n[desktop](https://github.com/shorebirdtech/shorebird/issues/397) or embedded\ntargets. If those are important to you, please let us know.\n\n### What OS versions does Shorebird support?\n\nShorebird supports the same versions of Android that Flutter supports.\n\nFlutter currently supports Android API level 21+ and iOS 16.0+:\n[https://docs.flutter.dev/reference/supported-platforms](https://docs.flutter.dev/reference/supported-platforms)\n\n### What versions of Flutter does Shorebird support?\n\nAndroid is supported on Flutter 3.10.0 or later.\n\niOS is supported on Flutter 3.16.9 or later.\n\nSee [https://docs.shorebird.dev/flutter-version](https://docs.shorebird.dev/flutter-version) for more information.\n\nShorebird tracks Flutter stable and generally updates within a few hours of\nany stable release. Our system for doing these updates is automated takes\na few minutes to run. We then do an extra manual verification step before\npublishing to our servers.\n\n### Does code push require the internet to work?\n\nYes. One could imagine running a server to distribute the updates separately\nfrom the general internet, but some form of network connectivity is required to\ntransport updates to the devices.\n\n### How is Shorebird affected by lack of network connectivity?\n\nShorebird updater (included in your application when you build your app with\nShorebird) is designed to be resilient to network connectivity issues.\n\nIn the default update behavior, when the\napplication launches it alerts the Shorebird updater, which spawns a separate\nthread to make a network request to Shorebird’s servers and ask for an update.\nWe intentionally use a separate thread to avoid affecting blocking anything else\nthe application might be doing. If the network request fails or times out, the\nupdater will simply try to check again next time the application launches.\n\nShorebird command line tools (e.g. `shorebird patch`) require network\nconnectivity to function. If you are using Shorebird to distribute your app,\nyou should ensure that your CI system has network connectivity.\n\n### What happens if a user doesn’t update for a long time?\n\nA user will always get the latest patch available for their version of the app,\nregardless of which patch (if any) they currently have installed. A patch will\nalways reflect the state of the codebase at the time when the patch was built so\nas long as newer patches also contain the changes from older patches, users will\nalways be up to date and there is no need to worry about users “missing”\npatches.\n\n### How does Shorebird relate to Flutter?\n\nShorebird is a fork of Flutter that adds code push. Shorebird is not a\nreplacement for Flutter, but rather a replacement for the Flutter engine. You\ncan continue to use the Flutter tooling you already know and love.\n\n`shorebird` uses a fork of Flutter that includes the Shorebird updater. We track\nthe latest stable release of Flutter and replace a few of the Flutter engine\nfiles with our modified copies.\n\nTo implement our fork, we use `FLUTTER_STORAGE_BASE_URL` to point to\n`https://download.shorebird.dev` instead of download.flutter.dev. We pass\nthrough unmodified output from the `flutter` tool so you will see a warning from\nFlutter:\n\n```\n\nFlutter assets will be downloaded from http://download.shorebird.dev. Make sure you trust this source!\n```\n\nFor more information about why we had to fork Flutter see\n[architecture.md](https://docs.shorebird.dev/architecture).\n\n### When do updates happen?\n\nBy default, the Shorebird updater checks for updates on app startup. It runs on\na background thread and does not block the UI thread. Any updates will be\ninstalled while the user is using the app and will be applied the next time the\napp is restarted.\n\nIt is also possible to run the Shorebird updater manually using\n[package:shorebird\\_code\\_push](https://pub.dev/packages/shorebird_code_push),\nthrough which it is possible to trigger updates at any time, including via\na push notification.\n\nSee [update-strategies](https://docs.shorebird.dev/update-strategies) for more information about how\nto configure this behavior.\n\n### Do I need to keep my app\\_id secret?\n\nNo. The `app_id` is included in your app and is safe to be public. You can\ncheck it into version control (even publicly) and not worry about someone\nelse accessing it.\n\nSomeone who has your `app_id` can fetch the latest version of your app from\nShorebird servers, but they cannot push updates to your app or access any\nother aspect of your Shorebird account.\n\n### Can I use Dart defines with Shorebird?\n\nYes. The `shorebird` command line tool passes through all Dart defines to the\n`flutter` tool. For example,\n`shorebird release android -- --dart-define=MY_DEFINE=foo` and\n`shorebird release android -- --dart-define-from-file=config.json` will both\nwork as expected. Because Dart defines are compiled into your app’s Dart code,\nthey can be updated via patches.\n\n### What information is sent to Shorebird servers?\n\nAlthough Shorebird connects to the network, it does not send any personally\nidentifiable information. Including Shorebird should not affect your\ndeclarations for the Play Store or App Store.\n\nSee also our privacy policy: [https://shorebird.dev/privacy](https://shorebird.dev/privacy)\n\nRequests sent from the app to Shorebird servers include:\n\n- app\\_id (specified `shorebird.yaml`)\n- channel (optional in `shorebird.yaml`)\n- release\\_version (versionName from AndroidManifest.xml)\n- patch\\_number (generated as part of `shorebird patch android`)\n- arch (e.g. ‘aarch64’, needed to send down the right patch)\n- platform (e.g. ‘android’, needed to send down the right patch)\n\nThat’s it. The code for this is in:\n[https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs](https://github.com/shorebirdtech/updater/blob/main/library/src/network.rs)\n\n### How does Shorebird interact with Play Testing Tracks or Apple TestFlight?\n\nEach of the app stores have separate mechanisms for distributing apps to limited\ngroups of users (e.g. “internal testing”, “closed beta”, etc.). These are all\nmechanisms for segmenting your users into groups and distributing specific\nversions of your apps to each.\n\nUnfortunately, these not all of these mechanisms allow 3rd parties to detect\nwhen apps are installed in any specific Test Track or via TestFlight. Thus, we\ndo not have reliable visibility into composition of these groups, and cannot\nreliably gate access to Shorebird patches based on these groups.\n[https://stackoverflow.com/questions/53291007/can-an-android-application-identify-the-test-track-within-google-play](https://stackoverflow.com/questions/53291007/can-an-android-application-identify-the-test-track-within-google-play) [https://stackoverflow.com/questions/26081543/how-to-tell-at-runtime-whether-an-ios-app-is-running-through-a-testflight-beta-i](https://stackoverflow.com/questions/26081543/how-to-tell-at-runtime-whether-an-ios-app-is-running-through-a-testflight-beta-i)\n\nIf you’d like to segment availability of Shorebird patches, there are 4 potential options:\n\n1. Use separate binaries / bundle ids for each group. This is the most\nstraightforward approach, but requires you to manage multiple binaries.\nOn Android the easy way to accomplish this is through flavors. You may\nalready have a dev flavor and prod flavor with different availability. You\ncan thus patch your dev flavor, verify it and then separately patch your\nprod flavor. We recommend using branches / tags in your version control\nto help keep track of the sources associated with each release.\n2. Track your own set of opt-in users, disable automatic updates, and trigger\nupdates only for certain users via package:shorebird\\_code\\_push. This works\ntoday, but requires you to manage your own opt-in list.\n3. Shorebird could create its own opt-in mechanism on a per-device basis\n(similar to Test Tracks or TestFlight, just platform agnostic). This\ncould allow your QA team to opt-in to patches before they’re promoted to\nthe general public. If this is important to you, please let us know:\n[https://github.com/shorebirdtech/shorebird/issues/498](https://github.com/shorebirdtech/shorebird/issues/498)\n4. Shorebird plans to add percentage based rollouts. This does not let you\nchoose which devices to send to, but can help you roll out incrementally\nand roll-back on sight of any problems.\n[https://github.com/shorebirdtech/shorebird/issues/497](https://github.com/shorebirdtech/shorebird/issues/497)\n\n### Will my app still work if I cancel my Shorebird subscription?\n\nYes. Apps built with Shorebird will continue to function normally (as if they had been built without Shorebird), including those that have had patches installed.\n\n### Now that I’m using Shorebird, do I still need to send my app to the stores?\n\nYes. We recommend customers continue to release their app through the stores in\naddition to using Shorebird. Even if this now means that there can be less\npressure on your app release process.\n\nThis is for two reasons:\n\n1. Stores have policy restrictions that “major new features” go through store\nreview to avoid “deceiving users”. Since apps are likely to change over\ntime, periodic releases (to update store screenshots, etc.) is still good\npractice.\n2. New users install from the stores, not Shorebird. Shorebird can only update\nyour application after launch, so for users to get the best first-launch\nexperience, we recommend that you continue to periodic releases to the\nstores.\n\n### Does Shorebird submit to the stores for me?\n\nShorebird does not currently support submitting to the app stores on your\nbehalf. We have plans to add this in the future, but for now you will need to\ncontinue to use your existing processes to submit to the app stores.\n[https://github.com/shorebirdtech/shorebird/issues/257](https://github.com/shorebirdtech/shorebird/issues/257)\n\n### When should I create a patch vs a release?\n\nBecause patching and releasing are independent operations, it is possible to\ncreate both a patch and a release with the same code changes.\n\nDifferent customers have used different policies to decide whether to create a release, a patch, or both. I’ll enumerate a few of these here:\n\n1. Push a patch immediately to update all existing users, while\nalso simultaneously submitting a release to the stores so that new users to\ntheir product will get the latest code on first launch after a store\ninstall.\n\n2. Use patching as a mechanism to ship changes on a high\nfrequency (e.g. daily or weekly) and only go through a full release process\non a lower cadence (e.g. monthly).\n\n3. Continue to only use releases for shipping code changes, and only patch to fix critical bugs or make other emergency changes.\n\n\nIn the end, it comes down to what works for your business. We see most of our current customers choosing option 2.\n\n### Do I need to distribute my app through a store?\n\nNo. Shorebird can be used with any app distribution method, including\nside-loading or carrier provided stores.\n\nShorebird is not itself a store. Your users will need to install your app\ninitially through some method other than Shorebird, but Shorebird can then\nbe used to patch (update) your app after that initial install.\n\n## Billing\n\n### How do I upgrade or downgrade my plan?\n\nTo upgrade your plan, you can\n[subscribe via the\\\\\nShorebird console](https://console.shorebird.dev/subscriptions/create).\n\nTo cancel your subscription, you can view your\n[account](https://console.shorebird.dev/account) and click “Edit” -> “Cancel\nSubscription”.\n\n### When does my billing period reset?\n\nBilling periods are reset automatically every month on the month you first\nsubscribed to Shorebird. For example, if you subscribed on the 15th of the\nmonth, your billing period will reset on the 15th of every month.\n\n### How do I cancel my subscription?\n\nTo cancel your subscription, you can view your\n[account](https://console.shorebird.dev/account) and click “Edit” -> “Cancel\nSubscription”.\n\nYou will continue to have all the features of a paid account until the end of\nyour billing period.\n\n### Can I pay for a year in advance?\n\nCurrently we have not yet implemented yearly billing. We don’t expect it\nwill be hard, we just aren’t quite sure what customers expect in terms\nof overage charges on a yearly plan. If you have thoughts on this, please\nlet us know:\n[https://github.com/shorebirdtech/shorebird/issues/733](https://github.com/shorebirdtech/shorebird/issues/733)\n\n### What counts as a “patch install” for Shorebird?\n\nA “patch install” is counted when a patch is successfully installed on a\nuser’s device.",
    "metadata": {
      "url": "https://docs.shorebird.dev/faq/",
      "ogUrl": "https://docs.shorebird.dev/faq/",
      "title": "FAQ | Shorebird",
      "og:url": "https://docs.shorebird.dev/faq/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "FAQ",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "FAQ",
      "ogLocale": "en",
      "scrapeId": "56d4fef9-cee7-436b-b7ad-48d72f82c0e9",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/faq",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Frequently asked questions.",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Frequently asked questions.",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Frequently asked questions."
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Code Push for Android Hybrid Apps</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide explains how to use Shorebird in an Android hybrid app scenario (that is, your app embeds Flutter UI in non-Flutter UI).</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes you have already have an Android app and a Flutter module. Our Android app will be named <code dir=\"auto\">android_app</code> and our Flutter module will be named <code dir=\"auto\">flutter_module</code>.</p>\n<p>This guide also assumes that you have created a Shorebird account. If you have not, please see our <a href=\"https://docs.shorebird.dev/code-push/initialize\">code push guide</a> for instructions.</p>\n<p>The reference code for this guide is available at <a href=\"https://github.com/shorebirdtech/samples/tree/main/add_to_app\">https://github.com/shorebirdtech/samples/tree/main/add_to_app</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-shorebird-to-your-flutter-module\">Add Shorebird to your Flutter module</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#add-shorebird-to-your-flutter-module\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>First, run <code dir=\"auto\">shorebird init</code> in your Flutter module:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-shorebird-release\">Create a Shorebird release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#create-a-shorebird-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Create a Shorebird release for your Flutter module:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">aar</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.2.3+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release aar --release-version 1.2.3+1\"><div></div></button></div></figure></div>\n<p>The <code dir=\"auto\">release-version</code> parameter needs to match the version of the Android app\nthat uses this module (i.e., <code dir=\"auto\">versionName+versionCode</code> from the app’s\n<code dir=\"auto\">app/build.gradle</code> file).</p>\n\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"update-your-android-app-to-use-the-downloadshorebirddev-maven-repository\">Update your Android app to use the <code dir=\"auto\">download.shorebird.dev</code> Maven repository</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#update-your-android-app-to-use-the-downloadshorebirddev-maven-repository\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In <code dir=\"auto\">settings.gradle</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">dependencyResolutionManagement {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">repositories {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">google()</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">mavenCentral()</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">maven {</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This is a relative path from this settings.gradle file to the</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// my_flutter_module/build/host/outputs/repo directory.</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">url '../my_flutter_module/release'</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">       </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">maven {</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">url 'https://storage.googleapis.com/download.flutter.io'</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">           </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">url 'https://download.shorebird.dev/download.flutter.io'</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"dependencyResolutionManagement {    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)    repositories {        google()        mavenCentral()        maven {           // This is a relative path from this settings.gradle file to the           // my_flutter_module/build/host/outputs/repo directory.           url '../my_flutter_module/release'       }       maven {           url 'https://storage.googleapis.com/download.flutter.io'           url 'https://download.shorebird.dev/download.flutter.io'      }    }}\"><div></div></button></div></figure></div>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"update-your-android-app-to-use-this-version-of-the-flutter-module\">Update your Android app to use this version of the Flutter module</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#update-your-android-app-to-use-this-version-of-the-flutter-module\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In <code dir=\"auto\">app/build.gradle</code>, add the following:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">buildTypes {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">release {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// ...</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// The Dart compiler builds libapp.so directly (does not use clang),and already strips</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// symbols. However when llvm-strip is run on libapp.so, the symbols are re-sorted</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// causing the hash of the library to change (which can confuse Shorebird tools).</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This line tells gradle to skip the unnecessary llvm-strip step for libapp.so</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// thus ensuring that the libapp.so that Shorebird sees is byte-identical to the one</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// which ends up in the APK/AAR/AAB.</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">packaging.jniLibs.keepDebugSymbols.add(\"**/libapp.so\")</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// ...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">dependencies {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// ...</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">releaseImplementation 'com.example.my_flutter_module:flutter_release:1.0'</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// ...</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"buildTypes {    release {        // ...        // The Dart compiler builds libapp.so directly (does not use clang),and already strips        // symbols. However when llvm-strip is run on libapp.so, the symbols are re-sorted        // causing the hash of the library to change (which can confuse Shorebird tools).        // This line tells gradle to skip the unnecessary llvm-strip step for libapp.so        // thus ensuring that the libapp.so that Shorebird sees is byte-identical to the one        // which ends up in the APK/AAR/AAB.        packaging.jniLibs.keepDebugSymbols.add(&quot;**/libapp.so&quot;)        // ...    }}dependencies {    // ...    releaseImplementation 'com.example.my_flutter_module:flutter_release:1.0'    // ...}\"><div></div></button></div></figure></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"verify-that-your-app-runs\">Verify that your app runs</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#verify-that-your-app-runs\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>In Android Studio, update the active build variant to release and run your app.\nYour app should work as before with no differences.</p>\n<p>To set the active build variant to release, click on the “Build Variants” tab in\nthe lower left corner of Android Studio. Then select “release” from the\n“Active Build Variant” dropdown.\n<img src=\"https://github.com/shorebirdtech/docs/assets/581764/91b68c2c-7cee-44f1-a78a-eec443c353a3\" alt=\"Screenshot 2023-10-06 at 1 15 14 PM\"></p>\n<div><p>Attempting to build with a non-release build variant will not be able to resolve\nFlutter symbols in your app.</p></div>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"submit-your-app-to-the-play-store\">Submit your app to the Play Store</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#submit-your-app-to-the-play-store\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>We won’t cover this step in detail here, but this is where you would submit your\napp to the Play Store. For code push to work, it is important that you submit\n<em>with the same <code dir=\"auto\">aar</code> generated by the release command above</em>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"verify-that-shorebird-is-working-with-a-patch\">Verify that Shorebird is working with a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/hybrid-apps/android/#verify-that-shorebird-is-working-with-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Make an edit to the code in your Flutter module. Then run:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">aar</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.2.3+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch aar --release-version 1.2.3+1\"><div></div></button></div></figure></div>\n\n<p>As with the <code dir=\"auto\">release</code> command, the release version should be the version of the\nAndroid app that uses this module.</p>\n<p>Now relaunch the app, navigate to the Flutter screen, and verify that the patch\nis recognized and applied. In logcat, you should see output like the following:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">[INFO:shorebird.cc(109)] Shorebird updater: no active patch.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">[INFO:shorebird.cc(113)] Starting Shorebird update</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">updater::network: Sending patch check request: PatchCheckRequest { app_id: \"baad0583-6810-44a7-9034-6aadb8127f29\", channel: \"stable\", release_version: \"1.0.0+8\", patch_number: None, platform: \"android\", arch: \"aarch64\" }</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">updater::updater: Patch 1 successfully installed.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">updater::updater: Update thread finished with status: Update installed</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"[INFO:shorebird.cc(109)] Shorebird updater: no active patch.[INFO:shorebird.cc(113)] Starting Shorebird updateupdater::network: Sending patch check request: PatchCheckRequest { app_id: &quot;baad0583-6810-44a7-9034-6aadb8127f29&quot;, channel: &quot;stable&quot;, release_version: &quot;1.0.0+8&quot;, patch_number: None, platform: &quot;android&quot;, arch: &quot;aarch64&quot; }updater::updater: Patch 1 successfully installed.updater::updater: Update thread finished with status: Update installed\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#_top",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#prerequisites",
      "https://docs.shorebird.dev/code-push/initialize",
      "https://github.com/shorebirdtech/samples/tree/main/add_to_app",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#add-shorebird-to-your-flutter-module",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#create-a-shorebird-release",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#update-your-android-app-to-use-the-downloadshorebirddev-maven-repository",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#update-your-android-app-to-use-this-version-of-the-flutter-module",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#verify-that-your-app-runs",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#submit-your-app-to-the-play-store",
      "https://docs.shorebird.dev/guides/hybrid-apps/android/#verify-that-shorebird-is-working-with-a-patch"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/hybrid-apps/android/#_top)\n\n# Code Push for Android Hybrid Apps\n\nThis guide explains how to use Shorebird in an Android hybrid app scenario (that is, your app embeds Flutter UI in non-Flutter UI).\n\n## Prerequisites\n\nThis guide assumes you have already have an Android app and a Flutter module. Our Android app will be named `android_app` and our Flutter module will be named `flutter_module`.\n\nThis guide also assumes that you have created a Shorebird account. If you have not, please see our [code push guide](https://docs.shorebird.dev/code-push/initialize) for instructions.\n\nThe reference code for this guide is available at [https://github.com/shorebirdtech/samples/tree/main/add\\_to\\_app](https://github.com/shorebirdtech/samples/tree/main/add_to_app).\n\n## Add Shorebird to your Flutter module\n\nFirst, run `shorebird init` in your Flutter module:\n\n```\n\nshorebird init\n```\n\n## Create a Shorebird release\n\nCreate a Shorebird release for your Flutter module:\n\n```\n\nshorebird release aar --release-version 1.2.3+1\n```\n\nThe `release-version` parameter needs to match the version of the Android app\nthat uses this module (i.e., `versionName+versionCode` from the app’s\n`app/build.gradle` file).\n\n## Update your Android app to use the `download.shorebird.dev` Maven repository\n\nIn `settings.gradle`:\n\n```\n\ndependencyResolutionManagement {\n\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n\n    repositories {\n\n        google()\n\n        mavenCentral()\n\n        maven {\n\n           // This is a relative path from this settings.gradle file to the\n\n           // my_flutter_module/build/host/outputs/repo directory.\n\n           url '../my_flutter_module/release'\n\n       }\n\n       maven {\n\n           url 'https://storage.googleapis.com/download.flutter.io'\n\n           url 'https://download.shorebird.dev/download.flutter.io'\n\n      }\n\n    }\n\n}\n```\n\n## Update your Android app to use this version of the Flutter module\n\nIn `app/build.gradle`, add the following:\n\n```\n\nbuildTypes {\n\n    release {\n\n        // ...\n\n        // The Dart compiler builds libapp.so directly (does not use clang),and already strips\n\n        // symbols. However when llvm-strip is run on libapp.so, the symbols are re-sorted\n\n        // causing the hash of the library to change (which can confuse Shorebird tools).\n\n        // This line tells gradle to skip the unnecessary llvm-strip step for libapp.so\n\n        // thus ensuring that the libapp.so that Shorebird sees is byte-identical to the one\n\n        // which ends up in the APK/AAR/AAB.\n\n        packaging.jniLibs.keepDebugSymbols.add(\"**/libapp.so\")\n\n        // ...\n\n    }\n\n}\n\ndependencies {\n\n    // ...\n\n    releaseImplementation 'com.example.my_flutter_module:flutter_release:1.0'\n\n    // ...\n\n}\n```\n\n## Verify that your app runs\n\nIn Android Studio, update the active build variant to release and run your app.\nYour app should work as before with no differences.\n\nTo set the active build variant to release, click on the “Build Variants” tab in\nthe lower left corner of Android Studio. Then select “release” from the\n“Active Build Variant” dropdown.\n![Screenshot 2023-10-06 at 1 15 14 PM](https://github.com/shorebirdtech/docs/assets/581764/91b68c2c-7cee-44f1-a78a-eec443c353a3)\n\nAttempting to build with a non-release build variant will not be able to resolve\nFlutter symbols in your app.\n\n## Submit your app to the Play Store\n\nWe won’t cover this step in detail here, but this is where you would submit your\napp to the Play Store. For code push to work, it is important that you submit\n_with the same `aar` generated by the release command above_.\n\n## Verify that Shorebird is working with a patch\n\nMake an edit to the code in your Flutter module. Then run:\n\n```\n\nshorebird patch aar --release-version 1.2.3+1\n```\n\nAs with the `release` command, the release version should be the version of the\nAndroid app that uses this module.\n\nNow relaunch the app, navigate to the Flutter screen, and verify that the patch\nis recognized and applied. In logcat, you should see output like the following:\n\n```\n\n[INFO:shorebird.cc(109)] Shorebird updater: no active patch.\n\n[INFO:shorebird.cc(113)] Starting Shorebird update\n\nupdater::network: Sending patch check request: PatchCheckRequest { app_id: \"baad0583-6810-44a7-9034-6aadb8127f29\", channel: \"stable\", release_version: \"1.0.0+8\", patch_number: None, platform: \"android\", arch: \"aarch64\" }\n\nupdater::updater: Patch 1 successfully installed.\n\nupdater::updater: Update thread finished with status: Update installed\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/hybrid-apps/android/",
      "ogUrl": "https://docs.shorebird.dev/guides/hybrid-apps/android/",
      "title": "Code Push for Android Hybrid Apps | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/hybrid-apps/android/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Code Push for Android Hybrid Apps",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Code Push for Android Hybrid Apps",
      "ogLocale": "en",
      "scrapeId": "1c501cda-8249-49c3-8936-43e8f859cb20",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/hybrid-apps/android/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Use code push in an hybrid app scenario with an Android app",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Use code push in an hybrid app scenario with an Android app",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Use code push in an hybrid app scenario with an Android app"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Crashlytics Integration</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>If you’re using Crashlytics for crash reporting, it will work out-of-the-box\nwith Shorebird releases and patches. However, if you have multiple patches, it\ncan be unclear which patch caused the crash. This document shows how you can use\nCrashlytics to differentiate between patches.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-the-shorebird_code_push-package-to-your-project\">Add the <code dir=\"auto\">shorebird_code_push</code> package to your project.</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#add-the-shorebird_code_push-package-to-your-project\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p><a href=\"https://pub.dev/packages/shorebird_code_push\">shorebird_code_push</a> is available\non pub.dev and lets you programmatically determine your app’s current patch\nnumber. To add it to your project, follow the instructions on the package’s\npub.dev page.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"configure-crashlytics\">Configure Crashlytics</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#configure-crashlytics\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you haven’t already, follow the Crashlytics <a href=\"https://firebase.google.com/docs/crashlytics/get-started?platform=flutter\">getting started with\nFlutter</a> guide.</p>\n<p>Update the Firebase init code to include the patch number as a custom key. This will look\nsomething like:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"dart\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#4EC9B0;--1:#005CC5\">Future</span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#BF3441\">void</span><span style=\"--0:#D4D4D4;--1:#24292E\">&gt; </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">main</span><span style=\"--0:#D4D4D4;--1:#24292E\">() </span><span style=\"--0:#C586C0;--1:#BF3441\">async</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#4EC9B0;--1:#005CC5\">WidgetsFlutterBinding</span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">ensureInitialized</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">Firebase</span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">initializeApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">options</span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">DefaultFirebaseOptions</span><span style=\"--0:#D4D4D4;--1:#24292E\">.currentPlatform,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> patchNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">ShorebirdCodePush</span><span style=\"--0:#D4D4D4;--1:#24292E\">().</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">currentPatchNumber</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#74A061;--1:#616972\">// Add the patch number as a tag. You can use whatever name you would like</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#74A061;--1:#616972\">// as the key. `$patchNumber` will be \"null\" if there is no patch. You may</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#74A061;--1:#616972\">// wish to handle this case differently.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#4EC9B0;--1:#005CC5\">FirebaseCrashlytics</span><span style=\"--0:#D4D4D4;--1:#24292E\">.instance.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">setCustomKey</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#CE9178;--1:#032F62\">'shorebird_patch_number'</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">    </span><span style=\"--0:#CE9178;--1:#032F62\">'</span><span style=\"--0:#D4D4D4;--1:#032F62\">$</span><span style=\"--0:#9CDCFE;--1:#005CC5\">patchNumber</span><span style=\"--0:#CE9178;--1:#032F62\">'</span><span style=\"--0:#D4D4D4;--1:#24292E\">,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">runApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#569CD6;--1:#BF3441\">const</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">MyApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">());</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Future<void> main() async {  WidgetsFlutterBinding.ensureInitialized();  await Firebase.initializeApp(    options: DefaultFirebaseOptions.currentPlatform,  );  final patchNumber = await ShorebirdCodePush().currentPatchNumber();  // Add the patch number as a tag. You can use whatever name you would like  // as the key. `$patchNumber` will be &quot;null&quot; if there is no patch. You may  // wish to handle this case differently.  FirebaseCrashlytics.instance.setCustomKey(    'shorebird_patch_number',    '$patchNumber',  );  runApp(const MyApp());}\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#_top",
      "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#add-the-shorebird_code_push-package-to-your-project",
      "https://pub.dev/packages/shorebird_code_push",
      "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#configure-crashlytics",
      "https://firebase.google.com/docs/crashlytics/get-started?platform=flutter"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/#_top)\n\n# Crashlytics Integration\n\nIf you’re using Crashlytics for crash reporting, it will work out-of-the-box\nwith Shorebird releases and patches. However, if you have multiple patches, it\ncan be unclear which patch caused the crash. This document shows how you can use\nCrashlytics to differentiate between patches.\n\n## Add the `shorebird_code_push` package to your project.\n\n[shorebird\\_code\\_push](https://pub.dev/packages/shorebird_code_push) is available\non pub.dev and lets you programmatically determine your app’s current patch\nnumber. To add it to your project, follow the instructions on the package’s\npub.dev page.\n\n## Configure Crashlytics\n\nIf you haven’t already, follow the Crashlytics [getting started with\\\\\nFlutter](https://firebase.google.com/docs/crashlytics/get-started?platform=flutter) guide.\n\nUpdate the Firebase init code to include the patch number as a custom key. This will look\nsomething like:\n\n```\n\nFuture<void> main() async {\n\n  WidgetsFlutterBinding.ensureInitialized();\n\n  await Firebase.initializeApp(\n\n    options: DefaultFirebaseOptions.currentPlatform,\n\n  );\n\n  final patchNumber = await ShorebirdCodePush().currentPatchNumber();\n\n  // Add the patch number as a tag. You can use whatever name you would like\n\n  // as the key. `$patchNumber` will be \"null\" if there is no patch. You may\n\n  // wish to handle this case differently.\n\n  FirebaseCrashlytics.instance.setCustomKey(\n\n    'shorebird_patch_number',\n\n    '$patchNumber',\n\n  );\n\n  runApp(const MyApp());\n\n}\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/",
      "ogUrl": "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/",
      "title": "Crashlytics Integration | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Crashlytics Integration",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Crashlytics Integration",
      "ogLocale": "en",
      "scrapeId": "3c7fa615-7845-4749-b467-c4b571c20edb",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/crash-reporting/integrations/crashlytics/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Integrate Shorebird into your Crashlytics crash reporting",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Integrate Shorebird into your Crashlytics crash reporting",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Integrate Shorebird into your Crashlytics crash reporting"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/flavors/ios/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">iOS / macOS Flavors</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>This guide will walk through how to setup an app in which there are 2 flavors: <code dir=\"auto\">internal</code> and <code dir=\"auto\">stable</code>. It will cover how to validate a patch on the internal flavor and then promote the patch to the stable flavor on iOS.</p>\n<p>This guide was originally written for iOS, but the same steps can be applied to macOS.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"prerequisites\">Prerequisites</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#prerequisites\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>This guide assumes the Shorebird command-line is installed on your machine and that you are logged into an account. Refer to the <a href=\"https://docs.shorebird.dev/\">getting started</a> instructions for more information.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-project\">Create a Project</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#create-a-project\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n\n<p>Create a new project using <code dir=\"auto\">flutter create flavors</code>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"configure-flavors\">Configure Flavors</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#configure-flavors\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, edit the iOS project to support two flavors: <code dir=\"auto\">internal</code> and <code dir=\"auto\">stable</code> by following the instructions in the <a href=\"https://docs.flutter.dev/deployment/flavors#creating-flavors-in-ios\">Flutter documentation</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"initialize-shorebird\">Initialize Shorebird</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#initialize-shorebird\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, initialize Shorebird in the current project via <code dir=\"auto\">shorebird init</code>.</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">init</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird init\"><div></div></button></div></figure></div>\n<p>The generated <code dir=\"auto\">shorebird.yaml</code> should look something like:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"yaml\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file is used to configure the Shorebird updater used by your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Learn more at https://shorebird.dev</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This file should be checked into version control.</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># This is the unique identifier assigned to your app.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># It is used by your app to request the correct patches from Shorebird servers.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">app_id</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#569CD6;--1:#1E7734\">flavors</span><span style=\"--0:#D4D4D4;--1:#24292E\">:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">internal</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#1E7734\">stable</span><span style=\"--0:#D4D4D4;--1:#24292E\">: </span><span style=\"--0:#CE9178;--1:#032F62\">904bd3d5-3526-4c1c-a832-7ac23c95302d</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"# This file is used to configure the Shorebird updater used by your application.# Learn more at https://shorebird.dev# This file should be checked into version control.# This is the unique identifier assigned to your app.# It is used by your app to request the correct patches from Shorebird servers.app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76flavors:  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d\"><div></div></button></div></figure></div>\n<p>Since the project contains flavors, <code dir=\"auto\">shorebird init</code> generates an app per flavor.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"create-a-release\">Create a release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#create-a-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that we’ve created our apps on shorebird, we need to create releases (one for each flavor). To create a release, we’ll use the <code dir=\"auto\">shorebird release ios</code> command.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for the internal flavor</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">internal</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Create a release for the stable flavor</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">release</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">stable</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird release ios --flavor internalshorebird release ios --flavor stable\"><div></div></button></div></figure></div>\n<p>We can verify the releases were created successfully by visiting <a href=\"https://console.shorebird.dev/\">Shorebird console</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"preview-the-release\">Preview the release</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#preview-the-release\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Next, preview the app release locally on a device or emulator, use <code dir=\"auto\">shorebird preview</code>.</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Preview the release for the internal flavor.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--app-id</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ee322dc4-3dc2-4324-90a9-04c40a62ae76</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.0.0+1</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#74A061;--1:#616972\"># Preview the release for the stable flavor.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">preview</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--app-id</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">904bd3d5-3526-4c1c-a832-7ac23c95302d</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--release-version</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">1.0.0+1</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird preview --app-id ee322dc4-3dc2-4324-90a9-04c40a62ae76 --release-version 1.0.0+1shorebird preview --app-id 904bd3d5-3526-4c1c-a832-7ac23c95302d --release-version 1.0.0+1\"><div></div></button></div></figure></div>\n\n<p>This will download the releases and run them on your device.</p>\n<p>In addition to previewing the releases locally, you should also <a href=\"https://docs.shorebird.dev/guides/submitting/app-store#upload-to-the-app-store\">submit the\ngenerated app bundles to the App\nStore</a>. In this case, both apps can\nbe part of the internal test flavor and only the stable variant should be\npromoted to production.</p>\n\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-a-patch\">Creating a patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#creating-a-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Now that we have our internal and stable releases on the Play Store, we can create a patch using <code dir=\"auto\">shorebird patch ios</code>. For the sake of this example, let’s adjust the app theme to use <code dir=\"auto\">deepOrange</code> as the seed color in <code dir=\"auto\">lib/main.dart</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">class MyApp extends StatelessWidget {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">const MyApp({super.key});</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This widget is the root of your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">@override</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">Widget build(BuildContext context) {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">return MaterialApp(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">title: 'Flutter Demo',</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">theme: ThemeData(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This is the theme of your application.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// TRY THIS: Try running your application with \"flutter run\". You'll see</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// the application has a blue toolbar. Then, without quitting the app,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// try changing the seedColor in the colorScheme below to Colors.green</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// and then invoke \"hot reload\" (save your changes or press the \"hot</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// reload\" button in a Flutter-supported IDE, or press \"r\" if you used</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// the command line to start the app).</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// Notice that the counter didn't reset back to zero; the application</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// state is not lost during the reload. To reset the state, use hot</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// restart instead.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">//</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// This works for code too, not just values: Most code changes can be</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">// tested with just a hot reload.</span></div></div><div class=\"ec-line highlight del\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">useMaterial3: true,</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">home: const MyHomePage(title: 'Flutter Demo Home Page'),</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"class MyApp extends StatelessWidget {  const MyApp({super.key});  // This widget is the root of your application.  @override  Widget build(BuildContext context) {    return MaterialApp(      title: 'Flutter Demo',      theme: ThemeData(        // This is the theme of your application.        //        // TRY THIS: Try running your application with &quot;flutter run&quot;. You'll see        // the application has a blue toolbar. Then, without quitting the app,        // try changing the seedColor in the colorScheme below to Colors.green        // and then invoke &quot;hot reload&quot; (save your changes or press the &quot;hot        // reload&quot; button in a Flutter-supported IDE, or press &quot;r&quot; if you used        // the command line to start the app).        //        // Notice that the counter didn't reset back to zero; the application        // state is not lost during the reload. To reset the state, use hot        // restart instead.        //        // This works for code too, not just values: Most code changes can be        // tested with just a hot reload.        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),        useMaterial3: true,      ),      home: const MyHomePage(title: 'Flutter Demo Home Page'),    );  }}\"><div></div></button></div></figure></div>\n<p>Now that we’ve applied the changes, let’s patch the <code dir=\"auto\">internal</code> variant:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">internal</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch ios --flavor internal\"><div></div></button></div></figure></div>\n<p>We can validate the patch by visiting <a href=\"https://console.shorebird.dev/\">Shorebird console</a> then select the internal release or re-launching the internal release.</p>\n\n<p>The first time the app is re-launched, we should still see the purple theme and Shorebird will detect and install the patch in the background. Kill and re-launch the app a second time to see the applied patch.</p>\n<p>If all went well, you should see the patch was applied after re-launching the app a second time. All devices that have the internal variant of the app installed should also receive the patch 🎉</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"promote-the-patch\">Promote the patch</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#promote-the-patch\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Once you have validated the patch internally, you can promote the patch to the stable variant via:</p>\n<div class=\"expressive-code\"><figure class=\"frame is-terminal not-content\"><pre data-language=\"sh\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#DCDCAA;--1:#6F42C1\">shorebird</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">patch</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">ios</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#569CD6;--1:#005CC5\">--flavor</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">stable</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"shorebird patch ios --flavor stable\"><div></div></button></div></figure></div>\n<p>At this point, you have a setup which allows you to push patches to internal testers before promoting them to production 🎉</p>\n<p>The full source code for this example can be found <a href=\"https://github.com/shorebirdtech/samples/tree/main/flavors\">here</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"adding-new-flavors\">Adding new flavors</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/flavors/ios/#adding-new-flavors\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you want to add a new flavor to your project after initializing Shorebird, you can do so by following the same steps as before.</p>\n<p>Edit the iOS project to add a third flavor, <code dir=\"auto\">beta</code>, by following the instructions in the <a href=\"https://docs.flutter.dev/deployment/flavors#creating-flavors-in-ios\">Flutter documentation</a>.</p>\n<p>Add this to your <code dir=\"auto\">shorebird.yaml</code> by running <code dir=\"auto\">shorebird init</code>:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"plaintext\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">$ shorebird init</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Detecting product flavors (0.6s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">New flavors detected: beta</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Fetching apps (0.1s)</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#d4d4d4;--1:#24292e\">✓ Flavors added to shorebird.yaml (0.2s)</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ shorebird init✓ Detecting product flavors (0.6s)New flavors detected: beta✓ Fetching apps (0.1s)✓ Flavors added to shorebird.yaml (0.2s)\"><div></div></button></div></figure></div>\n<p>The resulting shorebird yaml:</p>\n<div class=\"expressive-code\"><figure class=\"frame not-content\"><pre data-language=\"diff\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">flavors:</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d</span></div></div><div class=\"ec-line highlight ins\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\"> </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">beta: a41f8226-4b46-45d6-9e19-b14d0cf17bdc</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"app_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76flavors:  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d beta: a41f8226-4b46-45d6-9e19-b14d0cf17bdc\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/flavors/ios/#_top",
      "https://docs.shorebird.dev/guides/flavors/ios/#prerequisites",
      "https://docs.shorebird.dev/",
      "https://docs.shorebird.dev/guides/flavors/ios/#create-a-project",
      "https://docs.shorebird.dev/guides/flavors/ios/#configure-flavors",
      "https://docs.flutter.dev/deployment/flavors#creating-flavors-in-ios",
      "https://docs.shorebird.dev/guides/flavors/ios/#initialize-shorebird",
      "https://docs.shorebird.dev/guides/flavors/ios/#create-a-release",
      "https://console.shorebird.dev/",
      "https://docs.shorebird.dev/guides/flavors/ios/#preview-the-release",
      "https://docs.shorebird.dev/guides/submitting/app-store#upload-to-the-app-store",
      "https://docs.shorebird.dev/guides/flavors/ios/#creating-a-patch",
      "https://docs.shorebird.dev/guides/flavors/ios/#promote-the-patch",
      "https://github.com/shorebirdtech/samples/tree/main/flavors",
      "https://docs.shorebird.dev/guides/flavors/ios/#adding-new-flavors"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/flavors/ios/#_top)\n\n# iOS / macOS Flavors\n\nThis guide will walk through how to setup an app in which there are 2 flavors: `internal` and `stable`. It will cover how to validate a patch on the internal flavor and then promote the patch to the stable flavor on iOS.\n\nThis guide was originally written for iOS, but the same steps can be applied to macOS.\n\n## Prerequisites\n\nThis guide assumes the Shorebird command-line is installed on your machine and that you are logged into an account. Refer to the [getting started](https://docs.shorebird.dev/) instructions for more information.\n\n## Create a Project\n\nCreate a new project using `flutter create flavors`.\n\n## Configure Flavors\n\nNext, edit the iOS project to support two flavors: `internal` and `stable` by following the instructions in the [Flutter documentation](https://docs.flutter.dev/deployment/flavors#creating-flavors-in-ios).\n\n## Initialize Shorebird\n\nNext, initialize Shorebird in the current project via `shorebird init`.\n\n```\n\nshorebird init\n```\n\nThe generated `shorebird.yaml` should look something like:\n\n```\n\n# This file is used to configure the Shorebird updater used by your application.\n\n# Learn more at https://shorebird.dev\n\n# This file should be checked into version control.\n\n# This is the unique identifier assigned to your app.\n\n# It is used by your app to request the correct patches from Shorebird servers.\n\napp_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\nflavors:\n\n  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\n  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d\n```\n\nSince the project contains flavors, `shorebird init` generates an app per flavor.\n\n## Create a release\n\nNow that we’ve created our apps on shorebird, we need to create releases (one for each flavor). To create a release, we’ll use the `shorebird release ios` command.\n\n```\n\n# Create a release for the internal flavor\n\nshorebird release ios --flavor internal\n\n# Create a release for the stable flavor\n\nshorebird release ios --flavor stable\n```\n\nWe can verify the releases were created successfully by visiting [Shorebird console](https://console.shorebird.dev/).\n\n## Preview the release\n\nNext, preview the app release locally on a device or emulator, use `shorebird preview`.\n\n```\n\n# Preview the release for the internal flavor.\n\nshorebird preview --app-id ee322dc4-3dc2-4324-90a9-04c40a62ae76 --release-version 1.0.0+1\n\n# Preview the release for the stable flavor.\n\nshorebird preview --app-id 904bd3d5-3526-4c1c-a832-7ac23c95302d --release-version 1.0.0+1\n```\n\nThis will download the releases and run them on your device.\n\nIn addition to previewing the releases locally, you should also [submit the\\\\\ngenerated app bundles to the App\\\\\nStore](https://docs.shorebird.dev/guides/submitting/app-store#upload-to-the-app-store). In this case, both apps can\nbe part of the internal test flavor and only the stable variant should be\npromoted to production.\n\n## Creating a patch\n\nNow that we have our internal and stable releases on the Play Store, we can create a patch using `shorebird patch ios`. For the sake of this example, let’s adjust the app theme to use `deepOrange` as the seed color in `lib/main.dart`:\n\n```\n\nclass MyApp extends StatelessWidget {\n\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n\n  @override\n\n  Widget build(BuildContext context) {\n\n    return MaterialApp(\n\n      title: 'Flutter Demo',\n\n      theme: ThemeData(\n\n        // This is the theme of your application.\n\n        //\n\n        // TRY THIS: Try running your application with \"flutter run\". You'll see\n\n        // the application has a blue toolbar. Then, without quitting the app,\n\n        // try changing the seedColor in the colorScheme below to Colors.green\n\n        // and then invoke \"hot reload\" (save your changes or press the \"hot\n\n        // reload\" button in a Flutter-supported IDE, or press \"r\" if you used\n\n        // the command line to start the app).\n\n        //\n\n        // Notice that the counter didn't reset back to zero; the application\n\n        // state is not lost during the reload. To reset the state, use hot\n\n        // restart instead.\n\n        //\n\n        // This works for code too, not just values: Most code changes can be\n\n        // tested with just a hot reload.\n\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepOrange),\n\n        useMaterial3: true,\n\n      ),\n\n      home: const MyHomePage(title: 'Flutter Demo Home Page'),\n\n    );\n\n  }\n\n}\n```\n\nNow that we’ve applied the changes, let’s patch the `internal` variant:\n\n```\n\nshorebird patch ios --flavor internal\n```\n\nWe can validate the patch by visiting [Shorebird console](https://console.shorebird.dev/) then select the internal release or re-launching the internal release.\n\nThe first time the app is re-launched, we should still see the purple theme and Shorebird will detect and install the patch in the background. Kill and re-launch the app a second time to see the applied patch.\n\nIf all went well, you should see the patch was applied after re-launching the app a second time. All devices that have the internal variant of the app installed should also receive the patch 🎉\n\n## Promote the patch\n\nOnce you have validated the patch internally, you can promote the patch to the stable variant via:\n\n```\n\nshorebird patch ios --flavor stable\n```\n\nAt this point, you have a setup which allows you to push patches to internal testers before promoting them to production 🎉\n\nThe full source code for this example can be found [here](https://github.com/shorebirdtech/samples/tree/main/flavors).\n\n## Adding new flavors\n\nIf you want to add a new flavor to your project after initializing Shorebird, you can do so by following the same steps as before.\n\nEdit the iOS project to add a third flavor, `beta`, by following the instructions in the [Flutter documentation](https://docs.flutter.dev/deployment/flavors#creating-flavors-in-ios).\n\nAdd this to your `shorebird.yaml` by running `shorebird init`:\n\n```\n\n$ shorebird init\n\n✓ Detecting product flavors (0.6s)\n\nNew flavors detected: beta\n\n✓ Fetching apps (0.1s)\n\n✓ Flavors added to shorebird.yaml (0.2s)\n```\n\nThe resulting shorebird yaml:\n\n```\n\napp_id: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\nflavors:\n\n  internal: ee322dc4-3dc2-4324-90a9-04c40a62ae76\n\n  stable: 904bd3d5-3526-4c1c-a832-7ac23c95302d\n\n beta: a41f8226-4b46-45d6-9e19-b14d0cf17bdc\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/flavors/ios/",
      "ogUrl": "https://docs.shorebird.dev/guides/flavors/ios/",
      "title": "iOS / macOS Flavors | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/flavors/ios/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "iOS / macOS Flavors",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "iOS / macOS Flavors",
      "ogLocale": "en",
      "scrapeId": "90bb738d-b0b6-4b81-9c05-2a9feeb08a72",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/flavors/ios/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Push patches to multiple flavors on iOS and macOS",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Push patches to multiple flavors on iOS and macOS",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Push patches to multiple flavors on iOS and macOS"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/orgs/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Organizations</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>Shorebird’s Pro tier unlocks new features for collaborating with your peers\nincluding:</p>\n<ul>\n<li>Creating unlimited organizations</li>\n<li>Adding unlimited members to your organizations</li>\n<li>Managing roles for your organization members</li>\n<li>Adding unlimited collaborators to an individual app</li>\n<li>Managing roles for your app collaborators</li>\n</ul>\n<p>Shorebird free “Hobby” users can upgrade to the Pro tier to add these features\nvia the account settings page in the <a href=\"https://console.shorebird.dev/account\">Shorebird console</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"upgrading-to-pro\">Upgrading to Pro</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#upgrading-to-pro\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>You can manage your account and billing at any time via\n<a href=\"https://console.shorebird.dev/account\">https://console.shorebird.dev/account</a></p>\n<p>There is an “Edit” drop-down there, and from within that an “Upgrade Account”\noption which will present you a pop-up dialog and allow you to upgrade to the “Pro” plan.</p>\n<p>If you do not see the plan you’re expecting, please reach out to\n<a href=\"mailto:contact@shorebird.dev\">contact@shorebird.dev</a> we’d be happy to work with you.</p>\n<p>Once you’ve upgraded to the Pro plan, you have the ability to use the above\nfeatures.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"creating-an-organization\">Creating an Organization</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#creating-an-organization\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Organizations are a way share groups of apps with groups of people. To create an\norganization, visit the Shorebird console and click the account dropdown in the\ntop left corner. From there, click the ”+” button next to “Organizations”.</p>\n<p><img src=\"https://github.com/user-attachments/assets/6117e85f-ff07-4ffa-9683-3b4543f252d1\" alt=\"Create\nOrganization\"></p>\n<p>This will automatically create a new organization called “My Organization”. You\ncan head over to the organization’s settings to change the name:</p>\n<p><img src=\"https://github.com/user-attachments/assets/c33eda7c-bdd3-4ef2-ab0e-cbcaadbdd99f\" alt=\"Rename\nOrganization\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"managing-organization-members\">Managing Organization Members</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#managing-organization-members\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>To add one or more members to your organization, visit the organization’s\nsettings and click the “Add member” button.</p>\n<p><img src=\"https://github.com/user-attachments/assets/584703fc-d20d-49b2-8358-b3b187c7fefc\" alt=\"Add\nMember\"></p>\n<p>You can also edit a member’s role or remove them from the organization from the\nsame organization settings page.</p>\n<p><img src=\"https://github.com/user-attachments/assets/4936b211-23d8-4a44-90e6-06fab421a4f4\" alt=\"Organization Settings with new\nMember\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"managing-organization-apps\">Managing Organization Apps</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#managing-organization-apps\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Organizations can have multiple apps associated with them. You can either\ntransfer existing apps to an organization or create new apps within the\norganization directly.</p>\n<p>To transfer an existing app to an organization, visit the app’s settings and\nclick the “Transfer app” button. You can then select the organization you want\nto transfer the app to from the dropdown.</p>\n<p><img src=\"https://github.com/user-attachments/assets/9d7c5428-ebfd-4c9c-9777-4ca06da8d962\" alt=\"Transfer\nApp\"></p>\n<p>To create a new app within an organization, select the organization when running\n<code dir=\"auto\">shorebird init</code>:</p>\n<p><img src=\"https://github.com/user-attachments/assets/6a07fb1f-1fc6-4b41-9df8-60a50c42b475\" alt=\"Shorebird Init with\nOrganization\"></p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"organization-roles\">Organization Roles</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#organization-roles\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Organization roles apply to all apps within the organization and can be managed\nvia the organization settings page in the Shorebird console.</p>\n<p>If you have any questions about access control for your app, please do not\nhesitate to reach out to <a href=\"mailto:contact@shorebird.dev\">contact@shorebird.dev</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"organization-member\">Organization Member</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#organization-member\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>New members added to an organization are assigned the “Member” role by default.</p>\n<p>Members can:</p>\n<ul>\n<li>Read information for all apps within the organization</li>\n<li>View collaborators on all apps within the organization</li>\n<li>Create releases and patches for all apps within the organization</li>\n<li>View insights for all apps within the organization</li>\n</ul>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"organization-admin\">Organization Admin</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#organization-admin\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Organization Admins can:</p>\n<ul>\n<li>Do everything a Member can do</li>\n<li>Add and Remove Members for the organization</li>\n<li>Delete Apps within the organization</li>\n<li>Delete Releases within the organization</li>\n</ul>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"organization-owner\">Organization Owner</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#organization-owner\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>There is only one owner per organization (the person who created the\norganization) and they have full control over the organization and all apps\nwithin it.</p>\n<p>The owner can:</p>\n<ul>\n<li>Do everything an Admin can do</li>\n<li>Manage the billing information for the organization</li>\n</ul>\n<p>If you need more control or custom roles, consider our <a href=\"https://shorebird.dev/pricing\">enterprise plan</a>.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"managing-collaborators\">Managing Collaborators</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#managing-collaborators\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Per app collaborators can also be added and managed via the Shorebird console.\nTo add a collaborator, from your app’s page:</p>\n<ol>\n<li>Select the “Collaborators” tab.</li>\n<li>Click “Add people”.</li>\n<li>Enter the email address of the person you would like to add as a\ncollaborator.\n<ol>\n<li>Note that the email address must be associated with an existing Shorebird\naccount.</li>\n</ol>\n</li>\n<li>Click “Add Collaborator”.</li>\n</ol>\n<p>Existing collaborators can be removed by clicking the trash icon next to their\nemail address.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"collaborator-roles\">Collaborator Roles</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#collaborator-roles\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>Collaborators are used for per-app access controls. Typically used to provide\nsomeone temporary access to only one of your applications.</p>\n<p>Collaborators allow you to provide access to one of your apps without granting\nsomeone access to all of the apps in an organization.</p>\n<p>Collaborators can be added both to apps within your personal account as well as\non any organization which you are a member of.</p>\n<p>Collaborators can see the existence of an organization and its name, but cannot\nsee any other aspects of an organization.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"app-developer\">App Developer</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#app-developer\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The Developer role can:</p>\n<ul>\n<li>Read information for a single app</li>\n<li>View collaborators on that app</li>\n<li>Create releases and patches for that app</li>\n<li>View insights for that app</li>\n</ul>\n<p>Developers can be added and removed by any Admin, see below.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h3\"><h3 id=\"app-admin\">App Admin</h3><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#app-admin\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The Admin role can:</p>\n<ul>\n<li>Do everything a Developer can do</li>\n<li>Add and Remove Developers for an App</li>\n<li>Delete Apps</li>\n<li>Delete Releases</li>\n</ul>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"transferring-ownership\">Transferring Ownership</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/orgs/#transferring-ownership\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>The easiest way to transfer app ownership is to have the desired owner create an\norganization and add the current owner to the organization. The current owner\ncan then transfer the app to the organization.</p>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/orgs/#_top",
      "https://console.shorebird.dev/account",
      "https://docs.shorebird.dev/orgs/#upgrading-to-pro",
      "mailto:contact@shorebird.dev",
      "https://docs.shorebird.dev/orgs/#creating-an-organization",
      "https://docs.shorebird.dev/orgs/#managing-organization-members",
      "https://docs.shorebird.dev/orgs/#managing-organization-apps",
      "https://docs.shorebird.dev/orgs/#organization-roles",
      "https://docs.shorebird.dev/orgs/#organization-member",
      "https://docs.shorebird.dev/orgs/#organization-admin",
      "https://docs.shorebird.dev/orgs/#organization-owner",
      "https://shorebird.dev/pricing",
      "https://docs.shorebird.dev/orgs/#managing-collaborators",
      "https://docs.shorebird.dev/orgs/#collaborator-roles",
      "https://docs.shorebird.dev/orgs/#app-developer",
      "https://docs.shorebird.dev/orgs/#app-admin",
      "https://docs.shorebird.dev/orgs/#transferring-ownership"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/orgs/#_top)\n\n# Organizations\n\nShorebird’s Pro tier unlocks new features for collaborating with your peers\nincluding:\n\n- Creating unlimited organizations\n- Adding unlimited members to your organizations\n- Managing roles for your organization members\n- Adding unlimited collaborators to an individual app\n- Managing roles for your app collaborators\n\nShorebird free “Hobby” users can upgrade to the Pro tier to add these features\nvia the account settings page in the [Shorebird console](https://console.shorebird.dev/account).\n\n## Upgrading to Pro\n\nYou can manage your account and billing at any time via\n[https://console.shorebird.dev/account](https://console.shorebird.dev/account)\n\nThere is an “Edit” drop-down there, and from within that an “Upgrade Account”\noption which will present you a pop-up dialog and allow you to upgrade to the “Pro” plan.\n\nIf you do not see the plan you’re expecting, please reach out to\n[contact@shorebird.dev](mailto:contact@shorebird.dev) we’d be happy to work with you.\n\nOnce you’ve upgraded to the Pro plan, you have the ability to use the above\nfeatures.\n\n## Creating an Organization\n\nOrganizations are a way share groups of apps with groups of people. To create an\norganization, visit the Shorebird console and click the account dropdown in the\ntop left corner. From there, click the ”+” button next to “Organizations”.\n\n![Create Organization](https://github.com/user-attachments/assets/6117e85f-ff07-4ffa-9683-3b4543f252d1)\n\nThis will automatically create a new organization called “My Organization”. You\ncan head over to the organization’s settings to change the name:\n\n![Rename Organization](https://github.com/user-attachments/assets/c33eda7c-bdd3-4ef2-ab0e-cbcaadbdd99f)\n\n## Managing Organization Members\n\nTo add one or more members to your organization, visit the organization’s\nsettings and click the “Add member” button.\n\n![Add Member](https://github.com/user-attachments/assets/584703fc-d20d-49b2-8358-b3b187c7fefc)\n\nYou can also edit a member’s role or remove them from the organization from the\nsame organization settings page.\n\n![Organization Settings with new Member](https://github.com/user-attachments/assets/4936b211-23d8-4a44-90e6-06fab421a4f4)\n\n## Managing Organization Apps\n\nOrganizations can have multiple apps associated with them. You can either\ntransfer existing apps to an organization or create new apps within the\norganization directly.\n\nTo transfer an existing app to an organization, visit the app’s settings and\nclick the “Transfer app” button. You can then select the organization you want\nto transfer the app to from the dropdown.\n\n![Transfer App](https://github.com/user-attachments/assets/9d7c5428-ebfd-4c9c-9777-4ca06da8d962)\n\nTo create a new app within an organization, select the organization when running\n`shorebird init`:\n\n![Shorebird Init with Organization](https://github.com/user-attachments/assets/6a07fb1f-1fc6-4b41-9df8-60a50c42b475)\n\n## Organization Roles\n\nOrganization roles apply to all apps within the organization and can be managed\nvia the organization settings page in the Shorebird console.\n\nIf you have any questions about access control for your app, please do not\nhesitate to reach out to [contact@shorebird.dev](mailto:contact@shorebird.dev).\n\n### Organization Member\n\nNew members added to an organization are assigned the “Member” role by default.\n\nMembers can:\n\n- Read information for all apps within the organization\n- View collaborators on all apps within the organization\n- Create releases and patches for all apps within the organization\n- View insights for all apps within the organization\n\n### Organization Admin\n\nOrganization Admins can:\n\n- Do everything a Member can do\n- Add and Remove Members for the organization\n- Delete Apps within the organization\n- Delete Releases within the organization\n\n### Organization Owner\n\nThere is only one owner per organization (the person who created the\norganization) and they have full control over the organization and all apps\nwithin it.\n\nThe owner can:\n\n- Do everything an Admin can do\n- Manage the billing information for the organization\n\nIf you need more control or custom roles, consider our [enterprise plan](https://shorebird.dev/pricing).\n\n## Managing Collaborators\n\nPer app collaborators can also be added and managed via the Shorebird console.\nTo add a collaborator, from your app’s page:\n\n1. Select the “Collaborators” tab.\n2. Click “Add people”.\n3. Enter the email address of the person you would like to add as a\ncollaborator.\n1. Note that the email address must be associated with an existing Shorebird\n      account.\n4. Click “Add Collaborator”.\n\nExisting collaborators can be removed by clicking the trash icon next to their\nemail address.\n\n## Collaborator Roles\n\nCollaborators are used for per-app access controls. Typically used to provide\nsomeone temporary access to only one of your applications.\n\nCollaborators allow you to provide access to one of your apps without granting\nsomeone access to all of the apps in an organization.\n\nCollaborators can be added both to apps within your personal account as well as\non any organization which you are a member of.\n\nCollaborators can see the existence of an organization and its name, but cannot\nsee any other aspects of an organization.\n\n### App Developer\n\nThe Developer role can:\n\n- Read information for a single app\n- View collaborators on that app\n- Create releases and patches for that app\n- View insights for that app\n\nDevelopers can be added and removed by any Admin, see below.\n\n### App Admin\n\nThe Admin role can:\n\n- Do everything a Developer can do\n- Add and Remove Developers for an App\n- Delete Apps\n- Delete Releases\n\n## Transferring Ownership\n\nThe easiest way to transfer app ownership is to have the desired owner create an\norganization and add the current owner to the organization. The current owner\ncan then transfer the app to the organization.",
    "metadata": {
      "url": "https://docs.shorebird.dev/orgs/",
      "ogUrl": "https://docs.shorebird.dev/orgs/",
      "title": "Organizations | Shorebird",
      "og:url": "https://docs.shorebird.dev/orgs/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Organizations",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Organizations",
      "ogLocale": "en",
      "scrapeId": "ef056ba5-38b5-4525-98f5-671ce4dfac13",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/orgs",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Learn how to manage organizations in Shorebird",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Learn how to manage organizations in Shorebird",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Learn how to manage organizations in Shorebird"
    }
  },
  {
    "html": "<!DOCTYPE html><html lang=\"en\" dir=\"ltr\" data-theme=\"light\" data-has-toc=\"\" data-has-sidebar=\"\" class=\"astro-bguv2lll\"> <body class=\"astro-bguv2lll\"> <a href=\"https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#_top\" class=\"astro-7q3lir66\">Skip to content</a>  <div class=\"page sl-flex astro-vrdttmbt\">   <div class=\"main-frame astro-vrdttmbt\">   <div class=\"lg:sl-flex astro-67yu43on\">  <div class=\"main-pane astro-67yu43on\">  <main data-pagefind-body=\"\" class=\"astro-bguv2lll\" lang=\"en\" dir=\"ltr\">    <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <h1 id=\"_top\" class=\"astro-j6tvhyss\">Sentry Integration</h1>  </div> </div>  <div class=\"content-panel astro-7nkwcw3z\"> <div class=\"sl-container astro-7nkwcw3z\"> <div class=\"sl-markdown-content astro-klj6ju3r\">  <p>If you’re using Sentry for crash reporting, it will work out-of-the-box with\nShorebird releases and patches. However, if you have multiple patches, it can be\nunclear which patch caused the crash. This document shows how you can use Sentry\ntags to differentiate between patches.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"add-the-shorebird_code_push-package-to-your-project\">Add the <code dir=\"auto\">shorebird_code_push</code> package to your project.</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#add-the-shorebird_code_push-package-to-your-project\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p><a href=\"https://pub.dev/packages/shorebird_code_push\">shorebird_code_push</a> is available\non pub.dev and lets you programmatically determine your app’s current patch\nnumber. To add it to your project, follow the instructions on the package’s\npub.dev page.</p>\n<div tabindex=\"-1\" class=\"heading-wrapper level-h2\"><h2 id=\"configure-sentry\">Configure Sentry</h2><a class=\"anchor-link\" href=\"https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#configure-sentry\"><span aria-hidden=\"true\" class=\"anchor-icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"><path fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\"></path></svg></span></a></div>\n<p>If you haven’t already, follow the Sentry <a href=\"https://docs.sentry.io/platforms/flutter/\">getting started with\nFlutter</a> guide.</p>\n<p>Update the Sentry init code to include the patch number as a tag. This will look\nsomething like:</p>\n<div class=\"expressive-code\"><link rel=\"stylesheet\" href=\"/_astro/ec.2iqzv.css\"><figure class=\"frame not-content\"><pre data-language=\"dart\"><code><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#4EC9B0;--1:#005CC5\">Future</span><span style=\"--0:#D4D4D4;--1:#24292E\">&lt;</span><span style=\"--0:#569CD6;--1:#BF3441\">void</span><span style=\"--0:#D4D4D4;--1:#24292E\">&gt; </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">main</span><span style=\"--0:#D4D4D4;--1:#24292E\">() </span><span style=\"--0:#C586C0;--1:#BF3441\">async</span><span style=\"--0:#D4D4D4;--1:#24292E\"> {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#74A061;--1:#616972\">// Get the current patch number. This will be null if no patch is installed.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#569CD6;--1:#BF3441\">final</span><span style=\"--0:#D4D4D4;--1:#24292E\"> patchNumber </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">ShorebirdCodePush</span><span style=\"--0:#D4D4D4;--1:#24292E\">().</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">currentPatchNumber</span><span style=\"--0:#D4D4D4;--1:#24292E\">();</span></div></div><div class=\"ec-line\"><div class=\"code\">\n</div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">  </span><span style=\"--0:#C586C0;--1:#BF3441\">await</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">SentryFlutter</span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">init</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">(options) {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">options.dsn </span><span style=\"--0:#D4D4D4;--1:#BF3441\">=</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#CE9178;--1:#032F62\">'YOUR_DSN'</span><span style=\"--0:#D4D4D4;--1:#24292E\">;</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">},</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">appRunner</span><span style=\"--0:#D4D4D4;--1:#BF3441\">:</span><span style=\"--0:#D4D4D4;--1:#24292E\"> () {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">// Add the patch number as a tag. You can use whatever name you would like</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">// as the key. `$patchNumber` will be \"null\" if there is no patch. You may</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#74A061;--1:#616972\">// wish to handle this case differently.</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#4EC9B0;--1:#005CC5\">Sentry</span><span style=\"--0:#D4D4D4;--1:#24292E\">.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">configureScope</span><span style=\"--0:#D4D4D4;--1:#24292E\">((scope) {</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">        </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">scope.</span><span style=\"--0:#DCDCAA;--1:#6F42C1\">setTag</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#CE9178;--1:#032F62\">'shorebird_patch_number'</span><span style=\"--0:#D4D4D4;--1:#24292E\">, </span><span style=\"--0:#CE9178;--1:#032F62\">'</span><span style=\"--0:#D4D4D4;--1:#032F62\">$</span><span style=\"--0:#9CDCFE;--1:#005CC5\">patchNumber</span><span style=\"--0:#CE9178;--1:#032F62\">'</span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">      </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">});</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\">      </span><span style=\"--0:#C586C0;--1:#BF3441\">return</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#DCDCAA;--1:#6F42C1\">runApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">(</span><span style=\"--0:#569CD6;--1:#BF3441\">const</span><span style=\"--0:#D4D4D4;--1:#24292E\"> </span><span style=\"--0:#4EC9B0;--1:#005CC5\">MyApp</span><span style=\"--0:#D4D4D4;--1:#24292E\">());</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">    </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">},</span></div></div><div class=\"ec-line\"><div class=\"code\"><span class=\"indent\"><span style=\"--0:#D4D4D4;--1:#24292E\">  </span></span><span style=\"--0:#D4D4D4;--1:#24292E\">);</span></div></div><div class=\"ec-line\"><div class=\"code\"><span style=\"--0:#D4D4D4;--1:#24292E\">}</span></div></div></code></pre><div class=\"copy\"><button title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Future<void> main() async {  // Get the current patch number. This will be null if no patch is installed.  final patchNumber = await ShorebirdCodePush().currentPatchNumber();  await SentryFlutter.init(    (options) {      options.dsn = 'YOUR_DSN';    },    appRunner: () {      // Add the patch number as a tag. You can use whatever name you would like      // as the key. `$patchNumber` will be &quot;null&quot; if there is no patch. You may      // wish to handle this case differently.      Sentry.configureScope((scope) {        scope.setTag('shorebird_patch_number', '$patchNumber');      });      return runApp(const MyApp());    },  );}\"><div></div></button></div></figure></div>  </div>    </div> </div>   </main> </div> </div>  </div> </div>  </body></html>",
    "links": [
      "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#_top",
      "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#add-the-shorebird_code_push-package-to-your-project",
      "https://pub.dev/packages/shorebird_code_push",
      "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#configure-sentry",
      "https://docs.sentry.io/platforms/flutter/"
    ],
    "markdown": "[Skip to content](https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/#_top)\n\n# Sentry Integration\n\nIf you’re using Sentry for crash reporting, it will work out-of-the-box with\nShorebird releases and patches. However, if you have multiple patches, it can be\nunclear which patch caused the crash. This document shows how you can use Sentry\ntags to differentiate between patches.\n\n## Add the `shorebird_code_push` package to your project.\n\n[shorebird\\_code\\_push](https://pub.dev/packages/shorebird_code_push) is available\non pub.dev and lets you programmatically determine your app’s current patch\nnumber. To add it to your project, follow the instructions on the package’s\npub.dev page.\n\n## Configure Sentry\n\nIf you haven’t already, follow the Sentry [getting started with\\\\\nFlutter](https://docs.sentry.io/platforms/flutter/) guide.\n\nUpdate the Sentry init code to include the patch number as a tag. This will look\nsomething like:\n\n```\n\nFuture<void> main() async {\n\n  // Get the current patch number. This will be null if no patch is installed.\n\n  final patchNumber = await ShorebirdCodePush().currentPatchNumber();\n\n  await SentryFlutter.init(\n\n    (options) {\n\n      options.dsn = 'YOUR_DSN';\n\n    },\n\n    appRunner: () {\n\n      // Add the patch number as a tag. You can use whatever name you would like\n\n      // as the key. `$patchNumber` will be \"null\" if there is no patch. You may\n\n      // wish to handle this case differently.\n\n      Sentry.configureScope((scope) {\n\n        scope.setTag('shorebird_patch_number', '$patchNumber');\n\n      });\n\n      return runApp(const MyApp());\n\n    },\n\n  );\n\n}\n```",
    "metadata": {
      "url": "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/",
      "ogUrl": "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/",
      "title": "Sentry Integration | Shorebird",
      "og:url": "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/",
      "favicon": {},
      "og:type": "article",
      "ogImage": "https://docs.shorebird.dev/open-graph.png?v=1",
      "ogTitle": "Sentry Integration",
      "language": "en",
      "og:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:title": "Sentry Integration",
      "ogLocale": "en",
      "scrapeId": "f268324f-def4-409d-afdb-3d8fc8ac7ee6",
      "viewport": "width=device-width, initial-scale=1",
      "generator": [
        "Astro v5.1.3",
        "Starlight v0.30.5"
      ],
      "og:locale": "en",
      "sourceURL": "https://docs.shorebird.dev/guides/crash-reporting/integrations/sentry/",
      "ogSiteName": "Shorebird",
      "statusCode": 200,
      "description": "Integrate Shorebird into your Sentry crash reporting",
      "og:site_name": "Shorebird",
      "twitter:card": "summary_large_image",
      "ogDescription": "Integrate Shorebird into your Sentry crash reporting",
      "twitter:image": "https://docs.shorebird.dev/open-graph.png?v=1",
      "og:description": "Integrate Shorebird into your Sentry crash reporting"
    }
  }
]